<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for @uirouter/angularjs"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2020-05-01T23:16:06.318Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - @uirouter/angularjs</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"@uirouter/angularjs","packageVersion":"1.0.26","availableVersions":["0.2.8","0.2.10","0.2.11","0.2.13","0.2.14","0.2.15","0.2.16","0.2.17","0.2.18","0.3.0","0.3.1","0.3.2","0.4.0","0.4.1","0.4.2","0.4.3","1.0.0","1.0.1","1.0.3","1.0.4","1.0.5-SNAPSHOT.20170711","1.0.5","1.0.6-SNAPSHOT.20170812","1.0.6","1.0.7","1.0.8","1.0.9","1.0.10","1.0.11","1.0.12","1.0.13","1.0.14","1.0.15","1.0.16","1.0.17","1.0.18","1.0.19","1.0.20","1.0.21","1.0.22","1.0.23","1.0.24","1.0.25","1.0.26"],"filename":"/release/angular-ui-router.min.js","target":{"path":"/release/angular-ui-router.min.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-gReeqnGuqlu50fSyNhJEicLPSTJgrRCvZi95VAcGF35jyoHqmvSCcl656S2ihhO4","language":"JavaScript","size":115977,"uri":null,"highlights":["<span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\"> * State-based routing for AngularJS 1.x\n</span>","<span class=\"code-comment\"> * NOTICE: This monolithic bundle also bundles the @uirouter/core code.\n</span>","<span class=\"code-comment\"> *         This causes it to be incompatible with plugins that depend on @uirouter/core.\n</span>","<span class=\"code-comment\"> *         We recommend switching to the ui-router-core.js and ui-router-angularjs.js bundles instead.\n</span>","<span class=\"code-comment\"> *         For more information, see https://ui-router.github.io/blog/uirouter-for-angularjs-umd-bundles\n</span>","<span class=\"code-comment\"> * @version v1.0.26\n</span>","<span class=\"code-comment\"> * @link https://ui-router.github.io\n</span>","<span class=\"code-comment\"> * @license MIT License, http://www.opensource.org/licenses/MIT\n</span>","<span class=\"code-comment\"> */</span>\n","!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span>?e(exports,<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"angular\"</span>)):<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> define&amp;&amp;define.amd?define([<span class=\"code-string\">\"exports\"</span>,<span class=\"code-string\">\"angular\"</span>],e):e((t=t||self)[<span class=\"code-string\">\"@uirouter/angularjs\"</span>]={},t.angular)}(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">d,t</span>)</span>{<span class=\"code-string\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e=angular,b=t&amp;&amp;t.module?t:e,n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-number\">0</span>,r=<span class=\"code-built_in\">arguments</span>.length;e&lt;r;e++)t+=<span class=\"code-built_in\">arguments</span>[e].length;<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">Array</span>(t),i=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(e=<span class=\"code-number\">0</span>;e&lt;r;e++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-built_in\">arguments</span>[e],a=<span class=\"code-number\">0</span>,u=o.length;a&lt;u;a++,i++)n[i]=o[a];<span class=\"code-keyword\">return</span> n};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">arguments</span>.length&gt;=r.length)<span class=\"code-keyword\">return</span> r.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>);<span class=\"code-keyword\">return</span> t.bind.apply(t,n([<span class=\"code-keyword\">this</span>],e))}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">arguments</span>,n=r.length<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=n,e=r[n].apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>);t--;)e=r[t].call(<span class=\"code-keyword\">this</span>,e);<span class=\"code-keyword\">return</span> e}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">c</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)t[e]=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">return</span> r.apply(<span class=\"code-literal\">null</span>,[].slice.call(<span class=\"code-built_in\">arguments</span>).reverse())}<span class=\"code-keyword\">var</span> m=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;t[e]}},y=s(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> r&amp;&amp;r[t]===e}),R=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> c.apply(<span class=\"code-literal\">null</span>,t.split(<span class=\"code-string\">\".\"</span>).map(m))},l=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)t[e]=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">return</span>!r.apply(<span class=\"code-literal\">null</span>,t)}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">r,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)t[e]=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">return</span> r.apply(<span class=\"code-literal\">null</span>,t)&amp;&amp;n.apply(<span class=\"code-literal\">null</span>,t)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">r,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)t[e]=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">return</span> r.apply(<span class=\"code-literal\">null</span>,t)||n.apply(<span class=\"code-literal\">null</span>,t)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e===t}}<span class=\"code-keyword\">var</span> a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;!!r(e)},!<span class=\"code-number\">0</span>)}},f=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t||!!r(e)},!<span class=\"code-number\">1</span>)}},h=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!=t&amp;&amp;t.constructor===e||t <span class=\"code-keyword\">instanceof</span> e}},p=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">v</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t[e].apply(t,r)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">g</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;r.length;e++)<span class=\"code-keyword\">if</span>(r[e][<span class=\"code-number\">0</span>](t))<span class=\"code-keyword\">return</span> r[e][<span class=\"code-number\">1</span>](t)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> t===e}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===t}<span class=\"code-keyword\">var</span> S=<span class=\"code-built_in\">Object</span>.prototype.toString,$=w(<span class=\"code-string\">\"undefined\"</span>),E=l($),C=u(_,$),T=w(<span class=\"code-string\">\"function\"</span>),P=w(<span class=\"code-string\">\"number\"</span>),k=w(<span class=\"code-string\">\"string\"</span>),O=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==t&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> t},x=<span class=\"code-built_in\">Array</span>.isArray,j=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"[object Date]\"</span>===S.call(t)},V=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"[object RegExp]\"</span>===S.call(t)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">H</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(x(t)&amp;&amp;t.length){<span class=\"code-keyword\">var</span> e=t.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),r=t.slice(<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">return</span>!(e.filter(l(k)).length||r.filter(l(T)).length)}<span class=\"code-keyword\">return</span> T(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">I</span>(<span class=\"code-params\">r,t</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"No implementation for \"</span>+t+<span class=\"code-string\">\". The framework specific code did not implement this method.\"</span>)}}(r+<span class=\"code-string\">\".\"</span>+e+<span class=\"code-string\">\"()\"</span>),t},{})}<span class=\"code-keyword\">var</span> A=i(O,c(m(<span class=\"code-string\">\"then\"</span>),T)),D={<span class=\"code-attr\">$q</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">$injector</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},q=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-number\">0</span>,r=<span class=\"code-built_in\">arguments</span>.length;e&lt;r;e++)t+=<span class=\"code-built_in\">arguments</span>[e].length;<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">Array</span>(t),i=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(e=<span class=\"code-number\">0</span>;e&lt;r;e++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-built_in\">arguments</span>[e],a=<span class=\"code-number\">0</span>,u=o.length;a&lt;u;a++,i++)n[i]=o[a];<span class=\"code-keyword\">return</span> n},U=<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> self&amp;&amp;self.self===self&amp;&amp;self||<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> global&amp;&amp;global.global===global&amp;&amp;global||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,F=U.angular||{},N=F.fromJson||<span class=\"code-built_in\">JSON</span>.parse.bind(<span class=\"code-built_in\">JSON</span>),L=F.toJson||<span class=\"code-built_in\">JSON</span>.stringify.bind(<span class=\"code-built_in\">JSON</span>),M=F.forEach||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r,t</span>)</span>{<span class=\"code-keyword\">if</span>(x(e))<span class=\"code-keyword\">return</span> e.forEach(r,t);<span class=\"code-built_in\">Object</span>.keys(e).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r(e[t],t)})},B=<span class=\"code-built_in\">Object</span>.assign||Ot,G=F.equals||xt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">z</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">W</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">J</span>(<span class=\"code-params\">e,r,n,t,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=!<span class=\"code-number\">1</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e()[t].bind(n())}<span class=\"code-keyword\">return</span>(t=t||<span class=\"code-built_in\">Object</span>.keys(e())).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t[e]=i?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r[t]=o(t),r[t].apply(<span class=\"code-literal\">null</span>,<span class=\"code-built_in\">arguments</span>)}}(e):o(e),t},r)}<span class=\"code-keyword\">var</span> Q=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> B(<span class=\"code-built_in\">Object</span>.create(t),e)},K=s(Y);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Y</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==t.indexOf(e)}<span class=\"code-keyword\">var</span> Z=s(X);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">X</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=t.indexOf(e);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>&lt;=r&amp;&amp;t.splice(r,<span class=\"code-number\">1</span>),t}<span class=\"code-keyword\">var</span> tt=s(et);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">et</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.push(e),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.slice().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;t(),Z(e,t)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],r=<span class=\"code-number\">1</span>;r&lt;<span class=\"code-built_in\">arguments</span>.length;r++)e[r<span class=\"code-number\">-1</span>]=<span class=\"code-built_in\">arguments</span>[r];<span class=\"code-keyword\">var</span> n=B.apply(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,q([{}],e.reverse()));<span class=\"code-keyword\">return</span> B(n,at(t||{},<span class=\"code-built_in\">Object</span>.keys(n)))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">it</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> B(t,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ot</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t.path){<span class=\"code-keyword\">if</span>(t.path[n]!==e.path[n])<span class=\"code-keyword\">break</span>;r.push(t.path[n])}<span class=\"code-keyword\">return</span> r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">at</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t)<span class=\"code-number\">-1</span>!==e.indexOf(n)&amp;&amp;(r[n]=t[n]);<span class=\"code-keyword\">return</span> r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ut</span>(<span class=\"code-params\">r,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(r).filter(l(K(t))).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t[e]=r[e],t},{})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">st</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> ht(t,m(e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ct</span>(<span class=\"code-params\">t,r</span>)</span>{<span class=\"code-keyword\">var</span> e=x(t),n=e?[]:{},i=e?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.push(t)}:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> n[e]=t};<span class=\"code-keyword\">return</span> M(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{r(t,e)&amp;&amp;i(t,e)}),n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ft</span>(<span class=\"code-params\">t,r</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">return</span> M(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{n||r(t,e)&amp;&amp;(n=t)}),n}<span class=\"code-keyword\">var</span> lt=ht;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ht</span>(<span class=\"code-params\">t,r,n</span>)</span>{<span class=\"code-keyword\">return</span> n=n||(x(t)?[]:{}),M(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> n[e]=r(t,e)}),n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(e).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e[t]})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t||e}<span class=\"code-keyword\">var</span> mt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.concat(e)},yt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> x(e)?t.concat(e.reduce(yt,[])):gt(t,e)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.push(e),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> K(t,e)?t:gt(t,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_t</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(mt,[])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">St</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(yt,[])}<span class=\"code-keyword\">var</span> $t=Rt,bt=Rt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Rt</span>(<span class=\"code-params\">r,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-string\">\"assert failure\"</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=r(t);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(T(n)?n(t):n);<span class=\"code-keyword\">return</span> e}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Et</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(e).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>[t,e[t]]})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ct</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)t[e]=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===t.length)<span class=\"code-keyword\">return</span>[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.min(e.length,t)},<span class=\"code-number\">9007199254740991</span>),n=[],i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">switch</span>(t.length){<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:n.push([t[<span class=\"code-number\">0</span>][e]]);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:n.push([t[<span class=\"code-number\">0</span>][e],t[<span class=\"code-number\">1</span>][e]]);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:n.push([t[<span class=\"code-number\">0</span>][e],t[<span class=\"code-number\">1</span>][e],t[<span class=\"code-number\">2</span>][e]]);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:n.push([t[<span class=\"code-number\">0</span>][e],t[<span class=\"code-number\">1</span>][e],t[<span class=\"code-number\">2</span>][e],t[<span class=\"code-number\">3</span>][e]]);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:n.push(t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t[e]}))}},o=<span class=\"code-number\">0</span>;o&lt;r;o++)i(o);<span class=\"code-keyword\">return</span> n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Tt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r,n;<span class=\"code-keyword\">if</span>(x(e)&amp;&amp;(r=e[<span class=\"code-number\">0</span>],n=e[<span class=\"code-number\">1</span>]),!k(r))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"invalid parameters to applyPairs\"</span>);<span class=\"code-keyword\">return</span> t[r]=n,t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.length&amp;&amp;t[t.length<span class=\"code-number\">-1</span>]||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;<span class=\"code-built_in\">Object</span>.keys(e).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">delete</span> e[t]}),B(e=e||{},t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ot</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">1</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++){<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">Object</span>.keys(r),i=<span class=\"code-number\">0</span>;i&lt;n.length;i++)t[n[i]]=r[n[i]]}<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(t===e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t||<span class=\"code-literal\">null</span>===e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(t!=t&amp;&amp;e!=e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">typeof</span> t;<span class=\"code-keyword\">if</span>(r!=<span class=\"code-keyword\">typeof</span> e||<span class=\"code-string\">\"object\"</span>!=r)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> n=[t,e];<span class=\"code-keyword\">if</span>(a(x)(n))<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.length===e.length&amp;&amp;Ct(t,e).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;xt(e[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">1</span>])},!<span class=\"code-number\">0</span>)}(t,e);<span class=\"code-keyword\">if</span>(a(j)(n))<span class=\"code-keyword\">return</span> t.getTime()===e.getTime();<span class=\"code-keyword\">if</span>(a(V)(n))<span class=\"code-keyword\">return</span> t.toString()===e.toString();<span class=\"code-keyword\">if</span>(a(T)(n))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>([T,x,j,V].map(f).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t||!!e(n)},!<span class=\"code-number\">1</span>))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> i={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> t){<span class=\"code-keyword\">if</span>(!xt(t[o],e[o]))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;i[o]=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> e)<span class=\"code-keyword\">if</span>(!i[o])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>})&amp;&amp;t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> jt(D.$q.reject(t))}<span class=\"code-keyword\">var</span> Ht=(It.is=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!<span class=\"code-regexp\">/[!,*]+/</span>.exec(t)},It.fromString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> It.is(t)?<span class=\"code-keyword\">new</span> It(t):<span class=\"code-literal\">null</span>},It.prototype.matches=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.regexp.test(<span class=\"code-string\">\".\"</span>+t)},It);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">It</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.text=t,<span class=\"code-keyword\">this</span>.glob=t.split(<span class=\"code-string\">\".\"</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.text.split(<span class=\"code-string\">\".\"</span>).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"**\"</span>===t?<span class=\"code-string\">\"(?:|(?:\\\\.[^.]*)*)\"</span>:<span class=\"code-string\">\"*\"</span>===t?<span class=\"code-string\">\"\\\\.[^.]*\"</span>:<span class=\"code-string\">\"\\\\.\"</span>+t}).join(<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">this</span>.regexp=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"^\"</span>+e+<span class=\"code-string\">\"$\"</span>)}<span class=\"code-keyword\">var</span> At,Dt=(qt.prototype.enqueue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._items;<span class=\"code-keyword\">return</span> e.push(t),<span class=\"code-keyword\">this</span>._limit&amp;&amp;e.length&gt;<span class=\"code-keyword\">this</span>._limit&amp;&amp;<span class=\"code-keyword\">this</span>.evict(),t},qt.prototype.evict=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._items.shift();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._evictListeners.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t(e)}),e},qt.prototype.dequeue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.size())<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._items.splice(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)[<span class=\"code-number\">0</span>]},qt.prototype.clear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._items;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._items=[],t},qt.prototype.size=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._items.length},qt.prototype.remove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._items.indexOf(t);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>&lt;e&amp;&amp;<span class=\"code-keyword\">this</span>._items.splice(e,<span class=\"code-number\">1</span>)[<span class=\"code-number\">0</span>]},qt.prototype.peekTail=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._items[<span class=\"code-keyword\">this</span>._items.length<span class=\"code-number\">-1</span>]},qt.prototype.peekHead=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.size())<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._items[<span class=\"code-number\">0</span>]},qt);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>._items=t,<span class=\"code-keyword\">this</span>._limit=e,<span class=\"code-keyword\">this</span>._evictListeners=[],<span class=\"code-keyword\">this</span>.onEvict=tt(<span class=\"code-keyword\">this</span>._evictListeners)}(At=d.RejectType||(d.RejectType={}))[At.SUPERSEDED=<span class=\"code-number\">2</span>]=<span class=\"code-string\">\"SUPERSEDED\"</span>,At[At.ABORTED=<span class=\"code-number\">3</span>]=<span class=\"code-string\">\"ABORTED\"</span>,At[At.INVALID=<span class=\"code-number\">4</span>]=<span class=\"code-string\">\"INVALID\"</span>,At[At.IGNORED=<span class=\"code-number\">5</span>]=<span class=\"code-string\">\"IGNORED\"</span>,At[At.ERROR=<span class=\"code-number\">6</span>]=<span class=\"code-string\">\"ERROR\"</span>;<span class=\"code-keyword\">var</span> Ut=<span class=\"code-number\">0</span>,Ft=(Nt.isRejectionPromise=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t.then&amp;&amp;h(Nt)(t._transitionRejection)},Nt.superseded=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> Nt(d.RejectType.SUPERSEDED,<span class=\"code-string\">\"The transition has been superseded by a different transition\"</span>,t);<span class=\"code-keyword\">return</span> e&amp;&amp;e.redirected&amp;&amp;(r.redirected=!<span class=\"code-number\">0</span>),r},Nt.redirected=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Nt.superseded(t,{<span class=\"code-attr\">redirected</span>:!<span class=\"code-number\">0</span>})},Nt.invalid=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Nt(d.RejectType.INVALID,<span class=\"code-string\">\"This transition is invalid\"</span>,t)},Nt.ignored=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Nt(d.RejectType.IGNORED,<span class=\"code-string\">\"The transition was ignored\"</span>,t)},Nt.aborted=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Nt(d.RejectType.ABORTED,<span class=\"code-string\">\"The transition has been aborted\"</span>,t)},Nt.errored=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Nt(d.RejectType.ERROR,<span class=\"code-string\">\"The transition errored\"</span>,t)},Nt.normalize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> h(Nt)(t)?t:Nt.errored(t)},Nt.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,e=(t=<span class=\"code-keyword\">this</span>.detail)&amp;&amp;t.toString!==<span class=\"code-built_in\">Object</span>.prototype.toString?t.toString():Qt(t);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Transition Rejection($id: \"</span>+<span class=\"code-keyword\">this</span>.$id+<span class=\"code-string\">\" type: \"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\", message: \"</span>+<span class=\"code-keyword\">this</span>.message+<span class=\"code-string\">\", detail: \"</span>+e+<span class=\"code-string\">\")\"</span>},Nt.prototype.toPromise=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> B(Vt(<span class=\"code-keyword\">this</span>),{<span class=\"code-attr\">_transitionRejection</span>:<span class=\"code-keyword\">this</span>})},Nt);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nt</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">this</span>.$id=Ut++,<span class=\"code-keyword\">this</span>.type=t,<span class=\"code-keyword\">this</span>.message=e,<span class=\"code-keyword\">this</span>.detail=r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Lt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> e.length&lt;=t?e:e.substr(<span class=\"code-number\">0</span>,t<span class=\"code-number\">-3</span>)+<span class=\"code-string\">\"...\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(;e.length&lt;t;)e+=<span class=\"code-string\">\" \"</span>;<span class=\"code-keyword\">return</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(<span class=\"code-regexp\">/^([A-Z])/</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.toLowerCase()}).replace(<span class=\"code-regexp\">/([A-Z])/g</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"-\"</span>+t.toLowerCase()})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=zt(t),r=e.match(<span class=\"code-regexp\">/^(function [^ ]+\\([^)]*\\))/</span>),n=r?r[<span class=\"code-number\">1</span>]:e,i=t.name||<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">return</span> i&amp;&amp;n.match(<span class=\"code-regexp\">/function \\(/</span>)?<span class=\"code-string\">\"function \"</span>+i+n.substr(<span class=\"code-number\">9</span>):n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=x(t)?t.slice(<span class=\"code-number\">-1</span>)[<span class=\"code-number\">0</span>]:t;<span class=\"code-keyword\">return</span> e&amp;&amp;e.toString()||<span class=\"code-string\">\"undefined\"</span>}<span class=\"code-keyword\">var</span> Wt=Ft.isRejectionPromise,Jt=g([[$,p(<span class=\"code-string\">\"undefined\"</span>)],[_,p(<span class=\"code-string\">\"null\"</span>)],[A,p(<span class=\"code-string\">\"[Promise]\"</span>)],[Wt,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._transitionRejection.toString()}],[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> O(t)&amp;&amp;!x(t)&amp;&amp;t.constructor!==<span class=\"code-built_in\">Object</span>&amp;&amp;T(t.toString)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.toString()}],[H,Gt],[p(!<span class=\"code-number\">0</span>),z]]);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=[];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(O(t)){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>!==e.indexOf(t))<span class=\"code-keyword\">return</span><span class=\"code-string\">\"[circular ref]\"</span>;e.push(t)}<span class=\"code-keyword\">return</span> Jt(t)}<span class=\"code-keyword\">return</span> $(t)?r(t):<span class=\"code-built_in\">JSON</span>.stringify(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> r(e)}).replace(<span class=\"code-regexp\">/\\\\\"/g</span>,<span class=\"code-string\">'\"'</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Kt</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"\"</span>];<span class=\"code-keyword\">var</span> e=t.indexOf(r);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===e?[t,<span class=\"code-string\">\"\"</span>]:[t.substr(<span class=\"code-number\">0</span>,e),t.substr(e+<span class=\"code-number\">1</span>)]}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(<span class=\"code-regexp\">/\\/[^/]*$/</span>,<span class=\"code-string\">\"\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t?t.replace(<span class=\"code-regexp\">/^#/</span>,<span class=\"code-string\">\"\"</span>):<span class=\"code-string\">\"\"</span>}<span class=\"code-keyword\">var</span> Xt=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"^(?:[a-z]+:)?//[^/]+/\"</span>),te=Kt(<span class=\"code-string\">\"#\"</span>),ee=Kt(<span class=\"code-string\">\"?\"</span>),re=Kt(<span class=\"code-string\">\"=\"</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ne</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"(\"</span>+t+<span class=\"code-string\">\")\"</span>,<span class=\"code-string\">\"g\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.split(e).filter(z)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ie</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> k(Pt(t))&amp;&amp;k(e)?t.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>).concat(Pt(t)+e):gt(t,e)}<span class=\"code-keyword\">var</span> oe={<span class=\"code-attr\">log</span>:W,<span class=\"code-attr\">error</span>:W,<span class=\"code-attr\">table</span>:W};<span class=\"code-keyword\">var</span> ae,ue,se,ce=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-built_in\">document</span>.documentMode&amp;&amp;<span class=\"code-number\">9</span>===<span class=\"code-built_in\">document</span>.documentMode?<span class=\"code-built_in\">window</span>&amp;&amp;<span class=\"code-built_in\">window</span>.console?(se=<span class=\"code-built_in\">window</span>.console,{<span class=\"code-attr\">log</span>:fe(se.log),<span class=\"code-attr\">error</span>:fe(se.log),<span class=\"code-attr\">table</span>:fe(se.log)}):oe:<span class=\"code-built_in\">console</span>.table&amp;&amp;<span class=\"code-built_in\">console</span>.error?<span class=\"code-built_in\">console</span>:(ae=<span class=\"code-built_in\">console</span>,{<span class=\"code-attr\">log</span>:ue=ae.log.bind(ae),<span class=\"code-attr\">error</span>:ae.error?ae.error.bind(ae):ue,<span class=\"code-attr\">table</span>:ae.table?ae.table.bind(ae):ue});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fe</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Function</span>.prototype.bind.call(t,se)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">le</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"ui-view (defunct)\"</span>;<span class=\"code-keyword\">var</span> e=t.creationContext?t.creationContext.name||<span class=\"code-string\">\"(root)\"</span>:<span class=\"code-string\">\"(none)\"</span>;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"[ui-view#\"</span>+t.id+<span class=\"code-string\">\" \"</span>+t.$type+<span class=\"code-string\">\":\"</span>+t.fqn+<span class=\"code-string\">\" (\"</span>+t.name+<span class=\"code-string\">\"@\"</span>+e+<span class=\"code-string\">\")]\"</span>}<span class=\"code-keyword\">var</span> he;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pe</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> P(t)?d.Category[t]:d.Category[d.Category[t]]}(he=d.Category||(d.Category={}))[he.RESOLVE=<span class=\"code-number\">0</span>]=<span class=\"code-string\">\"RESOLVE\"</span>,he[he.TRANSITION=<span class=\"code-number\">1</span>]=<span class=\"code-string\">\"TRANSITION\"</span>,he[he.HOOK=<span class=\"code-number\">2</span>]=<span class=\"code-string\">\"HOOK\"</span>,he[he.UIVIEW=<span class=\"code-number\">3</span>]=<span class=\"code-string\">\"UIVIEW\"</span>,he[he.VIEWCONFIG=<span class=\"code-number\">4</span>]=<span class=\"code-string\">\"VIEWCONFIG\"</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ve</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Transition #\"</span>+de(t)+<span class=\"code-string\">\"-\"</span>+me(t)}<span class=\"code-keyword\">var</span> de=R(<span class=\"code-string\">\"$id\"</span>),me=R(<span class=\"code-string\">\"router.$id\"</span>),ye=(ge.prototype._set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;t.length||(t=<span class=\"code-built_in\">Object</span>.keys(d.Category).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(t,<span class=\"code-number\">10</span>)}).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-built_in\">isNaN</span>(t)}).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> d.Category[t]})),t.map(pe).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r._enabled[t]=e})},ge.prototype.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)t[e]=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">this</span>._set(!<span class=\"code-number\">0</span>,t)},ge.prototype.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)t[e]=<span class=\"code-built_in\">arguments</span>[e];<span class=\"code-keyword\">this</span>._set(!<span class=\"code-number\">1</span>,t)},ge.prototype.enabled=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>._enabled[pe(t)]},ge.prototype.traceTransitionStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(t)+<span class=\"code-string\">\": Started  -&gt; \"</span>+Qt(t))},ge.prototype.traceTransitionIgnored=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(t)+<span class=\"code-string\">\": Ignored  &lt;&gt; \"</span>+Qt(t))},ge.prototype.traceHookInvocation=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.enabled(d.Category.HOOK)){<span class=\"code-keyword\">var</span> n=R(<span class=\"code-string\">\"traceData.hookType\"</span>)(r)||<span class=\"code-string\">\"internal\"</span>,i=R(<span class=\"code-string\">\"traceData.context.state.name\"</span>)(r)||R(<span class=\"code-string\">\"traceData.context\"</span>)(r)||<span class=\"code-string\">\"unknown\"</span>,o=Gt(t.registeredHook.callback);ce.log(ve(e)+<span class=\"code-string\">\":   Hook -&gt; \"</span>+n+<span class=\"code-string\">\" context: \"</span>+i+<span class=\"code-string\">\", \"</span>+Lt(<span class=\"code-number\">200</span>,o))}},ge.prototype.traceHookResult=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.HOOK)&amp;&amp;ce.log(ve(e)+<span class=\"code-string\">\":   &lt;- Hook returned: \"</span>+Lt(<span class=\"code-number\">200</span>,Qt(t)))},ge.prototype.traceResolvePath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.RESOLVE)&amp;&amp;ce.log(ve(r)+<span class=\"code-string\">\":         Resolving \"</span>+t+<span class=\"code-string\">\" (\"</span>+e+<span class=\"code-string\">\")\"</span>)},ge.prototype.traceResolvableResolved=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.RESOLVE)&amp;&amp;ce.log(ve(e)+<span class=\"code-string\">\":               &lt;- Resolved  \"</span>+t+<span class=\"code-string\">\" to: \"</span>+Lt(<span class=\"code-number\">200</span>,Qt(t.data)))},ge.prototype.traceError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(e)+<span class=\"code-string\">\": &lt;- Rejected \"</span>+Qt(e)+<span class=\"code-string\">\", reason: \"</span>+t)},ge.prototype.traceSuccess=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(e)+<span class=\"code-string\">\": &lt;- Success  \"</span>+Qt(e)+<span class=\"code-string\">\", final state: \"</span>+t.name)},ge.prototype.traceUIViewEvent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">this</span>.enabled(d.Category.UIVIEW)&amp;&amp;ce.log(<span class=\"code-string\">\"ui-view: \"</span>+Mt(<span class=\"code-number\">30</span>,t)+<span class=\"code-string\">\" \"</span>+le(e)+r)},ge.prototype.traceUIViewConfigUpdated=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.UIVIEW)&amp;&amp;<span class=\"code-keyword\">this</span>.traceUIViewEvent(<span class=\"code-string\">\"Updating\"</span>,t,<span class=\"code-string\">\" with ViewConfig from context='\"</span>+e+<span class=\"code-string\">\"'\"</span>)},ge.prototype.traceUIViewFill=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.UIVIEW)&amp;&amp;<span class=\"code-keyword\">this</span>.traceUIViewEvent(<span class=\"code-string\">\"Fill\"</span>,t,<span class=\"code-string\">\" with: \"</span>+Lt(<span class=\"code-number\">200</span>,e))},ge.prototype.traceViewSync=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.enabled(d.Category.VIEWCONFIG)){<span class=\"code-keyword\">var</span> a=<span class=\"code-string\">\"uiview component fqn\"</span>,e=t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,r=t.uiView,n=t.viewConfig,i=r&amp;&amp;r.fqn,o=n&amp;&amp;n.viewDecl.$context.name+<span class=\"code-string\">\": (\"</span>+n.viewDecl.$name+<span class=\"code-string\">\")\"</span>;<span class=\"code-keyword\">return</span>(e={})[a]=i,e[<span class=\"code-string\">\"view config state (view name)\"</span>]=o,e}).sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(t[a]||<span class=\"code-string\">\"\"</span>).localeCompare(e[a]||<span class=\"code-string\">\"\"</span>)});ce.table(e)}},ge.prototype.traceViewServiceEvent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.VIEWCONFIG)&amp;&amp;ce.log(<span class=\"code-string\">\"VIEWCONFIG: \"</span>+t+<span class=\"code-string\">\" \"</span>+<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.viewDecl,r=e.$context.name||<span class=\"code-string\">\"(root)\"</span>;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"[View#\"</span>+t.$id+<span class=\"code-string\">\" from '\"</span>+r+<span class=\"code-string\">\"' state]: target ui-view: '\"</span>+e.$uiViewName+<span class=\"code-string\">\"@\"</span>+e.$uiViewContextAnchor+<span class=\"code-string\">\"'\"</span>}(e))},ge.prototype.traceViewServiceUIViewEvent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.enabled(d.Category.VIEWCONFIG)&amp;&amp;ce.log(<span class=\"code-string\">\"VIEWCONFIG: \"</span>+t+<span class=\"code-string\">\" \"</span>+le(e))},ge);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ge</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._enabled={},<span class=\"code-keyword\">this</span>.approximateDigests=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">var</span> we=<span class=\"code-keyword\">new</span> ye,_e=(Se.prototype.is=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},Se.prototype.encode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t},Se.prototype.decode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t},Se.prototype.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t==e},Se.prototype.$subPattern=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.pattern.toString();<span class=\"code-keyword\">return</span> t.substr(<span class=\"code-number\">1</span>,t.length<span class=\"code-number\">-2</span>)},Se.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"{ParamType:\"</span>+<span class=\"code-keyword\">this</span>.name+<span class=\"code-string\">\"}\"</span>},Se.prototype.$normalize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.is(t)?t:<span class=\"code-keyword\">this</span>.decode(t)},Se.prototype.$asArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"auto\"</span>===t&amp;&amp;!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"'auto' array mode is for query parameters only\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> $e(<span class=\"code-keyword\">this</span>,t)},Se);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Se</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.pattern=<span class=\"code-regexp\">/.*/</span>,<span class=\"code-keyword\">this</span>.inherit=!<span class=\"code-number\">0</span>,B(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$e</span>(<span class=\"code-params\">n,i</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> x(t)?t:E(t)?[t]:[]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">r,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(x(t)&amp;&amp;<span class=\"code-number\">0</span>===t.length)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> e=ht(a(t),r);<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>===n?<span class=\"code-number\">0</span>===ct(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!t}).length:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t.length){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"auto\"</span>===i?t[<span class=\"code-number\">0</span>]:t;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">return</span> t}}(e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">o</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=a(t),n=a(e);<span class=\"code-keyword\">if</span>(r.length!==n.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;r.length;i++)<span class=\"code-keyword\">if</span>(!o(r[i],n[i]))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}}[<span class=\"code-string\">\"encode\"</span>,<span class=\"code-string\">\"decode\"</span>,<span class=\"code-string\">\"equals\"</span>,<span class=\"code-string\">\"$normalize\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=n[t].bind(n),r=<span class=\"code-string\">\"equals\"</span>===t?s:u;o[t]=r(e)}),B(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">dynamic</span>:n.dynamic,<span class=\"code-attr\">name</span>:n.name,<span class=\"code-attr\">pattern</span>:n.pattern,<span class=\"code-attr\">inherit</span>:n.inherit,<span class=\"code-attr\">raw</span>:n.raw,<span class=\"code-attr\">is</span>:u(n.is.bind(n),!<span class=\"code-number\">0</span>),<span class=\"code-attr\">$arrayMode</span>:i})}<span class=\"code-keyword\">var</span> be,Re=<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty,Ee=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===[<span class=\"code-string\">\"value\"</span>,<span class=\"code-string\">\"type\"</span>,<span class=\"code-string\">\"squash\"</span>,<span class=\"code-string\">\"array\"</span>,<span class=\"code-string\">\"dynamic\"</span>].filter(Re.bind(t||{})).length};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ce</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=!<span class=\"code-number\">1</span>===r.reloadOnSearch&amp;&amp;e===d.DefType.SEARCH||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,i=ft([r.dynamic,n],E),o=E(i)?{<span class=\"code-attr\">dynamic</span>:i}:{},a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.value}t=Ee(t)?{<span class=\"code-attr\">value</span>:t}:t,e.__cacheable=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> r=H(t.value)?t.value:e;<span class=\"code-keyword\">return</span> B(t,{<span class=\"code-attr\">$$fn</span>:r})}(r&amp;&amp;r.params&amp;&amp;r.params[t]);<span class=\"code-keyword\">return</span> B(o,a)}(be=d.DefType||(d.DefType={}))[be.PATH=<span class=\"code-number\">0</span>]=<span class=\"code-string\">\"PATH\"</span>,be[be.SEARCH=<span class=\"code-number\">1</span>]=<span class=\"code-string\">\"SEARCH\"</span>,be[be.CONFIG=<span class=\"code-number\">2</span>]=<span class=\"code-string\">\"CONFIG\"</span>;<span class=\"code-keyword\">var</span> Te=(Pe.values=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r={},n=<span class=\"code-number\">0</span>,i=t;n&lt;i.length;n++){<span class=\"code-keyword\">var</span> o=i[n];r[o.id]=o.value(e[o.id])}<span class=\"code-keyword\">return</span> r},Pe.changed=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={}),t.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!t.type.equals(e[t.id],r[t.id])})},Pe.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={}),<span class=\"code-number\">0</span>===Pe.changed(t,e,r).length},Pe.validates=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={}),t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.validates(e[t.id])}).reduce(vt,!<span class=\"code-number\">0</span>)},Pe.prototype.isDefaultValue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isOptional&amp;&amp;<span class=\"code-keyword\">this</span>.type.equals(<span class=\"code-keyword\">this</span>.value(),t)},Pe.prototype.value=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,r=i.replace;e&lt;r.length;e++){<span class=\"code-keyword\">var</span> n=r[e];<span class=\"code-keyword\">if</span>(n.from===t)<span class=\"code-keyword\">return</span> n.to}<span class=\"code-keyword\">return</span> t}(t),$(t)?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(i._defaultValueCache)<span class=\"code-keyword\">return</span> i._defaultValueCache.defaultValue;<span class=\"code-keyword\">if</span>(!D.$injector)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Injectable functions cannot be called at configuration time\"</span>);<span class=\"code-keyword\">var</span> t=D.$injector.invoke(i.config.$$fn);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!=t&amp;&amp;!i.type.is(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Default value (\"</span>+t+<span class=\"code-string\">\") for parameter '\"</span>+i.id+<span class=\"code-string\">\"' is not an instance of ParamType (\"</span>+i.type.name+<span class=\"code-string\">\")\"</span>);<span class=\"code-keyword\">return</span> i.config.$$fn.__cacheable&amp;&amp;(i._defaultValueCache={<span class=\"code-attr\">defaultValue</span>:t}),t}():<span class=\"code-keyword\">this</span>.type.$normalize(t)},Pe.prototype.isSearch=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.location===d.DefType.SEARCH},Pe.prototype.validates=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(($(t)||<span class=\"code-literal\">null</span>===t)&amp;&amp;<span class=\"code-keyword\">this</span>.isOptional)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.type.$normalize(t);<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.type.is(e))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.type.encode(e);<span class=\"code-keyword\">return</span>!(k(r)&amp;&amp;!<span class=\"code-keyword\">this</span>.type.pattern.exec(r))},Pe.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"{Param:\"</span>+<span class=\"code-keyword\">this</span>.id+<span class=\"code-string\">\" \"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\" squash: '\"</span>+<span class=\"code-keyword\">this</span>.squash+<span class=\"code-string\">\"' optional: \"</span>+<span class=\"code-keyword\">this</span>.isOptional+<span class=\"code-string\">\"}\"</span>},Pe);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pe</span>(<span class=\"code-params\">t,e,r,n,i</span>)</span>{<span class=\"code-keyword\">var</span> o=Ce(t,r,i);e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n,i</span>)</span>{<span class=\"code-keyword\">if</span>(t.type&amp;&amp;e&amp;&amp;<span class=\"code-string\">\"string\"</span>!==e.name)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Param '\"</span>+n+<span class=\"code-string\">\"' has two type configurations.\"</span>);<span class=\"code-keyword\">if</span>(t.type&amp;&amp;e&amp;&amp;<span class=\"code-string\">\"string\"</span>===e.name&amp;&amp;i.type(t.type))<span class=\"code-keyword\">return</span> i.type(t.type);<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">if</span>(t.type)<span class=\"code-keyword\">return</span> t.type <span class=\"code-keyword\">instanceof</span> _e?t.type:i.type(t.type);<span class=\"code-keyword\">var</span> o=r===d.DefType.CONFIG?<span class=\"code-string\">\"any\"</span>:r===d.DefType.PATH?<span class=\"code-string\">\"path\"</span>:r===d.DefType.SEARCH?<span class=\"code-string\">\"query\"</span>:<span class=\"code-string\">\"string\"</span>;<span class=\"code-keyword\">return</span> i.type(o)}(o,e,r,t,n.paramTypes);<span class=\"code-keyword\">var</span> a,u,s=(a={<span class=\"code-attr\">array</span>:r===d.DefType.SEARCH&amp;&amp;<span class=\"code-string\">\"auto\"</span>},u=t.match(<span class=\"code-regexp\">/\\[\\]$/</span>)?{<span class=\"code-attr\">array</span>:!<span class=\"code-number\">0</span>}:{},B(a,u,o).array);e=s?e.$asArray(s,r===d.DefType.SEARCH):e;<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.value||r===d.DefType.SEARCH,f=E(o.dynamic)?!!o.dynamic:!!e.dynamic,l=E(o.raw)?!!o.raw:!!e.raw,h=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=t.squash;<span class=\"code-keyword\">if</span>(!e||!<span class=\"code-number\">1</span>===n)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(!E(n)||<span class=\"code-literal\">null</span>==n)<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===n||k(n))<span class=\"code-keyword\">return</span> n;<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid squash policy: '\"</span>+n+<span class=\"code-string\">\"'. Valid policies: false, true, or arbitrary string\"</span>)}(o,c,n.defaultSquashPolicy()),p=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">var</span> i=[{<span class=\"code-attr\">from</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">to</span>:r||e?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:<span class=\"code-string\">\"\"</span>},{<span class=\"code-attr\">from</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">to</span>:r||e?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:<span class=\"code-string\">\"\"</span>}],o=x(t.replace)?t.replace:[];k(n)&amp;&amp;o.push({<span class=\"code-attr\">from</span>:n,<span class=\"code-attr\">to</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> a=ht(o,m(<span class=\"code-string\">\"from\"</span>));<span class=\"code-keyword\">return</span> ct(i,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===a.indexOf(t.from)}).concat(o)}(o,s,c,h),v=E(o.inherit)?!!o.inherit:!!e.inherit;B(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">id</span>:t,<span class=\"code-attr\">type</span>:e,<span class=\"code-attr\">location</span>:r,<span class=\"code-attr\">isOptional</span>:c,<span class=\"code-attr\">dynamic</span>:f,<span class=\"code-attr\">raw</span>:l,<span class=\"code-attr\">squash</span>:h,<span class=\"code-attr\">replace</span>:p,<span class=\"code-attr\">inherit</span>:v,<span class=\"code-attr\">array</span>:s,<span class=\"code-attr\">config</span>:o})}<span class=\"code-keyword\">var</span> ke=(Oe.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.types={}},Oe.prototype.type=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">if</span>(!E(e))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.types[t];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.types.hasOwnProperty(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"A type named '\"</span>+t+<span class=\"code-string\">\"' has already been defined.\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.types[t]=<span class=\"code-keyword\">new</span> _e(B({<span class=\"code-attr\">name</span>:t},e)),r&amp;&amp;(<span class=\"code-keyword\">this</span>.typeQueue.push({<span class=\"code-attr\">name</span>:t,<span class=\"code-attr\">def</span>:r}),<span class=\"code-keyword\">this</span>.enqueue||<span class=\"code-keyword\">this</span>._flushTypeQueue()),<span class=\"code-keyword\">this</span>},Oe.prototype._flushTypeQueue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(;<span class=\"code-keyword\">this</span>.typeQueue.length;){<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.typeQueue.shift();<span class=\"code-keyword\">if</span>(t.pattern)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"You cannot override a type's .pattern at runtime.\"</span>);B(<span class=\"code-keyword\">this</span>.types[t.name],D.$injector.invoke(t.def))}},Oe);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oe</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.enqueue=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.typeQueue=[],<span class=\"code-keyword\">this</span>.defaultTypes=at(Oe.prototype,[<span class=\"code-string\">\"hash\"</span>,<span class=\"code-string\">\"string\"</span>,<span class=\"code-string\">\"query\"</span>,<span class=\"code-string\">\"path\"</span>,<span class=\"code-string\">\"int\"</span>,<span class=\"code-string\">\"bool\"</span>,<span class=\"code-string\">\"date\"</span>,<span class=\"code-string\">\"json\"</span>,<span class=\"code-string\">\"any\"</span>]);<span class=\"code-keyword\">this</span>.types=Q(ht(<span class=\"code-keyword\">this</span>.defaultTypes,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> _e(B({<span class=\"code-attr\">name</span>:e},t))}),{})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xe</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!=t?t.toString():t}<span class=\"code-keyword\">var</span> r={<span class=\"code-attr\">encode</span>:e,<span class=\"code-attr\">decode</span>:e,<span class=\"code-attr\">is</span>:h(<span class=\"code-built_in\">String</span>),<span class=\"code-attr\">pattern</span>:<span class=\"code-regexp\">/.*/</span>,<span class=\"code-attr\">equals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t==e}};<span class=\"code-keyword\">return</span> B({},r,t)}B(ke.prototype,{<span class=\"code-attr\">string</span>:xe({}),<span class=\"code-attr\">path</span>:xe({<span class=\"code-attr\">pattern</span>:<span class=\"code-regexp\">/[^/]*/</span>}),<span class=\"code-attr\">query</span>:xe({}),<span class=\"code-attr\">hash</span>:xe({<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">1</span>}),<span class=\"code-attr\">int</span>:xe({<span class=\"code-attr\">decode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(t,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">is</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!C(t)&amp;&amp;<span class=\"code-keyword\">this</span>.decode(t.toString())===t},<span class=\"code-attr\">pattern</span>:<span class=\"code-regexp\">/-?\\d+/</span>}),<span class=\"code-attr\">bool</span>:xe({<span class=\"code-attr\">encode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">decode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">parseInt</span>(t,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">is</span>:h(<span class=\"code-built_in\">Boolean</span>),<span class=\"code-attr\">pattern</span>:<span class=\"code-regexp\">/0|1/</span>}),<span class=\"code-attr\">date</span>:xe({<span class=\"code-attr\">encode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.is(t)?[t.getFullYear(),(<span class=\"code-string\">\"0\"</span>+(t.getMonth()+<span class=\"code-number\">1</span>)).slice(<span class=\"code-number\">-2</span>),(<span class=\"code-string\">\"0\"</span>+t.getDate()).slice(<span class=\"code-number\">-2</span>)].join(<span class=\"code-string\">\"-\"</span>):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},<span class=\"code-attr\">decode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.is(t))<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.capture.exec(t);<span class=\"code-keyword\">return</span> e?<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">2</span>]<span class=\"code-number\">-1</span>,e[<span class=\"code-number\">3</span>]):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},<span class=\"code-attr\">is</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Date</span>&amp;&amp;!<span class=\"code-built_in\">isNaN</span>(t.valueOf())},<span class=\"code-attr\">equals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,n</span>)</span>{<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"getFullYear\"</span>,<span class=\"code-string\">\"getMonth\"</span>,<span class=\"code-string\">\"getDate\"</span>].reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;r[e]()===n[e]()},!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">pattern</span>:<span class=\"code-regexp\">/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/</span>,<span class=\"code-attr\">capture</span>:<span class=\"code-regexp\">/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/</span>}),<span class=\"code-attr\">json</span>:xe({<span class=\"code-attr\">encode</span>:L,<span class=\"code-attr\">decode</span>:N,<span class=\"code-attr\">is</span>:h(<span class=\"code-built_in\">Object</span>),<span class=\"code-attr\">equals</span>:G,<span class=\"code-attr\">pattern</span>:<span class=\"code-regexp\">/[^/]*/</span>}),<span class=\"code-attr\">any</span>:xe({<span class=\"code-attr\">encode</span>:z,<span class=\"code-attr\">decode</span>:z,<span class=\"code-attr\">is</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},<span class=\"code-attr\">equals</span>:G})});<span class=\"code-keyword\">var</span> je=(Ve.prototype.$inherit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n,i=ot(e,r),o={},a=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u <span class=\"code-keyword\">in</span> i)<span class=\"code-keyword\">if</span>(i[u]&amp;&amp;i[u].params&amp;&amp;(n=<span class=\"code-built_in\">Object</span>.keys(i[u].params)).length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s <span class=\"code-keyword\">in</span> n)<span class=\"code-number\">0</span>&lt;=a.indexOf(n[s])||(a.push(n[s]),o[n[s]]=<span class=\"code-keyword\">this</span>[n[s]]);<span class=\"code-keyword\">return</span> B({},o,t)},Ve);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ve</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),B(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-keyword\">var</span> He=(Ie.prototype.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Ie(<span class=\"code-keyword\">this</span>)},Ie.prototype.applyRawParams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.paramValues=<span class=\"code-keyword\">this</span>.paramSchema.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> Tt(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>[t.id,t.value(r[t.id])]}(e))},{}),<span class=\"code-keyword\">this</span>},Ie.prototype.parameter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> ft(<span class=\"code-keyword\">this</span>.paramSchema,y(<span class=\"code-string\">\"id\"</span>,t))},Ie.prototype.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.diff(t,e);<span class=\"code-keyword\">return</span> r&amp;&amp;<span class=\"code-number\">0</span>===r.length},Ie.prototype.diff=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.state!==t.state)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> r=e?e(<span class=\"code-keyword\">this</span>):<span class=\"code-keyword\">this</span>.paramSchema;<span class=\"code-keyword\">return</span> Te.changed(r,<span class=\"code-keyword\">this</span>.paramValues,t.paramValues)},Ie.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.clone()},Ie);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ie</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(t <span class=\"code-keyword\">instanceof</span> Ie){<span class=\"code-keyword\">var</span> e=t;<span class=\"code-keyword\">this</span>.state=e.state,<span class=\"code-keyword\">this</span>.paramSchema=e.paramSchema.slice(),<span class=\"code-keyword\">this</span>.paramValues=B({},e.paramValues),<span class=\"code-keyword\">this</span>.resolvables=e.resolvables.slice(),<span class=\"code-keyword\">this</span>.views=e.views&amp;&amp;e.views.slice()}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> r=t;<span class=\"code-keyword\">this</span>.state=r,<span class=\"code-keyword\">this</span>.paramSchema=r.parameters({<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">1</span>}),<span class=\"code-keyword\">this</span>.paramValues={},<span class=\"code-keyword\">this</span>.resolvables=r.resolvables.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.clone()})}}<span class=\"code-keyword\">var</span> Ae=(De.prototype.name=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._definition&amp;&amp;<span class=\"code-keyword\">this</span>._definition.name||<span class=\"code-keyword\">this</span>._identifier},De.prototype.identifier=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._identifier},De.prototype.params=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._params},De.prototype.$state=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._definition},De.prototype.state=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._definition&amp;&amp;<span class=\"code-keyword\">this</span>._definition.self},De.prototype.options=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._options},De.prototype.exists=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!(!<span class=\"code-keyword\">this</span>._definition||!<span class=\"code-keyword\">this</span>._definition.self)},De.prototype.valid=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-keyword\">this</span>.error()},De.prototype.error=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.options().relative;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._definition||!t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._definition?<span class=\"code-keyword\">this</span>._definition.self?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:<span class=\"code-string\">\"State '\"</span>+<span class=\"code-keyword\">this</span>.name()+<span class=\"code-string\">\"' has an invalid definition\"</span>:<span class=\"code-string\">\"No such state '\"</span>+<span class=\"code-keyword\">this</span>.name()+<span class=\"code-string\">\"'\"</span>;<span class=\"code-keyword\">var</span> e=t.name?t.name:t;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Could not resolve '\"</span>+<span class=\"code-keyword\">this</span>.name()+<span class=\"code-string\">\"' from state '\"</span>+e+<span class=\"code-string\">\"'\"</span>},De.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"'\"</span>+<span class=\"code-keyword\">this</span>.name()+<span class=\"code-string\">\"'\"</span>+Qt(<span class=\"code-keyword\">this</span>.params())},De.prototype.withState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> De(<span class=\"code-keyword\">this</span>._stateRegistry,t,<span class=\"code-keyword\">this</span>._params,<span class=\"code-keyword\">this</span>._options)},De.prototype.withParams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> r=e?t:B({},<span class=\"code-keyword\">this</span>._params,t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> De(<span class=\"code-keyword\">this</span>._stateRegistry,<span class=\"code-keyword\">this</span>._identifier,r,<span class=\"code-keyword\">this</span>._options)},De.prototype.withOptions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> r=e?t:B({},<span class=\"code-keyword\">this</span>._options,t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> De(<span class=\"code-keyword\">this</span>._stateRegistry,<span class=\"code-keyword\">this</span>._identifier,<span class=\"code-keyword\">this</span>._params,r)},De.isDef=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;t.state&amp;&amp;(k(t.state)||O(t.state)&amp;&amp;k(t.state.name))},De);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">De</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">this</span>._stateRegistry=t,<span class=\"code-keyword\">this</span>._identifier=e,<span class=\"code-keyword\">this</span>._identifier=e,<span class=\"code-keyword\">this</span>._params=B({},r||{}),<span class=\"code-keyword\">this</span>._options=B({},n||{}),<span class=\"code-keyword\">this</span>._definition=t.matcher.find(e,<span class=\"code-keyword\">this</span>._options.relative)}<span class=\"code-keyword\">var</span> qe=(Ue.makeTargetState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=Pt(e).state;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Ae(t,r,e.map(m(<span class=\"code-string\">\"paramValues\"</span>)).reduce(it,{}),{})},Ue.buildPath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.params();<span class=\"code-keyword\">return</span> t.$state().path.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> He(t).applyRawParams(e)})},Ue.buildToPath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=Ue.buildPath(e);<span class=\"code-keyword\">return</span> e.options().inherit?Ue.inheritParams(t,r,<span class=\"code-built_in\">Object</span>.keys(e.params())):r},Ue.applyViewConfigs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,o,e</span>)</span>{o.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> K(e,t.state)}).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=pt(e.state.views||{}),r=Ue.subPath(o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t===e}),n=t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> i.createViewConfig(r,t)});e.views=n.reduce(mt,[])})},Ue.inheritParams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">o,t,a</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=[]);<span class=\"code-keyword\">var</span> u=o.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.paramSchema}).reduce(mt,[]).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!t.inherit}).map(m(<span class=\"code-string\">\"id\"</span>));<span class=\"code-keyword\">return</span> t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=B({},t&amp;&amp;t.paramValues),r=at(e,a);e=ut(e,a);<span class=\"code-keyword\">var</span> n=ut(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=ft(t,y(<span class=\"code-string\">\"state\"</span>,e));<span class=\"code-keyword\">return</span> B({},r&amp;&amp;r.paramValues)}(o,t.state)||{},u),i=B(e,n,r);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> He(t.state).applyRawParams(i)})},Ue.treeChanges=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r,i,o,a,u,s,c=<span class=\"code-built_in\">Math</span>.min(t.length,n.length),f=<span class=\"code-number\">0</span>;f&lt;c&amp;&amp;t[f].state!==e&amp;&amp;(r=t[f],i=n[f],r.equals(i,Ue.nonDynamicParams));)f++;a=(o=t).slice(<span class=\"code-number\">0</span>,f),u=o.slice(f);<span class=\"code-keyword\">var</span> l=a.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=t.clone();<span class=\"code-keyword\">return</span> r.paramValues=n[e].paramValues,r});<span class=\"code-keyword\">return</span> s=n.slice(f),{<span class=\"code-attr\">from</span>:o,<span class=\"code-attr\">to</span>:l.concat(s),<span class=\"code-attr\">retained</span>:a,<span class=\"code-attr\">retainedWithToParams</span>:l,<span class=\"code-attr\">exiting</span>:u,<span class=\"code-attr\">entering</span>:s}},Ue.matching=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,i</span>)</span>{<span class=\"code-keyword\">var</span> o=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> Ct(t,e).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=e[<span class=\"code-number\">0</span>],n=e[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span>(o=o||!r.equals(n,i))?t:t.concat(r)},[])},Ue.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> t.length===e.length&amp;&amp;Ue.matching(t,e,r).length===t.length},Ue.subPath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=ft(t,e),n=t.indexOf(r);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===n?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:t.slice(<span class=\"code-number\">0</span>,n+<span class=\"code-number\">1</span>)},Ue.nonDynamicParams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.state.parameters({<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">1</span>}).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!t.dynamic})},Ue.paramValues=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> B(t,e.paramValues)},{})},Ue);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ue</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-keyword\">var</span> Fe={<span class=\"code-attr\">when</span>:{<span class=\"code-attr\">LAZY</span>:<span class=\"code-string\">\"LAZY\"</span>,<span class=\"code-attr\">EAGER</span>:<span class=\"code-string\">\"EAGER\"</span>},<span class=\"code-attr\">async</span>:{<span class=\"code-attr\">WAIT</span>:<span class=\"code-string\">\"WAIT\"</span>,<span class=\"code-attr\">NOWAIT</span>:<span class=\"code-string\">\"NOWAIT\"</span>}},Ne={<span class=\"code-attr\">when</span>:<span class=\"code-string\">\"LAZY\"</span>,<span class=\"code-attr\">async</span>:<span class=\"code-string\">\"WAIT\"</span>},Le=(Me.prototype.getPolicy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.policy||{},r=t&amp;&amp;t.resolvePolicy||{};<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">when</span>:e.when||r.when||Ne.when,<span class=\"code-attr\">async</span>:e.async||r.async||Ne.async}},Me.prototype.resolve=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,t=D.$q,i=e.findNode(<span class=\"code-keyword\">this</span>),o=i&amp;&amp;i.state,a=<span class=\"code-keyword\">this</span>.getPolicy(o).async,u=T(a)?a:z;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.promise=t.when().then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.all(e.getDependencies(n).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.get(e,r)}))}).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.resolveFn.apply(<span class=\"code-literal\">null</span>,t)}).then(u).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.data=t,n.resolved=!<span class=\"code-number\">0</span>,n.resolveFn=<span class=\"code-literal\">null</span>,we.traceResolvableResolved(n,r),n.data})},Me.prototype.get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.promise||<span class=\"code-keyword\">this</span>.resolve(t,e)},Me.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Resolvable(token: \"</span>+Qt(<span class=\"code-keyword\">this</span>.token)+<span class=\"code-string\">\", requires: [\"</span>+<span class=\"code-keyword\">this</span>.deps.map(Qt)+<span class=\"code-string\">\"])\"</span>},Me.prototype.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Me(<span class=\"code-keyword\">this</span>)},Me.fromData=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Me(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e},<span class=\"code-literal\">null</span>,<span class=\"code-literal\">null</span>,e)},Me);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Me</span>(<span class=\"code-params\">t,e,r,n,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.resolved=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.promise=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,t <span class=\"code-keyword\">instanceof</span> Me)B(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(T(e)){<span class=\"code-keyword\">if</span>(C(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"new Resolvable(): token argument is required\"</span>);<span class=\"code-keyword\">if</span>(!T(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"new Resolvable(): resolveFn argument must be a function\"</span>);<span class=\"code-keyword\">this</span>.token=t,<span class=\"code-keyword\">this</span>.policy=n,<span class=\"code-keyword\">this</span>.resolveFn=e,<span class=\"code-keyword\">this</span>.deps=r||[],<span class=\"code-keyword\">this</span>.data=i,<span class=\"code-keyword\">this</span>.resolved=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i,<span class=\"code-keyword\">this</span>.promise=<span class=\"code-keyword\">this</span>.resolved?D.$q.when(<span class=\"code-keyword\">this</span>.data):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(O(t)&amp;&amp;t.token&amp;&amp;(t.hasOwnProperty(<span class=\"code-string\">\"resolveFn\"</span>)||t.hasOwnProperty(<span class=\"code-string\">\"data\"</span>))){<span class=\"code-keyword\">var</span> o=t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Me(o.token,o.resolveFn,o.deps,o.policy,o.data)}}<span class=\"code-keyword\">var</span> Be=Fe.when,Ge=[Be.EAGER,Be.LAZY],ze=[Be.EAGER],We=<span class=\"code-string\">\"Native Injector\"</span>,Je=(Qe.prototype.getTokens=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._path.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.concat(e.resolvables.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.token}))},[]).reduce(wt,[])},Qe.prototype.getResolvable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> Pt(<span class=\"code-keyword\">this</span>._path.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.resolvables}).reduce(mt,[]).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.token===e}))},Qe.prototype.getPolicy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.findNode(t);<span class=\"code-keyword\">return</span> t.getPolicy(e.state)},Qe.prototype.subContext=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Qe(qe.subPath(<span class=\"code-keyword\">this</span>._path,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.state===e}))},Qe.prototype.addResolvables=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=ft(<span class=\"code-keyword\">this</span>._path,y(<span class=\"code-string\">\"state\"</span>,e)),n=t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.token});r.resolvables=r.resolvables.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===n.indexOf(t.token)}).concat(t)},Qe.prototype.resolvePath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,u</span>)</span>{<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"LAZY\"</span>);<span class=\"code-keyword\">var</span> c=(K(Ge,t)?t:<span class=\"code-string\">\"LAZY\"</span>)===Fe.when.EAGER?ze:Ge;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">f</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> K(e,s.getPolicy(t)[r])}}we.traceResolvePath(<span class=\"code-keyword\">this</span>._path,t,u);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._path.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.get(a,u).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">token</span>:e.token,<span class=\"code-attr\">value</span>:t}})}<span class=\"code-keyword\">var</span> n=e.resolvables.filter(f(c,<span class=\"code-string\">\"when\"</span>)),i=n.filter(f([<span class=\"code-string\">\"NOWAIT\"</span>],<span class=\"code-string\">\"async\"</span>)),o=n.filter(l(f([<span class=\"code-string\">\"NOWAIT\"</span>],<span class=\"code-string\">\"async\"</span>))),a=s.subContext(e.state);<span class=\"code-keyword\">return</span> i.forEach(r),t.concat(o.map(r))},[]);<span class=\"code-keyword\">return</span> D.$q.all(e)},Qe.prototype.injector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._injector||(<span class=\"code-keyword\">this</span>._injector=<span class=\"code-keyword\">new</span> Ke(<span class=\"code-keyword\">this</span>))},Qe.prototype.findNode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ft(<span class=\"code-keyword\">this</span>._path,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> K(t.resolvables,e)})},Qe.prototype.getDependencies=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-keyword\">this</span>.findNode(e),i=(qe.subPath(<span class=\"code-keyword\">this</span>._path,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t===r})||<span class=\"code-keyword\">this</span>._path).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.concat(e.resolvables)},[]).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t!==e});<span class=\"code-keyword\">return</span> e.deps.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.token===e});<span class=\"code-keyword\">if</span>(t.length)<span class=\"code-keyword\">return</span> Pt(t);<span class=\"code-keyword\">var</span> r=n.injector().getNative(e);<span class=\"code-keyword\">if</span>($(r))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Could not find Dependency Injection token: \"</span>+Qt(e));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r},[],r)})},Qe);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qe</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._path=t}<span class=\"code-keyword\">var</span> Ke=(Ye.prototype.get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.context.getResolvable(t);<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"NOWAIT\"</span>===<span class=\"code-keyword\">this</span>.context.getPolicy(e).async)<span class=\"code-keyword\">return</span> e.get(<span class=\"code-keyword\">this</span>.context);<span class=\"code-keyword\">if</span>(!e.resolved)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Resolvable async .get() not complete:\"</span>+Qt(e.token));<span class=\"code-keyword\">return</span> e.data}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getNative(t)},Ye.prototype.getAsync=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.context.getResolvable(t);<span class=\"code-keyword\">return</span> e?e.get(<span class=\"code-keyword\">this</span>.context):D.$q.when(<span class=\"code-keyword\">this</span>.native.get(t))},Ye.prototype.getNative=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.native&amp;&amp;<span class=\"code-keyword\">this</span>.native.get(t)},Ye);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ye</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.context=t,<span class=\"code-keyword\">this</span>.native=<span class=\"code-keyword\">this</span>.get(We)||D.$injector}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ze</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.name}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xe</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.self.$$state=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t},t.self}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.parent&amp;&amp;t.parent.data&amp;&amp;(t.data=t.self.data=Q(t.parent.data,t.data)),t.data}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">er</span>(<span class=\"code-params\">a,u</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.self;<span class=\"code-keyword\">if</span>(e&amp;&amp;e.url&amp;&amp;e.name&amp;&amp;e.name.match(<span class=\"code-regexp\">/\\.\\*\\*$/</span>)){<span class=\"code-keyword\">var</span> r={};kt(e,r),r.url+=<span class=\"code-string\">\"{remainder:any}\"</span>,e=r}<span class=\"code-keyword\">var</span> n=t.parent,i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!k(t))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"^\"</span>===t.charAt(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">val</span>:e?t.substring(<span class=\"code-number\">1</span>):t,<span class=\"code-attr\">root</span>:e}}(e.url),o=i?a.compile(i.val,{<span class=\"code-attr\">state</span>:e}):e.url;<span class=\"code-keyword\">if</span>(!o)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(!a.isMatcher(o))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid url '\"</span>+o+<span class=\"code-string\">\"' in state '\"</span>+t+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">return</span> i&amp;&amp;i.root?o:(n&amp;&amp;n.navigable||u()).url.append(o)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.parent?t.parent.path.concat(t):[t]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.parent?B({},t.parent.includes):{};<span class=\"code-keyword\">return</span> e[t.name]=!<span class=\"code-number\">0</span>,e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ir</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.provide||t.token}<span class=\"code-keyword\">var</span> r,n,i=g([[m(<span class=\"code-string\">\"resolveFn\"</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(e(t),t.resolveFn,t.deps,t.policy)}],[m(<span class=\"code-string\">\"useFactory\"</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(e(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[m(<span class=\"code-string\">\"useClass\"</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(e(t),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> t.useClass},[],t.policy)}],[m(<span class=\"code-string\">\"useValue\"</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(e(t),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.useValue},[],t.policy,t.useValue)}],[m(<span class=\"code-string\">\"useExisting\"</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(e(t),z,[t.useExisting],t.policy)}]]),o=g([[c(m(<span class=\"code-string\">\"val\"</span>),k),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(t.token,z,[t.val],t.policy)}],[c(m(<span class=\"code-string\">\"val\"</span>),x),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(t.token,Pt(t.val),t.val.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),t.policy)}],[c(m(<span class=\"code-string\">\"val\"</span>),T),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(t.token,t.val,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=D.$injector;<span class=\"code-keyword\">return</span> t.$inject||e&amp;&amp;e.annotate(t,e.strictDi)||<span class=\"code-string\">\"deferred\"</span>}(t.val),t.policy)}]]),a=g([[h(Le),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t}],[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!(!t.token||!t.resolveFn)},i],[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!(!t.provide&amp;&amp;!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},i],[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!(t&amp;&amp;t.val&amp;&amp;(k(t.val)||x(t.val)||T(t.val)))},o],[p(!<span class=\"code-number\">0</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid resolve value: \"</span>+Qt(t))}]]),u=t.resolve;<span class=\"code-keyword\">return</span>(x(u)?u:(r=u,n=t.resolvePolicy||{},<span class=\"code-built_in\">Object</span>.keys(r||{}).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">token</span>:t,<span class=\"code-attr\">val</span>:r[t],<span class=\"code-attr\">deps</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">policy</span>:n[t]}}))).map(a)}<span class=\"code-keyword\">var</span> or=(ar.prototype.builder=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.builders,n=r[t]||[];<span class=\"code-keyword\">return</span> k(t)&amp;&amp;!E(e)?<span class=\"code-number\">1</span>&lt;n.length?n:n[<span class=\"code-number\">0</span>]:k(t)&amp;&amp;T(e)?(r[t]=n,r[t].push(e),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r[t].splice(r[t].indexOf(e,<span class=\"code-number\">1</span>))&amp;&amp;<span class=\"code-literal\">null</span>}):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},ar.prototype.build=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.matcher,r=<span class=\"code-keyword\">this</span>.builders,n=<span class=\"code-keyword\">this</span>.parentName(t);<span class=\"code-keyword\">if</span>(n&amp;&amp;!e.find(n,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r)<span class=\"code-keyword\">if</span>(r.hasOwnProperty(i)){<span class=\"code-keyword\">var</span> o=r[i].reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r(t,e)}},W);t[i]=o(t)}<span class=\"code-keyword\">return</span> t},ar.prototype.parentName=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.name||<span class=\"code-string\">\"\"</span>,r=e.split(<span class=\"code-string\">\".\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"**\"</span>===r.pop()&amp;&amp;r.pop(),r.length){<span class=\"code-keyword\">if</span>(t.parent)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"States that specify the 'parent:' property should not have a '.' in their name (\"</span>+e+<span class=\"code-string\">\")\"</span>);<span class=\"code-keyword\">return</span> r.join(<span class=\"code-string\">\".\"</span>)}<span class=\"code-keyword\">return</span> t.parent?k(t.parent)?t.parent:t.parent.name:<span class=\"code-string\">\"\"</span>},ar.prototype.name=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.name;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>!==e.indexOf(<span class=\"code-string\">\".\"</span>)||!t.parent)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> r=k(t.parent)?t.parent:t.parent.name;<span class=\"code-keyword\">return</span> r?r+<span class=\"code-string\">\".\"</span>+e:e},ar);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ar</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.matcher=e;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.find(<span class=\"code-string\">\"\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>===t.name}<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.builders={<span class=\"code-attr\">name</span>:[Ze],<span class=\"code-attr\">self</span>:[Xe],<span class=\"code-attr\">parent</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n(t)?<span class=\"code-literal\">null</span>:e.find(i.parentName(t))||r()}],<span class=\"code-attr\">data</span>:[tr],<span class=\"code-attr\">url</span>:[er(t,r)],<span class=\"code-attr\">navigable</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!e(t)&amp;&amp;t.url?t:t.parent?t.parent.navigable:<span class=\"code-literal\">null</span>}}(n)],<span class=\"code-attr\">params</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">var</span> t=r.url&amp;&amp;r.url.parameters({<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">1</span>})||[],e=pt(lt(ut(r.params||{},t.map(m(<span class=\"code-string\">\"id\"</span>))),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> n.fromConfig(e,<span class=\"code-literal\">null</span>,r.self)}));<span class=\"code-keyword\">return</span> t.concat(e).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>[t.id,t]}).reduce(Tt,{})}}(t.paramFactory)],<span class=\"code-attr\">views</span>:[],<span class=\"code-attr\">path</span>:[rr],<span class=\"code-attr\">includes</span>:[nr],<span class=\"code-attr\">resolvables</span>:[ir]}}<span class=\"code-keyword\">var</span> ur=(sr.create=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t=sr.isStateClass(t)?<span class=\"code-keyword\">new</span> t:t;<span class=\"code-keyword\">var</span> e=Q(Q(t,sr.prototype));<span class=\"code-keyword\">return</span> t.$$state=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e},e.self=t,e.__stateObjectCache={<span class=\"code-attr\">nameGlob</span>:Ht.fromString(e.name)},e},sr.prototype.is=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>===t||<span class=\"code-keyword\">this</span>.self===t||<span class=\"code-keyword\">this</span>.fqn()===t},sr.prototype.fqn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!(<span class=\"code-keyword\">this</span>.parent&amp;&amp;<span class=\"code-keyword\">this</span>.parent <span class=\"code-keyword\">instanceof</span> <span class=\"code-keyword\">this</span>.constructor))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.name;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.parent.fqn();<span class=\"code-keyword\">return</span> t?t+<span class=\"code-string\">\".\"</span>+<span class=\"code-keyword\">this</span>.name:<span class=\"code-keyword\">this</span>.name},sr.prototype.root=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.parent&amp;&amp;<span class=\"code-keyword\">this</span>.parent.root()||<span class=\"code-keyword\">this</span>},sr.prototype.parameters=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>((e=nt(e,{<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">matchingKeys</span>:<span class=\"code-literal\">null</span>})).inherit&amp;&amp;<span class=\"code-keyword\">this</span>.parent&amp;&amp;<span class=\"code-keyword\">this</span>.parent.parameters()||[]).concat(pt(<span class=\"code-keyword\">this</span>.params)).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},sr.prototype.parameter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={}),<span class=\"code-keyword\">this</span>.url&amp;&amp;<span class=\"code-keyword\">this</span>.url.parameter(t,e)||ft(pt(<span class=\"code-keyword\">this</span>.params),y(<span class=\"code-string\">\"id\"</span>,t))||e.inherit&amp;&amp;<span class=\"code-keyword\">this</span>.parent&amp;&amp;<span class=\"code-keyword\">this</span>.parent.parameter(t)},sr.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fqn()},sr.isStateClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> T(t)&amp;&amp;!<span class=\"code-number\">0</span>===t.__uiRouterState},sr.isStateDeclaration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> T(t.$$state)},sr.isState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> O(t.__stateObjectCache)},sr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> sr.create(t||{})}<span class=\"code-keyword\">var</span> cr=(fr.prototype.isRelative=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===(t=t||<span class=\"code-string\">\"\"</span>).indexOf(<span class=\"code-string\">\".\"</span>)||<span class=\"code-number\">0</span>===t.indexOf(<span class=\"code-string\">\"^\"</span>)},fr.prototype.find=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=!<span class=\"code-number\">0</span>),t||<span class=\"code-string\">\"\"</span>===t){<span class=\"code-keyword\">var</span> n=k(t),i=n?t:t.name;<span class=\"code-keyword\">this</span>.isRelative(i)&amp;&amp;(i=<span class=\"code-keyword\">this</span>.resolvePath(i,e));<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>._states[i];<span class=\"code-keyword\">if</span>(o&amp;&amp;(n||!(n||o!==t&amp;&amp;o.self!==t)))<span class=\"code-keyword\">return</span> o;<span class=\"code-keyword\">if</span>(n&amp;&amp;r){<span class=\"code-keyword\">var</span> a=pt(<span class=\"code-keyword\">this</span>._states).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.__stateObjectCache.nameGlob&amp;&amp;t.__stateObjectCache.nameGlob.matches(i)});<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>&lt;a.length&amp;&amp;ce.error(<span class=\"code-string\">\"stateMatcher.find: Found multiple matches for \"</span>+i+<span class=\"code-string\">\" using glob: \"</span>,a.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.name})),a[<span class=\"code-number\">0</span>]}}},fr.prototype.resolvePath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"No reference point given for path '\"</span>+t+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.find(e),n=t.split(<span class=\"code-string\">\".\"</span>),i=n.length,o=<span class=\"code-number\">0</span>,a=r;o&lt;i;o++)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\"</span>!==n[o]||<span class=\"code-number\">0</span>!==o){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"^\"</span>!==n[o])<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">if</span>(!a.parent)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Path '\"</span>+t+<span class=\"code-string\">\"' not valid for state '\"</span>+r.name+<span class=\"code-string\">\"'\"</span>);a=a.parent}<span class=\"code-keyword\">else</span> a=r;<span class=\"code-keyword\">var</span> u=n.slice(o).join(<span class=\"code-string\">\".\"</span>);<span class=\"code-keyword\">return</span> a.name+(a.name&amp;&amp;u?<span class=\"code-string\">\".\"</span>:<span class=\"code-string\">\"\"</span>)+u},fr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._states=t}<span class=\"code-keyword\">var</span> lr=(hr.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.queue=[]},hr.prototype.register=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.queue,r=ur.create(t),n=r.name;<span class=\"code-keyword\">if</span>(!k(n))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"State must have a valid name\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.states.hasOwnProperty(n)||K(e.map(m(<span class=\"code-string\">\"name\"</span>)),n))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"State '\"</span>+n+<span class=\"code-string\">\"' is already defined\"</span>);<span class=\"code-keyword\">return</span> e.push(r),<span class=\"code-keyword\">this</span>.flush(),r},hr.prototype.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-keyword\">this</span>.queue,r=<span class=\"code-keyword\">this</span>.states,n=<span class=\"code-keyword\">this</span>.builder,i=[],o=[],a={},u=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.states.hasOwnProperty(t)&amp;&amp;e.states[t]},s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.length&amp;&amp;e.listeners.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t(<span class=\"code-string\">\"registered\"</span>,i.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.self}))})};<span class=\"code-number\">0</span>&lt;t.length;){<span class=\"code-keyword\">var</span> c=t.shift(),f=c.name,l=n.build(c),h=o.indexOf(c);<span class=\"code-keyword\">if</span>(l){<span class=\"code-keyword\">var</span> p=u(f);<span class=\"code-keyword\">if</span>(p&amp;&amp;p.name===f)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"State '\"</span>+f+<span class=\"code-string\">\"' is already defined\"</span>);<span class=\"code-keyword\">var</span> v=u(f+<span class=\"code-string\">\".**\"</span>);v&amp;&amp;<span class=\"code-keyword\">this</span>.router.stateRegistry.deregister(v),r[f]=c,<span class=\"code-keyword\">this</span>.attachRoute(c),<span class=\"code-number\">0</span>&lt;=h&amp;&amp;o.splice(h,<span class=\"code-number\">1</span>),i.push(c)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> d=a[f];<span class=\"code-keyword\">if</span>(a[f]=t.length,<span class=\"code-number\">0</span>&lt;=h&amp;&amp;d===t.length)<span class=\"code-keyword\">return</span> t.push(c),s(),r;h&lt;<span class=\"code-number\">0</span>&amp;&amp;o.push(c),t.push(c)}}<span class=\"code-keyword\">return</span> s(),r},hr.prototype.attachRoute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!t.abstract&amp;&amp;t.url){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.router.urlService.rules;e.rule(e.urlRuleFactory.create(t))}},hr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hr</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>.states=e,<span class=\"code-keyword\">this</span>.builder=r,<span class=\"code-keyword\">this</span>.listeners=n,<span class=\"code-keyword\">this</span>.queue=[]}<span class=\"code-keyword\">var</span> pr,vr,dr=(mr.prototype._registerRoot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{(<span class=\"code-keyword\">this</span>._root=<span class=\"code-keyword\">this</span>.stateQueue.register({<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">url</span>:<span class=\"code-string\">\"^\"</span>,<span class=\"code-attr\">views</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">params</span>:{<span class=\"code-string\">\"#\"</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"hash\"</span>,<span class=\"code-attr\">dynamic</span>:!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">abstract</span>:!<span class=\"code-number\">0</span>})).navigable=<span class=\"code-literal\">null</span>},mr.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.stateQueue.dispose(),<span class=\"code-keyword\">this</span>.listeners=[],<span class=\"code-keyword\">this</span>.get().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.get(t)&amp;&amp;e.deregister(t)})},mr.prototype.onStatesChanged=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.listeners.push(t),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Z(<span class=\"code-keyword\">this</span>.listeners)(t)}.bind(<span class=\"code-keyword\">this</span>)},mr.prototype.root=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._root},mr.prototype.register=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.stateQueue.register(t)},mr.prototype._deregisterTree=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,n=<span class=\"code-keyword\">this</span>.get().map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.$$state()}),i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=n.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==e.indexOf(t.parent)});<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===t.length?t:t.concat(i(t))},e=i([t]),o=[t].concat(e).reverse();<span class=\"code-keyword\">return</span> o.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=r.router.urlService.rules;e.rules().filter(y(<span class=\"code-string\">\"state\"</span>,t)).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.removeRule(t)}),<span class=\"code-keyword\">delete</span> r.states[t.name]}),o},mr.prototype.deregister=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.get(t);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Can't deregister state; not found: \"</span>+t);<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._deregisterTree(e.$$state());<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.listeners.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t(<span class=\"code-string\">\"deregistered\"</span>,r.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.self}))}),r},mr.prototype.get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===<span class=\"code-built_in\">arguments</span>.length)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.states).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.states[t].self});<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.matcher.find(t,e);<span class=\"code-keyword\">return</span> n&amp;&amp;n.self||<span class=\"code-literal\">null</span>},mr.prototype.decorator=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.builder.builder(t,e)},mr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>.states={},<span class=\"code-keyword\">this</span>.listeners=[],<span class=\"code-keyword\">this</span>.matcher=<span class=\"code-keyword\">new</span> cr(<span class=\"code-keyword\">this</span>.states),<span class=\"code-keyword\">this</span>.builder=<span class=\"code-keyword\">new</span> or(<span class=\"code-keyword\">this</span>.matcher,t.urlMatcherFactory),<span class=\"code-keyword\">this</span>.stateQueue=<span class=\"code-keyword\">new</span> lr(t,<span class=\"code-keyword\">this</span>.states,<span class=\"code-keyword\">this</span>.builder,<span class=\"code-keyword\">this</span>.listeners),<span class=\"code-keyword\">this</span>._registerRoot()}(pr=d.TransitionHookPhase||(d.TransitionHookPhase={}))[pr.CREATE=<span class=\"code-number\">0</span>]=<span class=\"code-string\">\"CREATE\"</span>,pr[pr.BEFORE=<span class=\"code-number\">1</span>]=<span class=\"code-string\">\"BEFORE\"</span>,pr[pr.RUN=<span class=\"code-number\">2</span>]=<span class=\"code-string\">\"RUN\"</span>,pr[pr.SUCCESS=<span class=\"code-number\">3</span>]=<span class=\"code-string\">\"SUCCESS\"</span>,pr[pr.ERROR=<span class=\"code-number\">4</span>]=<span class=\"code-string\">\"ERROR\"</span>,(vr=d.TransitionHookScope||(d.TransitionHookScope={}))[vr.TRANSITION=<span class=\"code-number\">0</span>]=<span class=\"code-string\">\"TRANSITION\"</span>,vr[vr.STATE=<span class=\"code-number\">1</span>]=<span class=\"code-string\">\"STATE\"</span>;<span class=\"code-keyword\">var</span> yr={<span class=\"code-attr\">current</span>:W,<span class=\"code-attr\">transition</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">traceData</span>:{},<span class=\"code-attr\">bind</span>:<span class=\"code-literal\">null</span>},gr=(wr.chain=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.invokeHook()})},e||D.$q.when())},wr.invokeHooks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;t.length;r++){<span class=\"code-keyword\">var</span> n=t[r].invokeHook();<span class=\"code-keyword\">if</span>(A(n)){<span class=\"code-keyword\">var</span> i=t.slice(r+<span class=\"code-number\">1</span>);<span class=\"code-keyword\">return</span> wr.chain(i,n).then(e)}}<span class=\"code-keyword\">return</span> e()},wr.runAllHooks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.invokeHook()})},wr.prototype.logError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.transition.router.stateService.defaultErrorHandler()(t)},wr.prototype.invokeHook=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,r=<span class=\"code-keyword\">this</span>.registeredHook;<span class=\"code-keyword\">if</span>(!r._deregistered){<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.getNotCurrentRejection();<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.options;we.traceHookInvocation(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.transition,n);<span class=\"code-keyword\">var</span> i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.eventType.getErrorHandler(e)(t)},o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.eventType.getResultHandler(e)(t)};<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> a=r.callback.call(n.bind,e.transition,e.stateContext);<span class=\"code-keyword\">return</span>!<span class=\"code-keyword\">this</span>.type.synchronous&amp;&amp;A(a)?a.catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ft.normalize(t).toPromise()}).then(o,i):o(a)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">return</span> i(Ft.normalize(t))}<span class=\"code-keyword\">finally</span>{r.invokeLimit&amp;&amp;++r.invokeCount&gt;=r.invokeLimit&amp;&amp;r.deregister()}}},wr.prototype.handleHookResult=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,r=<span class=\"code-keyword\">this</span>.getNotCurrentRejection();<span class=\"code-keyword\">return</span> r||(A(t)?t.then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.handleHookResult(t)}):(we.traceHookResult(t,<span class=\"code-keyword\">this</span>.transition,<span class=\"code-keyword\">this</span>.options),!<span class=\"code-number\">1</span>===t?Ft.aborted(<span class=\"code-string\">\"Hook aborted transition\"</span>).toPromise():h(Ae)(t)?Ft.redirected(t).toPromise():<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>))},wr.prototype.getNotCurrentRejection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.transition.router;<span class=\"code-keyword\">return</span> t._disposed?Ft.aborted(<span class=\"code-string\">\"UIRouter instance #\"</span>+t.$id+<span class=\"code-string\">\" has been stopped (disposed)\"</span>).toPromise():<span class=\"code-keyword\">this</span>.transition._aborted?Ft.aborted().toPromise():<span class=\"code-keyword\">this</span>.isSuperseded()?Ft.superseded(<span class=\"code-keyword\">this</span>.options.current()).toPromise():<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},wr.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.options,e=<span class=\"code-keyword\">this</span>.registeredHook;<span class=\"code-keyword\">return</span>(R(<span class=\"code-string\">\"traceData.hookType\"</span>)(t)||<span class=\"code-string\">\"internal\"</span>)+<span class=\"code-string\">\" context: \"</span>+(R(<span class=\"code-string\">\"traceData.context.state.name\"</span>)(t)||R(<span class=\"code-string\">\"traceData.context\"</span>)(t)||<span class=\"code-string\">\"unknown\"</span>)+<span class=\"code-string\">\", \"</span>+Lt(<span class=\"code-number\">200</span>,zt(e.callback))},wr.HANDLE_RESULT=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.handleHookResult(t)}},wr.LOG_REJECTED_RESULT=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{A(t)&amp;&amp;t.catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.logError(Ft.normalize(t))})}},wr.LOG_ERROR=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.logError(t)}},wr.REJECT_ERROR=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Vt(t)}},wr.THROW_ERROR=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">throw</span> t}},wr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wr</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.transition=t,<span class=\"code-keyword\">this</span>.stateContext=e,<span class=\"code-keyword\">this</span>.registeredHook=r,<span class=\"code-keyword\">this</span>.options=n,<span class=\"code-keyword\">this</span>.isSuperseded=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.type.hookPhase===d.TransitionHookPhase.RUN&amp;&amp;!i.options.transition.isActive()},<span class=\"code-keyword\">this</span>.options=nt(n,yr),<span class=\"code-keyword\">this</span>.type=r.eventType}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_r</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> i=k(e)?[e]:e;<span class=\"code-keyword\">return</span>!!(T(i)?i:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=i,r=<span class=\"code-number\">0</span>;r&lt;e.length;r++){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> Ht(e[r]);<span class=\"code-keyword\">if</span>(n&amp;&amp;n.matches(t.name)||!n&amp;&amp;e[r]===t.name)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>})(t,r)}<span class=\"code-keyword\">var</span> Sr=($r.prototype._matchingNodes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> n=t.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> _r(t.state,e,r)});<span class=\"code-keyword\">return</span> n.length?n:<span class=\"code-literal\">null</span>},$r.prototype._getDefaultMatchCriteria=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> lt(<span class=\"code-keyword\">this</span>.tranSvc._pluginapi._getPathTypes(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>})},$r.prototype._getMatchingNodes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">o,a</span>)</span>{<span class=\"code-keyword\">var</span> u=<span class=\"code-keyword\">this</span>,s=B(<span class=\"code-keyword\">this</span>._getDefaultMatchCriteria(),<span class=\"code-keyword\">this</span>.matchCriteria);<span class=\"code-keyword\">return</span> pt(<span class=\"code-keyword\">this</span>.tranSvc._pluginapi._getPathTypes()).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=e.scope===d.TransitionHookScope.STATE,n=o[e.name]||[],i=r?n:[Pt(n)];<span class=\"code-keyword\">return</span> t[e.name]=u._matchingNodes(i,s[e.name],a),t},{})},$r.prototype.matches=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._getMatchingNodes(t,e);<span class=\"code-keyword\">return</span> pt(r).every(z)?r:<span class=\"code-literal\">null</span>},$r.prototype.deregister=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeHookFromRegistry(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>._deregistered=!<span class=\"code-number\">0</span>},$r);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$r</span>(<span class=\"code-params\">t,e,r,n,i,o</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o={}),<span class=\"code-keyword\">this</span>.tranSvc=t,<span class=\"code-keyword\">this</span>.eventType=e,<span class=\"code-keyword\">this</span>.callback=r,<span class=\"code-keyword\">this</span>.matchCriteria=n,<span class=\"code-keyword\">this</span>.removeHookFromRegistry=i,<span class=\"code-keyword\">this</span>.invokeCount=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._deregistered=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.priority=o.priority||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.bind=o.bind||<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.invokeLimit=o.invokeLimit}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">br</span>(<span class=\"code-params\">t,i,o</span>)</span>{<span class=\"code-keyword\">var</span> a=(t._registeredHooks=t._registeredHooks||{})[o.name]=[],u=Z(a);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={});<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> Sr(i,o,e,t,u,r);<span class=\"code-keyword\">return</span> a.push(n),n.deregister.bind(n)}<span class=\"code-keyword\">return</span> t[o.name]=e}<span class=\"code-keyword\">var</span> Rr=(Er.prototype.buildHooksForPhase=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.transition.router.transitionService._pluginapi._getEvents(t).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.buildHooks(t)}).reduce(mt,[]).filter(z)},Er.prototype.buildHooks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">o</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.transition,t=a.treeChanges(),e=<span class=\"code-keyword\">this</span>.getMatchingHooks(o,t,a);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span>[];<span class=\"code-keyword\">var</span> u={<span class=\"code-attr\">transition</span>:a,<span class=\"code-attr\">current</span>:a.options().current};<span class=\"code-keyword\">return</span> e.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> i.matches(t,a)[o.criteriaMatchPath.name].map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=B({<span class=\"code-attr\">bind</span>:i.bind,<span class=\"code-attr\">traceData</span>:{<span class=\"code-attr\">hookType</span>:o.name,<span class=\"code-attr\">context</span>:t}},u),r=o.criteriaMatchPath.scope===d.TransitionHookScope.STATE?t.state.self:<span class=\"code-literal\">null</span>,n=<span class=\"code-keyword\">new</span> gr(a,r,i,e);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">hook</span>:i,<span class=\"code-attr\">node</span>:t,<span class=\"code-attr\">transitionHook</span>:n}})}).reduce(mt,[]).sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=!<span class=\"code-number\">1</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=i?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>,n=(t.node.state.path.length-e.node.state.path.length)*r;<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!=n?n:e.hook.priority-t.hook.priority}}(o.reverseSort)).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.transitionHook})},Er.prototype.getMatchingHooks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r,n</span>)</span>{<span class=\"code-keyword\">var</span> t=e.hookPhase===d.TransitionHookPhase.CREATE,i=<span class=\"code-keyword\">this</span>.transition.router.transitionService;<span class=\"code-keyword\">return</span>(t?[i]:[<span class=\"code-keyword\">this</span>.transition,i]).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.getHooks(e.name)}).filter($t(x,<span class=\"code-string\">\"broken event named: \"</span>+e.name)).reduce(mt,[]).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.matches(r,n)})},Er);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Er</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.transition=t}<span class=\"code-keyword\">var</span> Cr=m(<span class=\"code-string\">\"self\"</span>),Tr=(Pr.prototype.onBefore=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.onStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.onExit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.onRetain=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.onEnter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.onFinish=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.onSuccess=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.onError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},Pr.prototype.createTransitionHookRegFns=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.router.transitionService._pluginapi._getEvents().filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.hookPhase!==d.TransitionHookPhase.CREATE}).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> br(e,e.router.transitionService,t)})},Pr.prototype.getHooks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._registeredHooks[t]},Pr.prototype.applyViewConfigs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._treeChanges.entering.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.state});qe.applyViewConfigs(t.transitionService.$view,<span class=\"code-keyword\">this</span>._treeChanges.to,e)},Pr.prototype.$<span class=\"code-keyword\">from</span>=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Pt(<span class=\"code-keyword\">this</span>._treeChanges.from).state},Pr.prototype.$to=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Pt(<span class=\"code-keyword\">this</span>._treeChanges.to).state},Pr.prototype.from=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.$<span class=\"code-keyword\">from</span>().self},Pr.prototype.to=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.$to().self},Pr.prototype.targetState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._targetState},Pr.prototype.is=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t <span class=\"code-keyword\">instanceof</span> Pr?<span class=\"code-keyword\">this</span>.is({<span class=\"code-attr\">to</span>:t.$to().name,<span class=\"code-attr\">from</span>:t.$<span class=\"code-keyword\">from</span>().name}):!(t.to&amp;&amp;!_r(<span class=\"code-keyword\">this</span>.$to(),t.to,<span class=\"code-keyword\">this</span>)||t.from&amp;&amp;!_r(<span class=\"code-keyword\">this</span>.$<span class=\"code-keyword\">from</span>(),t.from,<span class=\"code-keyword\">this</span>))},Pr.prototype.params=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"to\"</span>),<span class=\"code-built_in\">Object</span>.freeze(<span class=\"code-keyword\">this</span>._treeChanges[t].map(m(<span class=\"code-string\">\"paramValues\"</span>)).reduce(it,{}))},Pr.prototype.paramsChanged=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.params(<span class=\"code-string\">\"from\"</span>),r=<span class=\"code-keyword\">this</span>.params(<span class=\"code-string\">\"to\"</span>),e=[].concat(<span class=\"code-keyword\">this</span>._treeChanges.to).concat(<span class=\"code-keyword\">this</span>._treeChanges.from).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.paramSchema}).reduce(yt,[]).reduce(wt,[]);<span class=\"code-keyword\">return</span> Te.changed(e,t,r).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t[e.id]=r[e.id],t},{})},Pr.prototype.injector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"to\"</span>);<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._treeChanges[t];<span class=\"code-keyword\">return</span> e&amp;&amp;(r=qe.subPath(r,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.state===e||t.state.name===e})),<span class=\"code-keyword\">new</span> Je(r).injector()},Pr.prototype.getResolveTokens=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"to\"</span>),<span class=\"code-keyword\">new</span> Je(<span class=\"code-keyword\">this</span>._treeChanges[t]).getTokens()},Pr.prototype.addResolvable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-string\">\"\"</span>),t=h(Le)(t)?t:<span class=\"code-keyword\">new</span> Le(t);<span class=\"code-keyword\">var</span> r=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?e:e.name,n=<span class=\"code-keyword\">this</span>._treeChanges.to,i=ft(n,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.state.name===r});<span class=\"code-keyword\">new</span> Je(n).addResolvables([t],i.state)},Pr.prototype.redirectedFrom=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._options.redirectedFrom||<span class=\"code-literal\">null</span>},Pr.prototype.originalTransition=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.redirectedFrom();<span class=\"code-keyword\">return</span> t&amp;&amp;t.originalTransition()||<span class=\"code-keyword\">this</span>},Pr.prototype.options=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._options},Pr.prototype.entering=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> ht(<span class=\"code-keyword\">this</span>._treeChanges.entering,m(<span class=\"code-string\">\"state\"</span>)).map(Cr)},Pr.prototype.exiting=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> ht(<span class=\"code-keyword\">this</span>._treeChanges.exiting,m(<span class=\"code-string\">\"state\"</span>)).map(Cr).reverse()},Pr.prototype.retained=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> ht(<span class=\"code-keyword\">this</span>._treeChanges.retained,m(<span class=\"code-string\">\"state\"</span>)).map(Cr)},Pr.prototype.views=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"entering\"</span>);<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._treeChanges[t];<span class=\"code-keyword\">return</span>(r=e?r.filter(y(<span class=\"code-string\">\"state\"</span>,e)):r).map(m(<span class=\"code-string\">\"views\"</span>)).filter(z).reduce(mt,[])},Pr.prototype.treeChanges=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t?<span class=\"code-keyword\">this</span>._treeChanges[t]:<span class=\"code-keyword\">this</span>._treeChanges},Pr.prototype.redirect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">1</span>,r=<span class=\"code-keyword\">this</span>;<span class=\"code-literal\">null</span>!=(r=r.redirectedFrom());)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">20</span>&lt;++e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Too many consecutive Transition redirects (20+)\"</span>);<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">redirectedFrom</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">source</span>:<span class=\"code-string\">\"redirect\"</span>};<span class=\"code-string\">\"url\"</span>===<span class=\"code-keyword\">this</span>.options().source&amp;&amp;!<span class=\"code-number\">1</span>!==t.options().location&amp;&amp;(n.location=<span class=\"code-string\">\"replace\"</span>);<span class=\"code-keyword\">var</span> i=B({},<span class=\"code-keyword\">this</span>.options(),t.options(),n);t=t.withOptions(i,!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> o,a=<span class=\"code-keyword\">this</span>.router.transitionService.create(<span class=\"code-keyword\">this</span>._treeChanges.from,t),u=<span class=\"code-keyword\">this</span>._treeChanges.entering,s=a._treeChanges.entering;<span class=\"code-keyword\">return</span> qe.matching(s,u,qe.nonDynamicParams).filter(l((o=t.options().reloadState,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> o&amp;&amp;t.state.includes[o.name]}))).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.resolvables=u[e].resolvables}),a},Pr.prototype._changedParams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._treeChanges;<span class=\"code-keyword\">if</span>(!(<span class=\"code-keyword\">this</span>._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||Ct(t.to,t.from).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t[<span class=\"code-number\">0</span>].state!==t[<span class=\"code-number\">1</span>].state}).reduce(dt,!<span class=\"code-number\">1</span>))){<span class=\"code-keyword\">var</span> e=t.to.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.paramSchema}),r=[t.to,t.from].map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.paramValues})});<span class=\"code-keyword\">return</span> Ct(e,r[<span class=\"code-number\">0</span>],r[<span class=\"code-number\">1</span>]).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t[<span class=\"code-number\">0</span>],r=t[<span class=\"code-number\">1</span>],n=t[<span class=\"code-number\">2</span>];<span class=\"code-keyword\">return</span> Te.changed(e,r,n)}).reduce(mt,[])}},Pr.prototype.dynamic=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._changedParams();<span class=\"code-keyword\">return</span>!!t&amp;&amp;t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.dynamic}).reduce(dt,!<span class=\"code-number\">1</span>)},Pr.prototype.ignored=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>._ignoredReason()},Pr.prototype._ignoredReason=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(t.length!==e.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> r=qe.matching(t,e);<span class=\"code-keyword\">return</span> t.length===r.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!n||!t.state.includes[n.name]}).length}<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.router.globals.transition,n=<span class=\"code-keyword\">this</span>._options.reloadState,r=<span class=\"code-keyword\">this</span>.treeChanges(),i=e&amp;&amp;e.treeChanges();<span class=\"code-keyword\">return</span> i&amp;&amp;t(i.to,r.to)&amp;&amp;t(i.exiting,r.exiting)?<span class=\"code-string\">\"SameAsPending\"</span>:<span class=\"code-number\">0</span>===r.exiting.length&amp;&amp;<span class=\"code-number\">0</span>===r.entering.length&amp;&amp;t(r.from,r.to)?<span class=\"code-string\">\"SameAsCurrent\"</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},Pr.prototype.run=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r._hookBuilder.buildHooksForPhase(t)}<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,n=gr.runAllHooks,t=e(d.TransitionHookPhase.BEFORE);<span class=\"code-keyword\">return</span> gr.invokeHooks(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=r.router.globals;<span class=\"code-keyword\">return</span> t.lastStartedTransitionId=r.$id,t.transition=r,t.transitionHistory.enqueue(r),we.traceTransitionStart(r),D.$q.when(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)}).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=e(d.TransitionHookPhase.RUN);<span class=\"code-keyword\">return</span> gr.invokeHooks(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> D.$q.when(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)})}).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{we.traceSuccess(r.$to(),r),r.success=!<span class=\"code-number\">0</span>,r._deferred.resolve(r.to()),n(e(d.TransitionHookPhase.SUCCESS))},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{we.traceError(t,r),r.success=!<span class=\"code-number\">1</span>,r._deferred.reject(t),r._error=t,n(e(d.TransitionHookPhase.ERROR))}),<span class=\"code-keyword\">this</span>.promise},Pr.prototype.valid=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-keyword\">this</span>.error()||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.success},Pr.prototype.abort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{$(<span class=\"code-keyword\">this</span>.success)&amp;&amp;(<span class=\"code-keyword\">this</span>._aborted=!<span class=\"code-number\">0</span>)},Pr.prototype.error=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.$to();<span class=\"code-keyword\">if</span>(t.self.abstract)<span class=\"code-keyword\">return</span> Ft.invalid(<span class=\"code-string\">\"Cannot transition to abstract state '\"</span>+t.name+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">var</span> e=t.parameters(),r=<span class=\"code-keyword\">this</span>.params(),n=e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!t.validates(r[t.id])});<span class=\"code-keyword\">if</span>(n.length){<span class=\"code-keyword\">var</span> i=n.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"[\"</span>+t.id+<span class=\"code-string\">\":\"</span>+Qt(r[t.id])+<span class=\"code-string\">\"]\"</span>}).join(<span class=\"code-string\">\", \"</span>),o=<span class=\"code-string\">\"The following parameter values are not valid for state '\"</span>+t.name+<span class=\"code-string\">\"': \"</span>+i;<span class=\"code-keyword\">return</span> Ft.invalid(o)}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.success?<span class=\"code-keyword\">this</span>._error:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},Pr.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==t[<span class=\"code-string\">\"#\"</span>]&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t[<span class=\"code-string\">\"#\"</span>]?t:ut(t,[<span class=\"code-string\">\"#\"</span>])}<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.from(),r=<span class=\"code-keyword\">this</span>.to();<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Transition#\"</span>+<span class=\"code-keyword\">this</span>.$id+<span class=\"code-string\">\"( '\"</span>+(O(e)?e.name:e)+<span class=\"code-string\">\"'\"</span>+Qt(t(<span class=\"code-keyword\">this</span>._treeChanges.from.map(m(<span class=\"code-string\">\"paramValues\"</span>)).reduce(it,{})))+<span class=\"code-string\">\" -&gt; \"</span>+(<span class=\"code-keyword\">this</span>.valid()?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\"(X) \"</span>)+<span class=\"code-string\">\"'\"</span>+(O(r)?r.name:r)+<span class=\"code-string\">\"'\"</span>+Qt(t(<span class=\"code-keyword\">this</span>.params()))+<span class=\"code-string\">\" )\"</span>},Pr.diToken=Pr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pr</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._deferred=D.$q.defer(),<span class=\"code-keyword\">this</span>.promise=<span class=\"code-keyword\">this</span>._deferred.promise,<span class=\"code-keyword\">this</span>._registeredHooks={},<span class=\"code-keyword\">this</span>._hookBuilder=<span class=\"code-keyword\">new</span> Rr(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.isActive=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.router.globals.transition===n},<span class=\"code-keyword\">this</span>.router=r,!(<span class=\"code-keyword\">this</span>._targetState=e).valid())<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(e.error());<span class=\"code-keyword\">this</span>._options=B({<span class=\"code-attr\">current</span>:p(<span class=\"code-keyword\">this</span>)},e.options()),<span class=\"code-keyword\">this</span>.$id=r.transitionService._transitionCount++;<span class=\"code-keyword\">var</span> i=qe.buildToPath(t,e);<span class=\"code-keyword\">this</span>._treeChanges=qe.treeChanges(t,i,<span class=\"code-keyword\">this</span>._options.reloadState),<span class=\"code-keyword\">this</span>.createTransitionHookRegFns();<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>._hookBuilder.buildHooksForPhase(d.TransitionHookPhase.CREATE);gr.invokeHooks(o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}),<span class=\"code-keyword\">this</span>.applyViewConfigs(r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=[<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"\"</span>],n=t.replace(<span class=\"code-regexp\">/[\\\\\\[\\]\\^$*+?.()|{}]/g</span>,<span class=\"code-string\">\"\\\\$&amp;\"</span>);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> n;<span class=\"code-keyword\">switch</span>(e.squash){<span class=\"code-keyword\">case</span>!<span class=\"code-number\">1</span>:r=[<span class=\"code-string\">\"(\"</span>,<span class=\"code-string\">\")\"</span>+(e.isOptional?<span class=\"code-string\">\"?\"</span>:<span class=\"code-string\">\"\"</span>)];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span>!<span class=\"code-number\">0</span>:n=n.replace(<span class=\"code-regexp\">/\\/$/</span>,<span class=\"code-string\">\"\"</span>),r=[<span class=\"code-string\">\"(?:/(\"</span>,<span class=\"code-string\">\")|/)?\"</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:r=[<span class=\"code-string\">\"(\"</span>+e.squash+<span class=\"code-string\">\"|\"</span>,<span class=\"code-string\">\")?\"</span>]}<span class=\"code-keyword\">return</span> n+r[<span class=\"code-number\">0</span>]+e.type.pattern.source+r[<span class=\"code-number\">1</span>]}<span class=\"code-keyword\">var</span> Or=ne(<span class=\"code-string\">\"/\"</span>),xr={<span class=\"code-attr\">state</span>:{<span class=\"code-attr\">params</span>:{}},<span class=\"code-attr\">strict</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">caseInsensitive</span>:!<span class=\"code-number\">0</span>},jr=(Vr.encodeDashes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">encodeURIComponent</span>(t).replace(<span class=\"code-regexp\">/-/g</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"%5C%\"</span>+t.charCodeAt(<span class=\"code-number\">0</span>).toString(<span class=\"code-number\">16</span>).toUpperCase()})},Vr.pathSegmentsAndParams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ct(t._segments,t._params.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.location===d.DefType.PATH}).concat(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)).reduce(mt,[]).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>!==t&amp;&amp;E(t)})},Vr.queryParams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._params.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.location===d.DefType.SEARCH})},Vr.compare=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._cache.weights=t._cache.weights||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._cache.segments=t._cache.segments||t._cache.path.map(Vr.pathSegmentsAndParams).reduce(mt,[]).reduce(ie,[]).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> k(t)?Or(t):t}).reduce(mt,[])}(t).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"/\"</span>===t?<span class=\"code-number\">1</span>:k(t)?<span class=\"code-number\">2</span>:t <span class=\"code-keyword\">instanceof</span> Te?<span class=\"code-number\">3</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>})}<span class=\"code-keyword\">var</span> n=r(t),i=r(e);!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">Math</span>.max(t.length,e.length);t.length&lt;n;)t.push(r);<span class=\"code-keyword\">for</span>(;e.length&lt;n;)e.push(r)}(n,i,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> o,a,u=Ct(n,i);<span class=\"code-keyword\">for</span>(a=<span class=\"code-number\">0</span>;a&lt;u.length;a++)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!=(o=u[a][<span class=\"code-number\">0</span>]-u[a][<span class=\"code-number\">1</span>]))<span class=\"code-keyword\">return</span> o;<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>},Vr.prototype.append=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._children.push(t),t._cache={<span class=\"code-attr\">path</span>:<span class=\"code-keyword\">this</span>._cache.path.concat(t),<span class=\"code-attr\">parent</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">pattern</span>:<span class=\"code-literal\">null</span>},t},Vr.prototype.isRoot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._cache.path[<span class=\"code-number\">0</span>]===<span class=\"code-keyword\">this</span>},Vr.prototype.toString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pattern},Vr.prototype.exec=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n,e,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n={});<span class=\"code-keyword\">var</span> o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> t[e]=t[e]||r()}(<span class=\"code-keyword\">this</span>._cache,<span class=\"code-string\">\"pattern\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>([<span class=\"code-string\">\"^\"</span>,_t(i._cache.path.map(m(<span class=\"code-string\">\"_compiled\"</span>))).join(<span class=\"code-string\">\"\"</span>),!<span class=\"code-number\">1</span>===i.config.strict?<span class=\"code-string\">\"/?\"</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"$\"</span>].join(<span class=\"code-string\">\"\"</span>),i.config.caseInsensitive?<span class=\"code-string\">\"i\"</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)}).exec(t);<span class=\"code-keyword\">if</span>(!o)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.parameters(),u=a.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!t.isSearch()}),s=a.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.isSearch()}),c=<span class=\"code-keyword\">this</span>._cache.path.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._segments.length<span class=\"code-number\">-1</span>}).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t+e}),f={};<span class=\"code-keyword\">if</span>(c!==o.length<span class=\"code-number\">-1</span>)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unbalanced capture group in route '\"</span>+<span class=\"code-keyword\">this</span>.pattern+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>;l&lt;c;l++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=u[l],p=o[l+<span class=\"code-number\">1</span>],v=<span class=\"code-number\">0</span>;v&lt;h.replace.length;v++)h.replace[v].from===p&amp;&amp;(p=h.replace[v].to);p&amp;&amp;!<span class=\"code-number\">0</span>===h.array&amp;&amp;(p=ht(ht(d(p).split(<span class=\"code-regexp\">/-(?!\\\\)/</span>),d),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(<span class=\"code-regexp\">/\\\\-/g</span>,<span class=\"code-string\">\"-\"</span>)}).reverse()),E(p)&amp;&amp;(p=h.type.decode(p)),f[h.id]=h.value(p)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">d</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.split(<span class=\"code-string\">\"\"</span>).reverse().join(<span class=\"code-string\">\"\"</span>)}<span class=\"code-keyword\">return</span> s.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=n[t.id],r=<span class=\"code-number\">0</span>;r&lt;t.replace.length;r++)t.replace[r].from===e&amp;&amp;(e=t.replace[r].to);E(e)&amp;&amp;(e=t.type.decode(e)),f[t.id]=t.value(e)}),e&amp;&amp;(f[<span class=\"code-string\">\"#\"</span>]=e),f},Vr.prototype.parameters=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),!<span class=\"code-number\">1</span>===t.inherit?<span class=\"code-keyword\">this</span>._params:_t(<span class=\"code-keyword\">this</span>._cache.path.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._params}))},Vr.prototype.parameter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={});<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._cache.parent;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=i._params;t&lt;e.length;t++){<span class=\"code-keyword\">var</span> r=e[t];<span class=\"code-keyword\">if</span>(r.id===n)<span class=\"code-keyword\">return</span> r}}()||!<span class=\"code-number\">1</span>!==t.inherit&amp;&amp;e&amp;&amp;e.parameter(n,t)||<span class=\"code-literal\">null</span>},Vr.prototype.validates=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e=e||{},<span class=\"code-keyword\">this</span>.parameters().filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.hasOwnProperty(t.id)}).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>!t||t.validates(e)}(t,e[t.id])}).reduce(vt,!<span class=\"code-number\">0</span>)},Vr.prototype.format=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a={});<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._cache.path,e=t.map(Vr.pathSegmentsAndParams).reduce(mt,[]).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> k(t)?t:n(t)}),r=t.map(Vr.queryParams).reduce(mt,[]).map(n);<span class=\"code-keyword\">if</span>(e.concat(r).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>===t.isValid}).length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.value(a[t.id]),r=t.validates(e),n=t.isDefaultValue(e),i=!!n&amp;&amp;t.squash,o=t.type.encode(e);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">param</span>:t,<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">isValid</span>:r,<span class=\"code-attr\">isDefaultValue</span>:n,<span class=\"code-attr\">squash</span>:i,<span class=\"code-attr\">encoded</span>:o}}<span class=\"code-keyword\">var</span> i=e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(k(e))<span class=\"code-keyword\">return</span> t+e;<span class=\"code-keyword\">var</span> r=e.squash,n=e.encoded,i=e.param;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>===r?t.match(<span class=\"code-regexp\">/\\/$/</span>)?t.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>):t:k(r)?t+r:!<span class=\"code-number\">1</span>!==r?t:<span class=\"code-literal\">null</span>==n?t:x(n)?t+ht(n,Vr.encodeDashes).join(<span class=\"code-string\">\"-\"</span>):i.raw?t+n:t+<span class=\"code-built_in\">encodeURIComponent</span>(n)},<span class=\"code-string\">\"\"</span>),o=r.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.param,r=t.squash,n=t.encoded,i=t.isDefaultValue;<span class=\"code-keyword\">if</span>(!(<span class=\"code-literal\">null</span>==n||i&amp;&amp;!<span class=\"code-number\">1</span>!==r)&amp;&amp;(x(n)||(n=[n]),<span class=\"code-number\">0</span>!==n.length))<span class=\"code-keyword\">return</span> e.raw||(n=ht(n,<span class=\"code-built_in\">encodeURIComponent</span>)),n.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.id+<span class=\"code-string\">\"=\"</span>+t})}).filter(z).reduce(mt,[]).join(<span class=\"code-string\">\"&amp;\"</span>);<span class=\"code-keyword\">return</span> i+(o?<span class=\"code-string\">\"?\"</span>+o:<span class=\"code-string\">\"\"</span>)+(a[<span class=\"code-string\">\"#\"</span>]?<span class=\"code-string\">\"#\"</span>+a[<span class=\"code-string\">\"#\"</span>]:<span class=\"code-string\">\"\"</span>)},Vr.nameValidator=<span class=\"code-regexp\">/^\\w+([-.]+\\w+)*(?:\\[\\])?$/</span>,Vr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vr</span>(<span class=\"code-params\">o,a,t,e</span>)</span>{<span class=\"code-keyword\">var</span> u=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>._cache={<span class=\"code-attr\">path</span>:[<span class=\"code-keyword\">this</span>]},<span class=\"code-keyword\">this</span>._children=[],<span class=\"code-keyword\">this</span>._params=[],<span class=\"code-keyword\">this</span>._segments=[],<span class=\"code-keyword\">this</span>._compiled=[],<span class=\"code-keyword\">this</span>.config=e=nt(e,xr),<span class=\"code-keyword\">this</span>.pattern=o;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r,n,i,s=<span class=\"code-regexp\">/([:*])([\\w\\[\\]]+)|\\{([\\w\\[\\]]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g</span>,c=<span class=\"code-regexp\">/([:]?)([\\w\\[\\].-]+)|\\{([\\w\\[\\].-]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g</span>,f=[],l=<span class=\"code-number\">0</span>,h=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!Vr.nameValidator.test(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid parameter name '\"</span>+t+<span class=\"code-string\">\"' in pattern '\"</span>+o+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">if</span>(ft(u._params,y(<span class=\"code-string\">\"id\"</span>,t)))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Duplicate parameter name '\"</span>+t+<span class=\"code-string\">\"' in pattern '\"</span>+o+<span class=\"code-string\">\"'\"</span>)},p=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r,n=t[<span class=\"code-number\">2</span>]||t[<span class=\"code-number\">3</span>],i=e?t[<span class=\"code-number\">4</span>]:t[<span class=\"code-number\">4</span>]||(<span class=\"code-string\">\"*\"</span>===t[<span class=\"code-number\">1</span>]?<span class=\"code-string\">\"[\\\\s\\\\S]*\"</span>:<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">id</span>:n,<span class=\"code-attr\">regexp</span>:i,<span class=\"code-attr\">segment</span>:o.substring(l,t.index),<span class=\"code-attr\">type</span>:i?a.type(i)||(r=i,Q(a.type(e?<span class=\"code-string\">\"query\"</span>:<span class=\"code-string\">\"path\"</span>),{<span class=\"code-attr\">pattern</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(r,u.config.caseInsensitive?<span class=\"code-string\">\"i\"</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)})):<span class=\"code-literal\">null</span>}};(r=s.exec(o))&amp;&amp;!(<span class=\"code-number\">0</span>&lt;=(n=p(r,!<span class=\"code-number\">1</span>)).segment.indexOf(<span class=\"code-string\">\"?\"</span>));)h(n.id),<span class=\"code-keyword\">this</span>._params.push(t.fromPath(n.id,n.type,e.state)),<span class=\"code-keyword\">this</span>._segments.push(n.segment),f.push([n.segment,Pt(<span class=\"code-keyword\">this</span>._params)]),l=s.lastIndex;<span class=\"code-keyword\">var</span> v=(i=o.substring(l)).indexOf(<span class=\"code-string\">\"?\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;=v){<span class=\"code-keyword\">var</span> d=i.substring(v);<span class=\"code-keyword\">if</span>(i=i.substring(<span class=\"code-number\">0</span>,v),<span class=\"code-number\">0</span>&lt;d.length)<span class=\"code-keyword\">for</span>(l=<span class=\"code-number\">0</span>;r=c.exec(d);)h((n=p(r,!<span class=\"code-number\">0</span>)).id),<span class=\"code-keyword\">this</span>._params.push(t.fromSearch(n.id,n.type,e.state)),l=s.lastIndex}<span class=\"code-keyword\">this</span>._segments.push(i),<span class=\"code-keyword\">this</span>._compiled=f.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> kr.apply(<span class=\"code-literal\">null</span>,t)}).concat(kr(i))}<span class=\"code-keyword\">var</span> Hr=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(Hr=<span class=\"code-built_in\">Object</span>.assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,r=<span class=\"code-number\">1</span>,n=<span class=\"code-built_in\">arguments</span>.length;r&lt;n;r++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> e=<span class=\"code-built_in\">arguments</span>[r])<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(e,i)&amp;&amp;(t[i]=e[i]);<span class=\"code-keyword\">return</span> t}).apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)},Ir=(Ar.prototype.fromConfig=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Te(t,e,d.DefType.CONFIG,<span class=\"code-keyword\">this</span>.router.urlService.config,r)},Ar.prototype.fromPath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Te(t,e,d.DefType.PATH,<span class=\"code-keyword\">this</span>.router.urlService.config,r)},Ar.prototype.fromSearch=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Te(t,e,d.DefType.SEARCH,<span class=\"code-keyword\">this</span>.router.urlService.config,r)},Ar);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ar</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.router=t}<span class=\"code-keyword\">var</span> Dr=(qr.prototype.compile=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.router.urlService.config,n=e&amp;&amp;!e.state&amp;&amp;e.params;e=n?Hr({<span class=\"code-attr\">state</span>:{<span class=\"code-attr\">params</span>:n}},e):e;<span class=\"code-keyword\">var</span> i={<span class=\"code-attr\">strict</span>:r._isStrictMode,<span class=\"code-attr\">caseInsensitive</span>:r._isCaseInsensitive};<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> jr(t,r.paramTypes,<span class=\"code-keyword\">this</span>.paramFactory,B(i,e))},qr.prototype.isMatcher=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">if</span>(!O(r))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> n=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> M(jr.prototype,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{T(t)&amp;&amp;(n=n&amp;&amp;E(r[e])&amp;&amp;T(r[e]))}),n},qr.prototype.$<span class=\"code-keyword\">get</span>=function(){<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.router.urlService.config;<span class=\"code-keyword\">return</span> t.paramTypes.enqueue=!<span class=\"code-number\">1</span>,t.paramTypes._flushTypeQueue(),<span class=\"code-keyword\">this</span>},qr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>.paramFactory=<span class=\"code-keyword\">new</span> Ir(<span class=\"code-keyword\">this</span>.router),<span class=\"code-keyword\">this</span>.caseInsensitive=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.config.caseInsensitive(t)},<span class=\"code-keyword\">this</span>.defaultSquashPolicy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.config.defaultSquashPolicy(t)},<span class=\"code-keyword\">this</span>.strictMode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.config.strictMode(t)},<span class=\"code-keyword\">this</span>.type=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.config.type(t,e,r)||n},B(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">UrlMatcher</span>:jr,<span class=\"code-attr\">Param</span>:Te})}<span class=\"code-keyword\">var</span> Ur=(Fr.prototype.compile=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.router.urlMatcherFactory.compile(t)},Fr.prototype.create=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,n=ur.isState,i=ur.isStateDeclaration,o=g([[k,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> o(r.compile(t))}],[h(jr),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.fromUrlMatcher(t,e)}],[u(n,i),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.fromState(t,r.router)}],[h(<span class=\"code-built_in\">RegExp</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.fromRegExp(t,e)}],[T,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Nr(t,e)}]]),a=o(t);<span class=\"code-keyword\">if</span>(!a)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"invalid 'what' in when()\"</span>);<span class=\"code-keyword\">return</span> a},Fr.prototype.fromUrlMatcher=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,e</span>)</span>{<span class=\"code-keyword\">var</span> t=e;k(e)&amp;&amp;(e=<span class=\"code-keyword\">this</span>.router.urlMatcherFactory.compile(e)),h(jr)(e)&amp;&amp;(t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.format(t)});<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">urlMatcher</span>:r,<span class=\"code-attr\">matchPriority</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=r.parameters().filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.isOptional});<span class=\"code-keyword\">return</span> t.length?t.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e[t.id]}).length/t.length:<span class=\"code-number\">1e-6</span>},<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"URLMATCHER\"</span>};<span class=\"code-keyword\">return</span> B(<span class=\"code-keyword\">new</span> Nr(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=r.exec(t.path,t.search,t.hash);<span class=\"code-keyword\">return</span> r.validates(e)&amp;&amp;e},t),n)},Fr.prototype.fromState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-keyword\">var</span> i=ur.isStateDeclaration(t)?t.$$state():t,e={<span class=\"code-attr\">state</span>:i,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"STATE\"</span>};<span class=\"code-keyword\">return</span> B(<span class=\"code-keyword\">this</span>.fromUrlMatcher(i.url,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=n.stateService,r=n.globals;e.href(i,t)!==e.href(r.current,r.params)&amp;&amp;e.transitionTo(i,t,{<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">source</span>:<span class=\"code-string\">\"url\"</span>})}),e)},Fr.prototype.fromRegExp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e.global||e.sticky)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Rule RegExp must not be global or sticky\"</span>);<span class=\"code-keyword\">var</span> r=k(t)?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(<span class=\"code-regexp\">/\\$(\\$|\\d{1,2})/</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> r[<span class=\"code-string\">\"$\"</span>===e?<span class=\"code-number\">0</span>:<span class=\"code-built_in\">Number</span>(e)]})}:t,n={<span class=\"code-attr\">regexp</span>:e,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"REGEXP\"</span>};<span class=\"code-keyword\">return</span> B(<span class=\"code-keyword\">new</span> Nr(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.exec(t.path)},r),n)},Fr.isUrlRule=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;[<span class=\"code-string\">\"type\"</span>,<span class=\"code-string\">\"match\"</span>,<span class=\"code-string\">\"handler\"</span>].every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> E(e[t])})},Fr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.router=t}<span class=\"code-keyword\">var</span> Nr=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.match=t,<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"RAW\"</span>,<span class=\"code-keyword\">this</span>.matchPriority=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>-r.$id},<span class=\"code-keyword\">this</span>.handler=e||z};<span class=\"code-keyword\">var</span> Lr=(Mr.prototype.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.router.locationService;t?<span class=\"code-keyword\">this</span>.location=e.url():e.url()!==<span class=\"code-keyword\">this</span>.location&amp;&amp;e.url(<span class=\"code-keyword\">this</span>.location,!<span class=\"code-number\">0</span>)},Mr.prototype.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=r&amp;&amp;!!r.replace;<span class=\"code-keyword\">this</span>.router.urlService.url(t.format(e||{}),n)},Mr.prototype.href=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=t.format(e);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>==n)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;r=r||{<span class=\"code-attr\">absolute</span>:!<span class=\"code-number\">1</span>};<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.router.urlService.config,o=i.html5Mode();<span class=\"code-keyword\">if</span>(o||<span class=\"code-literal\">null</span>===n||(n=<span class=\"code-string\">\"#\"</span>+i.hashPrefix()+n),n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"/\"</span>===n?t:e?Yt(n)+t:r?n.slice(<span class=\"code-number\">1</span>)+t:t}(n,o,r.absolute,i.baseHref()),!r.absolute||!n)<span class=\"code-keyword\">return</span> n;<span class=\"code-keyword\">var</span> a=!o&amp;&amp;n?<span class=\"code-string\">\"/\"</span>:<span class=\"code-string\">\"\"</span>,u=i.port(),s=<span class=\"code-number\">80</span>===u||<span class=\"code-number\">443</span>===u?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\":\"</span>+u;<span class=\"code-keyword\">return</span>[i.protocol(),<span class=\"code-string\">\"://\"</span>,i.host(),s,a,n].join(<span class=\"code-string\">\"\"</span>)},<span class=\"code-built_in\">Object</span>.defineProperty(Mr.prototype,<span class=\"code-string\">\"interceptDeferred\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.router.urlService.interceptDeferred},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),Mr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>.sync=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.sync(t)},<span class=\"code-keyword\">this</span>.listen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.listen(t)},<span class=\"code-keyword\">this</span>.deferIntercept=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.deferIntercept(t)},<span class=\"code-keyword\">this</span>.match=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.match(t)},<span class=\"code-keyword\">this</span>.initial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.rules.initial(t)},<span class=\"code-keyword\">this</span>.otherwise=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.rules.otherwise(t)},<span class=\"code-keyword\">this</span>.removeRule=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.rules.removeRule(t)},<span class=\"code-keyword\">this</span>.rule=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.rules.rule(t)},<span class=\"code-keyword\">this</span>.rules=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.rules.rules()},<span class=\"code-keyword\">this</span>.sort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.rules.sort(t)},<span class=\"code-keyword\">this</span>.when=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> n.router.urlService.rules.when(t,e,r)},<span class=\"code-keyword\">this</span>.urlRuleFactory=<span class=\"code-keyword\">new</span> Ur(t)}<span class=\"code-keyword\">var</span> Br=(Gr.normalizeUIViewTarget=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">var</span> r=e.split(<span class=\"code-string\">\"@\"</span>),n=r[<span class=\"code-number\">0</span>]||<span class=\"code-string\">\"$default\"</span>,i=k(r[<span class=\"code-number\">1</span>])?r[<span class=\"code-number\">1</span>]:<span class=\"code-string\">\"^\"</span>,o=<span class=\"code-regexp\">/^(\\^(?:\\.\\^)*)\\.(.*$)/</span>.exec(n);<span class=\"code-keyword\">return</span> o&amp;&amp;(i=o[<span class=\"code-number\">1</span>],n=o[<span class=\"code-number\">2</span>]),<span class=\"code-string\">\"!\"</span>===n.charAt(<span class=\"code-number\">0</span>)&amp;&amp;(n=n.substr(<span class=\"code-number\">1</span>),i=<span class=\"code-string\">\"\"</span>),/^(\\^(?:\\.\\^)*)$/.exec(i)?i=i.split(<span class=\"code-string\">\".\"</span>).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.parent},t).name:<span class=\"code-string\">\".\"</span>===i&amp;&amp;(i=t.name),{<span class=\"code-attr\">uiViewName</span>:n,<span class=\"code-attr\">uiViewContextAnchor</span>:i}},Gr.prototype._rootViewContext=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._rootContext=t||<span class=\"code-keyword\">this</span>._rootContext},Gr.prototype._viewConfigFactory=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>._viewConfigFactories[t]=e},Gr.prototype.createViewConfig=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._viewConfigFactories[e.$type];<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"ViewService: No view config factory registered for type \"</span>+e.$type);<span class=\"code-keyword\">var</span> n=r(t,e);<span class=\"code-keyword\">return</span> x(n)?n:[n]},Gr.prototype.deactivateViewConfig=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{we.traceViewServiceEvent(<span class=\"code-string\">\"&lt;- Removing\"</span>,t),Z(<span class=\"code-keyword\">this</span>._viewConfigs,t)},Gr.prototype.activateViewConfig=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{we.traceViewServiceEvent(<span class=\"code-string\">\"-&gt; Registering\"</span>,t),<span class=\"code-keyword\">this</span>._viewConfigs.push(t)},Gr.prototype.sync=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,n=<span class=\"code-keyword\">this</span>._uiViews.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>[t.fqn,t]}).reduce(Tt,{});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.viewDecl.$context,r=<span class=\"code-number\">0</span>;++r&amp;&amp;e.parent;)e=e.parent;<span class=\"code-keyword\">return</span> r}<span class=\"code-keyword\">var</span> o=s(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">return</span> e*(t(r)-t(n))}),t=<span class=\"code-keyword\">this</span>._uiViews.sort(o(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;t.parent?e(t.parent)+<span class=\"code-number\">1</span>:<span class=\"code-number\">1</span>};<span class=\"code-keyword\">return</span> <span class=\"code-number\">1e4</span>*t.fqn.split(<span class=\"code-string\">\".\"</span>).length+e(t.creationContext)},<span class=\"code-number\">1</span>)).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=r._viewConfigs.filter(Gr.matches(n,t));<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>&lt;e.length&amp;&amp;e.sort(o(i,<span class=\"code-number\">-1</span>)),{<span class=\"code-attr\">uiView</span>:t,<span class=\"code-attr\">viewConfig</span>:e[<span class=\"code-number\">0</span>]}}),e=t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.viewConfig}),a=<span class=\"code-keyword\">this</span>._viewConfigs.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!K(e,t)}).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">uiView</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">viewConfig</span>:t}});t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-number\">-1</span>!==r._uiViews.indexOf(t.uiView)&amp;&amp;t.uiView.configUpdated(t.viewConfig)});<span class=\"code-keyword\">var</span> u=t.concat(a);<span class=\"code-keyword\">this</span>._listeners.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t(u)}),we.traceViewSync(u)},Gr.prototype.registerUIView=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{we.traceViewServiceUIViewEvent(<span class=\"code-string\">\"-&gt; Registering\"</span>,e);<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._uiViews;<span class=\"code-keyword\">return</span> t.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.fqn===e.fqn&amp;&amp;t.$type===e.$type}).length&amp;&amp;we.traceViewServiceUIViewEvent(<span class=\"code-string\">\"!!!! duplicate uiView named:\"</span>,e),t.push(e),<span class=\"code-keyword\">this</span>.sync(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">-1</span>!==t.indexOf(e)?(we.traceViewServiceUIViewEvent(<span class=\"code-string\">\"&lt;- Deregistering\"</span>,e),Z(t)(e)):we.traceViewServiceUIViewEvent(<span class=\"code-string\">\"Tried removing non-registered uiView\"</span>,e)}},Gr.prototype.available=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._uiViews.map(m(<span class=\"code-string\">\"fqn\"</span>))},Gr.prototype.active=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._uiViews.filter(m(<span class=\"code-string\">\"$config\"</span>)).map(m(<span class=\"code-string\">\"name\"</span>))},Gr.matches=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">u,s</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(s.$type!==t.viewDecl.$type)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> e=t.viewDecl,r=e.$uiViewName.split(<span class=\"code-string\">\".\"</span>),n=s.fqn.split(<span class=\"code-string\">\".\"</span>);<span class=\"code-keyword\">if</span>(!G(r,n.slice(<span class=\"code-number\">0</span>-r.length)))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">1</span>-r.length||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,o=n.slice(<span class=\"code-number\">0</span>,i).join(<span class=\"code-string\">\".\"</span>),a=u[o].creationContext;<span class=\"code-keyword\">return</span> e.$uiViewContextAnchor===(a&amp;&amp;a.name)}},Gr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>._uiViews=[],<span class=\"code-keyword\">this</span>._viewConfigs=[],<span class=\"code-keyword\">this</span>._viewConfigFactories={},<span class=\"code-keyword\">this</span>._listeners=[],<span class=\"code-keyword\">this</span>._pluginapi={<span class=\"code-attr\">_rootViewContext</span>:<span class=\"code-keyword\">this</span>._rootViewContext.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">_viewConfigFactory</span>:<span class=\"code-keyword\">this</span>._viewConfigFactory.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">_registeredUIView</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ft(r._uiViews,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.router.$id+<span class=\"code-string\">\".\"</span>+t.id===e})},<span class=\"code-attr\">_registeredUIViews</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r._uiViews},<span class=\"code-attr\">_activeViewConfigs</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r._viewConfigs},<span class=\"code-attr\">_onSync</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r._listeners.push(t),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Z(r._listeners,t)}}}}<span class=\"code-keyword\">var</span> zr=(Wr.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.transitionHistory.clear(),<span class=\"code-keyword\">this</span>.successfulTransitions.clear(),<span class=\"code-keyword\">this</span>.transition=<span class=\"code-literal\">null</span>},Wr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wr</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.params=<span class=\"code-keyword\">new</span> je,<span class=\"code-keyword\">this</span>.lastStartedTransitionId=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.transitionHistory=<span class=\"code-keyword\">new</span> Dt([],<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.successfulTransitions=<span class=\"code-keyword\">new</span> Dt([],<span class=\"code-number\">1</span>)}<span class=\"code-keyword\">var</span> Jr;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!(T(t)||k(t)||h(Ae)(t)||Ae.isDef(t)))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"'handler' must be a string, function, TargetState, or have a state: 'newtarget' property\"</span>);<span class=\"code-keyword\">return</span> T(t)?t:p(t)}Jr=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(e.priority||<span class=\"code-number\">0</span>)-(t.priority||<span class=\"code-number\">0</span>)}(t,e);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==r?r:<span class=\"code-number\">0</span>!==(r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r={<span class=\"code-attr\">STATE</span>:<span class=\"code-number\">4</span>,<span class=\"code-attr\">URLMATCHER</span>:<span class=\"code-number\">4</span>,<span class=\"code-attr\">REGEXP</span>:<span class=\"code-number\">3</span>,<span class=\"code-attr\">RAW</span>:<span class=\"code-number\">2</span>,<span class=\"code-attr\">OTHER</span>:<span class=\"code-number\">1</span>};<span class=\"code-keyword\">return</span>(r[t.type]||<span class=\"code-number\">0</span>)-(r[e.type]||<span class=\"code-number\">0</span>)}(t,e))?r:<span class=\"code-number\">0</span>!==(r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.urlMatcher&amp;&amp;e.urlMatcher?jr.compare(t.urlMatcher,e.urlMatcher):<span class=\"code-number\">0</span>}(t,e))?r:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r={<span class=\"code-attr\">STATE</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">URLMATCHER</span>:!<span class=\"code-number\">0</span>};<span class=\"code-keyword\">return</span> r[t.type]&amp;&amp;r[e.type]?<span class=\"code-number\">0</span>:(t.$id||<span class=\"code-number\">0</span>)-(e.$id||<span class=\"code-number\">0</span>)}(t,e)};<span class=\"code-keyword\">var</span> Kr=(Yr.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._rules=[],<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._otherwiseFn},Yr.prototype.initial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Qr(t);<span class=\"code-keyword\">this</span>.rule(<span class=\"code-keyword\">this</span>.urlRuleFactory.create(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===e.globals.transitionHistory.size()&amp;&amp;!!<span class=\"code-regexp\">/^\\/?$/</span>.exec(t.path)},e))},Yr.prototype.otherwise=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Qr(t);<span class=\"code-keyword\">this</span>._otherwiseFn=<span class=\"code-keyword\">this</span>.urlRuleFactory.create(p(!<span class=\"code-number\">0</span>),e),<span class=\"code-keyword\">this</span>._sorted=!<span class=\"code-number\">1</span>},Yr.prototype.removeRule=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Z(<span class=\"code-keyword\">this</span>._rules,t)},Yr.prototype.rule=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!Ur.isUrlRule(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"invalid rule\"</span>);<span class=\"code-keyword\">return</span> t.$id=<span class=\"code-keyword\">this</span>._id++,t.priority=t.priority||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._rules.push(t),<span class=\"code-keyword\">this</span>._sorted=!<span class=\"code-number\">1</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.removeRule(t)}},Yr.prototype.rules=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.ensureSorted(),<span class=\"code-keyword\">this</span>._rules.concat(<span class=\"code-keyword\">this</span>._otherwiseFn?[<span class=\"code-keyword\">this</span>._otherwiseFn]:[])},Yr.prototype.sort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.stableSort(<span class=\"code-keyword\">this</span>._rules,<span class=\"code-keyword\">this</span>._sortFn=t||<span class=\"code-keyword\">this</span>._sortFn),r=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>;n&lt;e.length;n++)e[n]._group=r,n&lt;e.length<span class=\"code-number\">-1</span>&amp;&amp;<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>._sortFn(e[n],e[n+<span class=\"code-number\">1</span>])&amp;&amp;r++;<span class=\"code-keyword\">this</span>._rules=e,<span class=\"code-keyword\">this</span>._sorted=!<span class=\"code-number\">0</span>},Yr.prototype.ensureSorted=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._sorted||<span class=\"code-keyword\">this</span>.sort()},Yr.prototype.stableSort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-keyword\">var</span> e=t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">elem</span>:t,<span class=\"code-attr\">idx</span>:e}});<span class=\"code-keyword\">return</span> e.sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=n(t.elem,e.elem);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===r?t.idx-e.idx:r}),e.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.elem})},Yr.prototype.when=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.urlRuleFactory.create(t,e);<span class=\"code-keyword\">return</span> E(r&amp;&amp;r.priority)&amp;&amp;(n.priority=r.priority),<span class=\"code-keyword\">this</span>.rule(n),n},Yr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>._sortFn=Jr,<span class=\"code-keyword\">this</span>._rules=[],<span class=\"code-keyword\">this</span>._id=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.urlRuleFactory=<span class=\"code-keyword\">new</span> Ur(t)}<span class=\"code-keyword\">var</span> Zr=(Xr.prototype.caseInsensitive=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isCaseInsensitive=E(t)?t:<span class=\"code-keyword\">this</span>._isCaseInsensitive},Xr.prototype.defaultSquashPolicy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(E(t)&amp;&amp;!<span class=\"code-number\">0</span>!==t&amp;&amp;!<span class=\"code-number\">1</span>!==t&amp;&amp;!k(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid squash policy: \"</span>+t+<span class=\"code-string\">\". Valid policies: false, true, arbitrary-string\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._defaultSquashPolicy=E(t)?t:<span class=\"code-keyword\">this</span>._defaultSquashPolicy},Xr.prototype.strictMode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isStrictMode=E(t)?t:<span class=\"code-keyword\">this</span>._isStrictMode},Xr.prototype.type=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.paramTypes.type(t,e,r);<span class=\"code-keyword\">return</span> E(e)?<span class=\"code-keyword\">this</span>:n},Xr);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>.paramTypes=<span class=\"code-keyword\">new</span> ke,<span class=\"code-keyword\">this</span>._isCaseInsensitive=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._isStrictMode=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._defaultSquashPolicy=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.paramTypes.dispose()},<span class=\"code-keyword\">this</span>.baseHref=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.router.locationConfig.baseHref()},<span class=\"code-keyword\">this</span>.hashPrefix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.router.locationConfig.hashPrefix(t)},<span class=\"code-keyword\">this</span>.host=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.router.locationConfig.host()},<span class=\"code-keyword\">this</span>.html5Mode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.router.locationConfig.html5Mode()},<span class=\"code-keyword\">this</span>.port=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.router.locationConfig.port()},<span class=\"code-keyword\">this</span>.protocol=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.router.locationConfig.protocol()}}<span class=\"code-keyword\">var</span> tn=(en.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.listen(!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.rules.dispose()},en.prototype.parts=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">path</span>:<span class=\"code-keyword\">this</span>.path(),<span class=\"code-attr\">search</span>:<span class=\"code-keyword\">this</span>.search(),<span class=\"code-attr\">hash</span>:<span class=\"code-keyword\">this</span>.hash()}},en.prototype.sync=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!t||!t.defaultPrevented){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.router,r=e.urlService,n=e.stateService,i={<span class=\"code-attr\">path</span>:r.path(),<span class=\"code-attr\">search</span>:r.search(),<span class=\"code-attr\">hash</span>:r.hash()},o=<span class=\"code-keyword\">this</span>.match(i);g([[k,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.url(t,!<span class=\"code-number\">0</span>)}],[Ae.isDef,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.go(t.state,t.params,t.options)}],[h(Ae),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.go(t.state(),t.params(),t.options())}]])(o&amp;&amp;o.rule.handler(o.match,i,<span class=\"code-keyword\">this</span>.router))}},en.prototype.listen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._stopListeningFn=<span class=\"code-keyword\">this</span>._stopListeningFn||<span class=\"code-keyword\">this</span>.router.urlService.onChange(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.sync(t)});<span class=\"code-keyword\">this</span>._stopListeningFn&amp;&amp;<span class=\"code-keyword\">this</span>._stopListeningFn(),<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._stopListeningFn},en.prototype.deferIntercept=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.interceptDeferred=t},en.prototype.match=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;t=B({<span class=\"code-attr\">path</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">search</span>:{},<span class=\"code-attr\">hash</span>:<span class=\"code-string\">\"\"</span>},t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r,n,i,o=<span class=\"code-keyword\">this</span>.rules.rules(),a=<span class=\"code-number\">0</span>;a&lt;o.length&amp;&amp;(!r||r.rule._group===o[a]._group);a++){<span class=\"code-keyword\">var</span> u=(n=o[a],(i=n.match(t,e.router))&amp;&amp;{<span class=\"code-attr\">match</span>:i,<span class=\"code-attr\">rule</span>:n,<span class=\"code-attr\">weight</span>:n.matchPriority(i)});r=!r||u&amp;&amp;u.weight&gt;r.weight?u:r}<span class=\"code-keyword\">return</span> r},en);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">en</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>.interceptDeferred=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.rules=<span class=\"code-keyword\">new</span> Kr(<span class=\"code-keyword\">this</span>.router),<span class=\"code-keyword\">this</span>.config=<span class=\"code-keyword\">new</span> Zr(<span class=\"code-keyword\">this</span>.router),<span class=\"code-keyword\">this</span>.url=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">return</span> n.router.locationService.url(t,e,r)},<span class=\"code-keyword\">this</span>.path=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.router.locationService.path()},<span class=\"code-keyword\">this</span>.search=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.router.locationService.search()},<span class=\"code-keyword\">this</span>.hash=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.router.locationService.hash()},<span class=\"code-keyword\">this</span>.onChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.router.locationService.onChange(t)}}<span class=\"code-keyword\">var</span> rn=<span class=\"code-number\">0</span>,nn=I(<span class=\"code-string\">\"LocationServices\"</span>,[<span class=\"code-string\">\"url\"</span>,<span class=\"code-string\">\"path\"</span>,<span class=\"code-string\">\"search\"</span>,<span class=\"code-string\">\"hash\"</span>,<span class=\"code-string\">\"onChange\"</span>]),on=I(<span class=\"code-string\">\"LocationConfig\"</span>,[<span class=\"code-string\">\"port\"</span>,<span class=\"code-string\">\"protocol\"</span>,<span class=\"code-string\">\"host\"</span>,<span class=\"code-string\">\"baseHref\"</span>,<span class=\"code-string\">\"html5Mode\"</span>,<span class=\"code-string\">\"hashPrefix\"</span>]),an=(un.prototype.disposable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._disposables.push(t)},un.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;t&amp;&amp;T(t.dispose)?t.dispose(<span class=\"code-keyword\">this</span>):(<span class=\"code-keyword\">this</span>._disposed=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._disposables.slice().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t.dispose&amp;&amp;t.dispose(e),Z(e._disposables,t)}<span class=\"code-keyword\">catch</span>(t){}}))},un.prototype.plugin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={});<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> t(<span class=\"code-keyword\">this</span>,e);<span class=\"code-keyword\">if</span>(!r.name)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Required property `name` missing on plugin: \"</span>+r);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._disposables.push(r),<span class=\"code-keyword\">this</span>._plugins[r.name]=r},un.prototype.getPlugin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t?<span class=\"code-keyword\">this</span>._plugins[t]:pt(<span class=\"code-keyword\">this</span>._plugins)},un);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">un</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=nn),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=on),<span class=\"code-keyword\">this</span>.locationService=t,<span class=\"code-keyword\">this</span>.locationConfig=e,<span class=\"code-keyword\">this</span>.$id=rn++,<span class=\"code-keyword\">this</span>._disposed=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._disposables=[],<span class=\"code-keyword\">this</span>.trace=we,<span class=\"code-keyword\">this</span>.viewService=<span class=\"code-keyword\">new</span> Br(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.globals=<span class=\"code-keyword\">new</span> zr,<span class=\"code-keyword\">this</span>.transitionService=<span class=\"code-keyword\">new</span> kn(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.urlMatcherFactory=<span class=\"code-keyword\">new</span> Dr(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.urlRouter=<span class=\"code-keyword\">new</span> Lr(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.urlService=<span class=\"code-keyword\">new</span> tn(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.stateRegistry=<span class=\"code-keyword\">new</span> dr(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.stateService=<span class=\"code-keyword\">new</span> xn(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>._plugins={},<span class=\"code-keyword\">this</span>.viewService._pluginapi._rootViewContext(<span class=\"code-keyword\">this</span>.stateRegistry.root()),<span class=\"code-keyword\">this</span>.globals.$current=<span class=\"code-keyword\">this</span>.stateRegistry.root(),<span class=\"code-keyword\">this</span>.globals.current=<span class=\"code-keyword\">this</span>.globals.$current.self,<span class=\"code-keyword\">this</span>.disposable(<span class=\"code-keyword\">this</span>.globals),<span class=\"code-keyword\">this</span>.disposable(<span class=\"code-keyword\">this</span>.stateService),<span class=\"code-keyword\">this</span>.disposable(<span class=\"code-keyword\">this</span>.stateRegistry),<span class=\"code-keyword\">this</span>.disposable(<span class=\"code-keyword\">this</span>.transitionService),<span class=\"code-keyword\">this</span>.disposable(<span class=\"code-keyword\">this</span>.urlService),<span class=\"code-keyword\">this</span>.disposable(t),<span class=\"code-keyword\">this</span>.disposable(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sn</span>(<span class=\"code-params\">e</span>)</span>{e.addResolvable(Le.fromData(an,e.router),<span class=\"code-string\">\"\"</span>),e.addResolvable(Le.fromData(Tr,e),<span class=\"code-string\">\"\"</span>),e.addResolvable(Le.fromData(<span class=\"code-string\">\"$transition$\"</span>,e),<span class=\"code-string\">\"\"</span>),e.addResolvable(Le.fromData(<span class=\"code-string\">\"$stateParams\"</span>,e.params()),<span class=\"code-string\">\"\"</span>),e.entering().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e.addResolvable(Le.fromData(<span class=\"code-string\">\"$state$\"</span>,t),t)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> ln(t.token)?Le.fromData(t.token,<span class=\"code-literal\">null</span>):t}pt(t.treeChanges()).reduce(mt,[]).reduce(wt,[]).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.resolvables=t.resolvables.map(e)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fn</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.to().redirectTo;<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">var</span> r=e.router.stateService;<span class=\"code-keyword\">return</span> T(t)?D.$q.when(t(e)).then(n):n(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">return</span> t <span class=\"code-keyword\">instanceof</span> Ae?t:k(t)?r.target(t,e.params(),e.options()):t.state||t.params?r.target(t.state||e.to(),t.params||e.params(),e.options()):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}}<span class=\"code-keyword\">var</span> ln=K([<span class=\"code-string\">\"$transition$\"</span>,Tr]);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hn</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-number\">0</span>,e.$$state()[r])(t,e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Je(t.treeChanges().to).resolvePath(<span class=\"code-string\">\"EAGER\"</span>,t).then(W)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vn</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Je(t.treeChanges().to).subContext(e.$$state()).resolvePath(<span class=\"code-string\">\"LAZY\"</span>,t).then(W)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Je(t.treeChanges().to).resolvePath(<span class=\"code-string\">\"LAZY\"</span>,t).then(W)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=D.$q,r=t.views(<span class=\"code-string\">\"entering\"</span>);<span class=\"code-keyword\">if</span>(r.length)<span class=\"code-keyword\">return</span> e.all(r.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.when(t.load())})).then(W)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.views(<span class=\"code-string\">\"entering\"</span>),r=t.views(<span class=\"code-string\">\"exiting\"</span>);<span class=\"code-keyword\">if</span>(e.length||r.length){<span class=\"code-keyword\">var</span> n=t.router.viewService;r.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.deactivateViewConfig(t)}),e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.activateViewConfig(t)}),n.sync()}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{r.transition===t&amp;&amp;(r.transition=<span class=\"code-literal\">null</span>)}<span class=\"code-keyword\">var</span> r=t.router.globals;t.onSuccess({},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.successfulTransitions.enqueue(t),r.$current=t.$to(),r.current=r.$current.self,kt(t.params(),r.params)},{<span class=\"code-attr\">priority</span>:<span class=\"code-number\">1e4</span>}),t.promise.then(e,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.options(),r=t.router.stateService,n=t.router.urlRouter;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"url\"</span>!==e.source&amp;&amp;e.location&amp;&amp;r.$current.navigable){<span class=\"code-keyword\">var</span> i={<span class=\"code-attr\">replace</span>:<span class=\"code-string\">\"replace\"</span>===e.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_n</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-keyword\">var</span> u=a.router,t=a.entering().filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!t.$$state().lazyLoad}).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Rn(a,t)});<span class=\"code-keyword\">return</span> D.$q.all(t).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"url\"</span>!==a.originalTransition().options().source){<span class=\"code-keyword\">var</span> t=a.targetState();<span class=\"code-keyword\">return</span> u.stateService.target(t.identifier(),t.params(),t.options())}<span class=\"code-keyword\">var</span> e=u.urlService,r=e.match(e.parts()),n=r&amp;&amp;r.rule;<span class=\"code-keyword\">if</span>(n&amp;&amp;<span class=\"code-string\">\"STATE\"</span>===n.type){<span class=\"code-keyword\">var</span> i=n.state,o=r.match;<span class=\"code-keyword\">return</span> u.stateService.target(i,o,a.options())}u.urlService.sync()})}<span class=\"code-keyword\">var</span> Sn=hn(<span class=\"code-string\">\"onExit\"</span>),$n=hn(<span class=\"code-string\">\"onRetain\"</span>),bn=hn(<span class=\"code-string\">\"onEnter\"</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Rn</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=r.$$state().lazyLoad,t=n._promise;<span class=\"code-keyword\">if</span>(!t){t=n._promise=D.$q.when(n(e,r)).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t&amp;&amp;<span class=\"code-built_in\">Array</span>.isArray(t.states)&amp;&amp;t.states.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.router.stateRegistry.register(t)});<span class=\"code-keyword\">return</span> t}).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">delete</span> r.lazyLoad,<span class=\"code-keyword\">delete</span> r.$$state().lazyLoad,<span class=\"code-keyword\">delete</span> n._promise,t},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">delete</span> n._promise,D.$q.reject(t)})}<span class=\"code-keyword\">return</span> t}<span class=\"code-keyword\">var</span> En=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n,i,o,a,u</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=gr.HANDLE_RESULT),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=gr.REJECT_ERROR),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===u&amp;&amp;(u=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.name=t,<span class=\"code-keyword\">this</span>.hookPhase=e,<span class=\"code-keyword\">this</span>.hookOrder=r,<span class=\"code-keyword\">this</span>.criteriaMatchPath=n,<span class=\"code-keyword\">this</span>.reverseSort=i,<span class=\"code-keyword\">this</span>.getResultHandler=o,<span class=\"code-keyword\">this</span>.getErrorHandler=a,<span class=\"code-keyword\">this</span>.synchronous=u};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Cn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t._ignoredReason();<span class=\"code-keyword\">if</span>(e){we.traceTransitionIgnored(t);<span class=\"code-keyword\">var</span> r=t.router.globals.transition;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"SameAsCurrent\"</span>===e&amp;&amp;r&amp;&amp;r.abort(),Ft.ignored().toPromise()}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Tn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!t.valid())<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(t.error().toString())}<span class=\"code-keyword\">var</span> Pn={<span class=\"code-attr\">location</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">relative</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">notify</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">reload</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">supercede</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">custom</span>:{},<span class=\"code-attr\">current</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">source</span>:<span class=\"code-string\">\"unknown\"</span>},kn=(On.prototype.onCreate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onBefore=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onExit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onRetain=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onEnter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onFinish=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onSuccess=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.onError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{},On.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{pt(<span class=\"code-keyword\">this</span>._registeredHooks).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t._deregistered=!<span class=\"code-number\">0</span>,Z(e,t)})})},On.prototype.create=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Tr(t,e,<span class=\"code-keyword\">this</span>._router)},On.prototype._defineCoreEvents=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=d.TransitionHookPhase,e=gr,r=<span class=\"code-keyword\">this</span>._criteriaPaths;<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onCreate\"</span>,t.CREATE,<span class=\"code-number\">0</span>,r.to,!<span class=\"code-number\">1</span>,e.LOG_REJECTED_RESULT,e.THROW_ERROR,!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onBefore\"</span>,t.BEFORE,<span class=\"code-number\">0</span>,r.to),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onStart\"</span>,t.RUN,<span class=\"code-number\">0</span>,r.to),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onExit\"</span>,t.RUN,<span class=\"code-number\">100</span>,r.exiting,!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onRetain\"</span>,t.RUN,<span class=\"code-number\">200</span>,r.retained),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onEnter\"</span>,t.RUN,<span class=\"code-number\">300</span>,r.entering),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onFinish\"</span>,t.RUN,<span class=\"code-number\">400</span>,r.to),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onSuccess\"</span>,t.SUCCESS,<span class=\"code-number\">0</span>,r.to,!<span class=\"code-number\">1</span>,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>._defineEvent(<span class=\"code-string\">\"onError\"</span>,t.ERROR,<span class=\"code-number\">0</span>,r.to,!<span class=\"code-number\">1</span>,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!<span class=\"code-number\">0</span>)},On.prototype._defineCorePaths=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=d.TransitionHookScope.STATE,e=d.TransitionHookScope.TRANSITION;<span class=\"code-keyword\">this</span>._definePathType(<span class=\"code-string\">\"to\"</span>,e),<span class=\"code-keyword\">this</span>._definePathType(<span class=\"code-string\">\"from\"</span>,e),<span class=\"code-keyword\">this</span>._definePathType(<span class=\"code-string\">\"exiting\"</span>,t),<span class=\"code-keyword\">this</span>._definePathType(<span class=\"code-string\">\"retained\"</span>,t),<span class=\"code-keyword\">this</span>._definePathType(<span class=\"code-string\">\"entering\"</span>,t)},On.prototype._defineEvent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n,i,o,a,u</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=gr.HANDLE_RESULT),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=gr.REJECT_ERROR),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===u&amp;&amp;(u=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">new</span> En(t,e,r,n,i,o,a,u);<span class=\"code-keyword\">this</span>._eventTypes.push(s),br(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>,s)},On.prototype._getEvents=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(E(e)?<span class=\"code-keyword\">this</span>._eventTypes.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.hookPhase===e}):<span class=\"code-keyword\">this</span>._eventTypes.slice()).sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=t.hookPhase-e.hookPhase;<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>==r?t.hookOrder-e.hookOrder:r})},On.prototype._definePathType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>._criteriaPaths[t]={<span class=\"code-attr\">name</span>:t,<span class=\"code-attr\">scope</span>:e}},On.prototype._getPathTypes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._criteriaPaths},On.prototype.getHooks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._registeredHooks[t]},On.prototype._registerCoreTransitionHooks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._deregisterHookFns;t.addCoreResolves=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onCreate({},sn)}(<span class=\"code-keyword\">this</span>),t.ignored=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onBefore({},Cn,{<span class=\"code-attr\">priority</span>:<span class=\"code-number\">-9999</span>})}(<span class=\"code-keyword\">this</span>),t.invalid=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onBefore({},Tn,{<span class=\"code-attr\">priority</span>:<span class=\"code-number\">-1e4</span>})}(<span class=\"code-keyword\">this</span>),t.redirectTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onStart({<span class=\"code-attr\">to</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!t.redirectTo}},fn)}(<span class=\"code-keyword\">this</span>),t.onExit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onExit({<span class=\"code-attr\">exiting</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!t.onExit}},Sn)}(<span class=\"code-keyword\">this</span>),t.onRetain=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onRetain({<span class=\"code-attr\">retained</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!t.onRetain}},$n)}(<span class=\"code-keyword\">this</span>),t.onEnter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onEnter({<span class=\"code-attr\">entering</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!t.onEnter}},bn)}(<span class=\"code-keyword\">this</span>),t.eagerResolve=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onStart({},pn,{<span class=\"code-attr\">priority</span>:<span class=\"code-number\">1e3</span>})}(<span class=\"code-keyword\">this</span>),t.lazyResolve=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onEnter({<span class=\"code-attr\">entering</span>:p(!<span class=\"code-number\">0</span>)},vn,{<span class=\"code-attr\">priority</span>:<span class=\"code-number\">1e3</span>})}(<span class=\"code-keyword\">this</span>),t.resolveAll=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onFinish({},dn,{<span class=\"code-attr\">priority</span>:<span class=\"code-number\">1e3</span>})}(<span class=\"code-keyword\">this</span>),t.loadViews=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onFinish({},mn)}(<span class=\"code-keyword\">this</span>),t.activateViews=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onSuccess({},yn)}(<span class=\"code-keyword\">this</span>),t.updateGlobals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onCreate({},gn)}(<span class=\"code-keyword\">this</span>),t.updateUrl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onSuccess({},wn,{<span class=\"code-attr\">priority</span>:<span class=\"code-number\">9999</span>})}(<span class=\"code-keyword\">this</span>),t.lazyLoad=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.onBefore({<span class=\"code-attr\">entering</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!!t.lazyLoad}},_n)}(<span class=\"code-keyword\">this</span>)},On);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">On</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._transitionCount=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._eventTypes=[],<span class=\"code-keyword\">this</span>._registeredHooks={},<span class=\"code-keyword\">this</span>._criteriaPaths={},<span class=\"code-keyword\">this</span>._router=t,<span class=\"code-keyword\">this</span>.$view=t.viewService,<span class=\"code-keyword\">this</span>._deregisterHookFns={},<span class=\"code-keyword\">this</span>._pluginapi=J(p(<span class=\"code-keyword\">this</span>),{},p(<span class=\"code-keyword\">this</span>),[<span class=\"code-string\">\"_definePathType\"</span>,<span class=\"code-string\">\"_defineEvent\"</span>,<span class=\"code-string\">\"_getPathTypes\"</span>,<span class=\"code-string\">\"_getEvents\"</span>,<span class=\"code-string\">\"getHooks\"</span>]),<span class=\"code-keyword\">this</span>._defineCorePaths(),<span class=\"code-keyword\">this</span>._defineCoreEvents(),<span class=\"code-keyword\">this</span>._registerCoreTransitionHooks(),t.globals.successfulTransitions.onEvict(cn)}<span class=\"code-keyword\">var</span> xn=(<span class=\"code-built_in\">Object</span>.defineProperty(jn.prototype,<span class=\"code-string\">\"transition\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.router.globals.transition},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(jn.prototype,<span class=\"code-string\">\"params\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.router.globals.params},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(jn.prototype,<span class=\"code-string\">\"current\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.router.globals.current},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(jn.prototype,<span class=\"code-string\">\"$current\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.router.globals.$current},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),jn.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.defaultErrorHandler(W),<span class=\"code-keyword\">this</span>.invalidCallbacks=[]},jn.prototype._handleInvalidTargetState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.transitionHistory.peekTail()}<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,o=qe.makeTargetState(<span class=\"code-keyword\">this</span>.router.stateRegistry,t),e=<span class=\"code-keyword\">this</span>.router.globals,a=n(),u=<span class=\"code-keyword\">new</span> Dt(<span class=\"code-keyword\">this</span>.invalidCallbacks.slice()),s=<span class=\"code-keyword\">new</span> Je(t).injector(),c=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(t <span class=\"code-keyword\">instanceof</span> Ae){<span class=\"code-keyword\">var</span> e=t;<span class=\"code-keyword\">return</span>(e=i.target(e.identifier(),e.params(),e.options())).valid()?n()!==a?Ft.superseded().toPromise():i.transitionTo(e.identifier(),e.params(),e.options()):Ft.invalid(e.error()).toPromise()}};<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=u.dequeue();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?Ft.invalid(r.error()).toPromise():D.$q.when(t(r,o,s)).then(c).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t||e()})}()},jn.prototype.onInvalid=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.invalidCallbacks.push(t),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Z(<span class=\"code-keyword\">this</span>.invalidCallbacks)(t)}.bind(<span class=\"code-keyword\">this</span>)},jn.prototype.reload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.transitionTo(<span class=\"code-keyword\">this</span>.current,<span class=\"code-keyword\">this</span>.params,{<span class=\"code-attr\">reload</span>:!E(t)||t,<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">notify</span>:!<span class=\"code-number\">1</span>})},jn.prototype.go=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=nt(r,{<span class=\"code-attr\">relative</span>:<span class=\"code-keyword\">this</span>.$current,<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">0</span>},Pn);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.transitionTo(t,e,n)},jn.prototype.target=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={}),O(r.reload)&amp;&amp;!r.reload.name)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid reload state object\"</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.router.stateRegistry;<span class=\"code-keyword\">if</span>(r.reloadState=!<span class=\"code-number\">0</span>===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&amp;&amp;!r.reloadState)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"No such reload state '\"</span>+(k(r.reload)?r.reload:r.reload.name)+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Ae(<span class=\"code-keyword\">this</span>.router.stateRegistry,t,e,r)},jn.prototype.getCurrentPath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,e=<span class=\"code-keyword\">this</span>.router.globals.successfulTransitions.peekTail();<span class=\"code-keyword\">return</span> e?e.treeChanges().to:[<span class=\"code-keyword\">new</span> He(t.router.stateRegistry.root())]},jn.prototype.transitionTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={});<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.router,u=a.globals;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> u.transition}r=nt(r,Pn),r=B(r,{<span class=\"code-attr\">current</span>:n});<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.target(t,e,r),s=<span class=\"code-keyword\">this</span>.getCurrentPath();<span class=\"code-keyword\">if</span>(!i.exists())<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._handleInvalidTargetState(s,i);<span class=\"code-keyword\">if</span>(!i.valid())<span class=\"code-keyword\">return</span> Vt(i.error());<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===r.supercede&amp;&amp;n())<span class=\"code-keyword\">return</span> Ft.ignored(<span class=\"code-string\">\"Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress.\"</span>).toPromise();<span class=\"code-keyword\">var</span> c=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(t <span class=\"code-keyword\">instanceof</span> Ft){<span class=\"code-keyword\">var</span> e=a.globals.lastStartedTransitionId&lt;=i.$id;<span class=\"code-keyword\">if</span>(t.type===d.RejectType.IGNORED)<span class=\"code-keyword\">return</span> e&amp;&amp;a.urlRouter.update(),D.$q.when(u.current);<span class=\"code-keyword\">var</span> r=t.detail;<span class=\"code-keyword\">if</span>(t.type===d.RejectType.SUPERSEDED&amp;&amp;t.redirected&amp;&amp;r <span class=\"code-keyword\">instanceof</span> Ae){<span class=\"code-keyword\">var</span> n=i.redirect(r);<span class=\"code-keyword\">return</span> n.run().catch(c(n))}<span class=\"code-keyword\">if</span>(t.type===d.RejectType.ABORTED)<span class=\"code-keyword\">return</span> e&amp;&amp;a.urlRouter.update(),D.$q.reject(t)}<span class=\"code-keyword\">return</span> o.defaultErrorHandler()(t),D.$q.reject(t)}},f=<span class=\"code-keyword\">this</span>.router.transitionService.create(s,i),l=f.run().catch(c(f));<span class=\"code-keyword\">return</span> jt(l),B(l,{<span class=\"code-attr\">transition</span>:f})},jn.prototype.is=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{r=nt(r,{<span class=\"code-attr\">relative</span>:<span class=\"code-keyword\">this</span>.$current});<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.router.stateRegistry.matcher.find(t,r.relative);<span class=\"code-keyword\">if</span>(E(n)){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.$current!==n)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> i=n.parameters({<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">matchingKeys</span>:e});<span class=\"code-keyword\">return</span> Te.equals(i,Te.values(i,e),<span class=\"code-keyword\">this</span>.params)}},jn.prototype.includes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{r=nt(r,{<span class=\"code-attr\">relative</span>:<span class=\"code-keyword\">this</span>.$current});<span class=\"code-keyword\">var</span> n=k(t)&amp;&amp;Ht.fromString(t);<span class=\"code-keyword\">if</span>(n){<span class=\"code-keyword\">if</span>(!n.matches(<span class=\"code-keyword\">this</span>.$current.name))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;t=<span class=\"code-keyword\">this</span>.$current.name}<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.router.stateRegistry.matcher.find(t,r.relative),o=<span class=\"code-keyword\">this</span>.$current.includes;<span class=\"code-keyword\">if</span>(E(i)){<span class=\"code-keyword\">if</span>(!E(o[i.name]))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> a=i.parameters({<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">matchingKeys</span>:e});<span class=\"code-keyword\">return</span> Te.equals(a,Te.values(a,e),<span class=\"code-keyword\">this</span>.params)}},jn.prototype.href=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{r=nt(r,{<span class=\"code-attr\">lossy</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">inherit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">absolute</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">relative</span>:<span class=\"code-keyword\">this</span>.$current}),e=e||{};<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.router.stateRegistry.matcher.find(t,r.relative);<span class=\"code-keyword\">if</span>(!E(n))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;r.inherit&amp;&amp;(e=<span class=\"code-keyword\">this</span>.params.$inherit(e,<span class=\"code-keyword\">this</span>.$current,n));<span class=\"code-keyword\">var</span> i=n&amp;&amp;r.lossy?n.navigable:n;<span class=\"code-keyword\">return</span> i&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i.url&amp;&amp;<span class=\"code-literal\">null</span>!==i.url?<span class=\"code-keyword\">this</span>.router.urlRouter.href(i.url,e,{<span class=\"code-attr\">absolute</span>:r.absolute}):<span class=\"code-literal\">null</span>},jn.prototype.defaultErrorHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._defaultErrorHandler=t||<span class=\"code-keyword\">this</span>._defaultErrorHandler},jn.prototype.get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.router.stateRegistry;<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===<span class=\"code-built_in\">arguments</span>.length?r.get():r.get(t,e||<span class=\"code-keyword\">this</span>.$current)},jn.prototype.lazyLoad=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.get(t);<span class=\"code-keyword\">if</span>(!r||!r.lazyLoad)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Can not lazy load \"</span>+t);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.getCurrentPath(),i=qe.makeTargetState(<span class=\"code-keyword\">this</span>.router.stateRegistry,n);<span class=\"code-keyword\">return</span> Rn(e=e||<span class=\"code-keyword\">this</span>.router.transitionService.create(n,i),r)},jn);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.router=t,<span class=\"code-keyword\">this</span>.invalidCallbacks=[],<span class=\"code-keyword\">this</span>._defaultErrorHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>&amp;&amp;t.stack?(<span class=\"code-built_in\">console</span>.error(t),<span class=\"code-built_in\">console</span>.error(t.stack)):t <span class=\"code-keyword\">instanceof</span> Ft?(<span class=\"code-built_in\">console</span>.error(t.toString()),t.detail&amp;&amp;t.detail.stack&amp;&amp;<span class=\"code-built_in\">console</span>.error(t.detail.stack)):<span class=\"code-built_in\">console</span>.error(t)};<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Object</span>.keys(jn.prototype).filter(l(K([<span class=\"code-string\">\"current\"</span>,<span class=\"code-string\">\"$current\"</span>,<span class=\"code-string\">\"params\"</span>,<span class=\"code-string\">\"transition\"</span>])));J(p(jn.prototype),<span class=\"code-keyword\">this</span>,p(<span class=\"code-keyword\">this</span>),e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vn</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=e[<span class=\"code-number\">0</span>],n=e[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span> t.hasOwnProperty(r)?x(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n,t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.split(<span class=\"code-string\">\"&amp;\"</span>).filter(z).map(re).reduce(Vn,{})}<span class=\"code-keyword\">var</span> In={<span class=\"code-attr\">when</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t(r)})},<span class=\"code-attr\">reject</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e(r)})},<span class=\"code-attr\">defer</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> r={};<span class=\"code-keyword\">return</span> r.promise=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{r.resolve=t,r.reject=e}),r},<span class=\"code-attr\">all</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(x(t))<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Promise</span>.all(t);<span class=\"code-keyword\">if</span>(O(t)){<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Object</span>.keys(t).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t[e].then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">key</span>:e,<span class=\"code-attr\">val</span>:t}})});<span class=\"code-keyword\">return</span> In.all(e).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t[e.key]=e.val,t},{})})}}},An={},Dn=<span class=\"code-regexp\">/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/gm</span>,qn=<span class=\"code-regexp\">/([^\\s,]+)/g</span>,Un={<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> An[t]},<span class=\"code-attr\">has</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!=Un.get(t)},<span class=\"code-attr\">invoke</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=B({},An,r||{}),i=Un.annotate(t),o=$t(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n.hasOwnProperty(t)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"DI can't find injectable: '\"</span>+t+<span class=\"code-string\">\"'\"</span>}),a=i.filter(o).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> n[t]});<span class=\"code-keyword\">return</span> T(t)?t.apply(e,a):t.slice(<span class=\"code-number\">-1</span>)[<span class=\"code-number\">0</span>].apply(e,a)},<span class=\"code-attr\">annotate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!H(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Not an injectable function: \"</span>+t);<span class=\"code-keyword\">if</span>(t&amp;&amp;t.$inject)<span class=\"code-keyword\">return</span> t.$inject;<span class=\"code-keyword\">if</span>(x(t))<span class=\"code-keyword\">return</span> t.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">var</span> e=t.toString().replace(Dn,<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">return</span> e.slice(e.indexOf(<span class=\"code-string\">\"(\"</span>)+<span class=\"code-number\">1</span>,e.indexOf(<span class=\"code-string\">\")\"</span>)).match(qn)||[]}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t||<span class=\"code-string\">\"\"</span>}<span class=\"code-keyword\">var</span> r=te(t).map(e),n=r[<span class=\"code-number\">0</span>],i=r[<span class=\"code-number\">1</span>],o=ee(n).map(e);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">path</span>:o[<span class=\"code-number\">0</span>],<span class=\"code-attr\">search</span>:o[<span class=\"code-number\">1</span>],<span class=\"code-attr\">hash</span>:i,<span class=\"code-attr\">url</span>:t}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.path(),r=t.search(),n=t.hash(),i=<span class=\"code-built_in\">Object</span>.keys(r).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=r[e];<span class=\"code-keyword\">return</span>(x(t)?t:[t]).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e+<span class=\"code-string\">\"=\"</span>+t})}).reduce(mt,[]).join(<span class=\"code-string\">\"&amp;\"</span>);<span class=\"code-keyword\">return</span> e+(i?<span class=\"code-string\">\"?\"</span>+i:<span class=\"code-string\">\"\"</span>)+(n?<span class=\"code-string\">\"#\"</span>+n:<span class=\"code-string\">\"\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ln</span>(<span class=\"code-params\">n,i,o,a</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.locationService=<span class=\"code-keyword\">new</span> o(t),r=t.locationConfig=<span class=\"code-keyword\">new</span> a(t,i);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">name</span>:n,<span class=\"code-attr\">service</span>:e,<span class=\"code-attr\">configuration</span>:r,<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.dispose(e),t.dispose(r)}}}}<span class=\"code-keyword\">var</span> Mn=(Bn.prototype.url=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">0</span>),E(e)&amp;&amp;e!==<span class=\"code-keyword\">this</span>._get()&amp;&amp;(<span class=\"code-keyword\">this</span>._set(<span class=\"code-literal\">null</span>,<span class=\"code-literal\">null</span>,e,t),<span class=\"code-keyword\">this</span>.fireAfterUpdate&amp;&amp;<span class=\"code-keyword\">this</span>._listeners.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t({<span class=\"code-attr\">url</span>:e})})),Nn(<span class=\"code-keyword\">this</span>)},Bn.prototype.onChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._listeners.push(t),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Z(e._listeners,t)}},Bn.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{rt(<span class=\"code-keyword\">this</span>._listeners)},Bn);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bn</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.fireAfterUpdate=e,<span class=\"code-keyword\">this</span>._listeners=[],<span class=\"code-keyword\">this</span>._listener=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r._listeners.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t(e)})},<span class=\"code-keyword\">this</span>.hash=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Fn(r._get()).hash},<span class=\"code-keyword\">this</span>.path=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Fn(r._get()).path},<span class=\"code-keyword\">this</span>.search=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Hn(Fn(r._get()).search)},<span class=\"code-keyword\">this</span>._location=U.location,<span class=\"code-keyword\">this</span>._history=U.history}<span class=\"code-keyword\">var</span> Gn,zn,Wn=((Gn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(Gn=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.__proto__=e}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(t,e)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=t}Gn(t,e),t.prototype=<span class=\"code-literal\">null</span>===e?<span class=\"code-built_in\">Object</span>.create(e):(r.prototype=e.prototype,<span class=\"code-keyword\">new</span> r)})(Jn,zn=Mn),Jn.prototype._get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Zt(<span class=\"code-keyword\">this</span>._location.hash)},Jn.prototype._set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">this</span>._location.hash=r},Jn.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{zn.prototype.dispose.call(<span class=\"code-keyword\">this</span>,t),U.removeEventListener(<span class=\"code-string\">\"hashchange\"</span>,<span class=\"code-keyword\">this</span>._listener)},Jn);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Jn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=zn.call(<span class=\"code-keyword\">this</span>,t,!<span class=\"code-number\">1</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> U.addEventListener(<span class=\"code-string\">\"hashchange\"</span>,e._listener,!<span class=\"code-number\">1</span>),e}<span class=\"code-keyword\">var</span> Qn,Kn,Yn=((Qn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(Qn=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.__proto__=e}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(t,e)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=t}Qn(t,e),t.prototype=<span class=\"code-literal\">null</span>===e?<span class=\"code-built_in\">Object</span>.create(e):(r.prototype=e.prototype,<span class=\"code-keyword\">new</span> r)})(Zn,Kn=Mn),Zn.prototype._get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._url},Zn.prototype._set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">this</span>._url=r},Zn);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Kn.call(<span class=\"code-keyword\">this</span>,t,!<span class=\"code-number\">0</span>)||<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">var</span> Xn,ti,ei=((Xn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(Xn=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.__proto__=e}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(t,e)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=t}Xn(t,e),t.prototype=<span class=\"code-literal\">null</span>===e?<span class=\"code-built_in\">Object</span>.create(e):(r.prototype=e.prototype,<span class=\"code-keyword\">new</span> r)})(ri,ti=Mn),ri.prototype._getBasePrefix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Yt(<span class=\"code-keyword\">this</span>._config.baseHref())},ri.prototype._get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._location,e=t.pathname,r=t.hash,n=t.search;n=ee(n)[<span class=\"code-number\">1</span>],r=te(r)[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>._getBasePrefix(),o=e===<span class=\"code-keyword\">this</span>._config.baseHref(),a=e.substr(<span class=\"code-number\">0</span>,i.length)===i;<span class=\"code-keyword\">return</span>(e=o?<span class=\"code-string\">\"/\"</span>:a?e.substring(i.length):e)+(n?<span class=\"code-string\">\"?\"</span>+n:<span class=\"code-string\">\"\"</span>)+(r?<span class=\"code-string\">\"#\"</span>+r:<span class=\"code-string\">\"\"</span>)},ri.prototype._set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,n</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>._getBasePrefix(),o=r&amp;&amp;<span class=\"code-string\">\"/\"</span>!==r[<span class=\"code-number\">0</span>]?<span class=\"code-string\">\"/\"</span>:<span class=\"code-string\">\"\"</span>,a=<span class=\"code-string\">\"\"</span>===r||<span class=\"code-string\">\"/\"</span>===r?<span class=\"code-keyword\">this</span>._config.baseHref():i+o+r;n?<span class=\"code-keyword\">this</span>._history.replaceState(t,e,a):<span class=\"code-keyword\">this</span>._history.pushState(t,e,a)},ri.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{ti.prototype.dispose.call(<span class=\"code-keyword\">this</span>,t),U.removeEventListener(<span class=\"code-string\">\"popstate\"</span>,<span class=\"code-keyword\">this</span>._listener)},ri);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ri</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=ti.call(<span class=\"code-keyword\">this</span>,t,!<span class=\"code-number\">0</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e._config=t.urlService.config,U.addEventListener(<span class=\"code-string\">\"popstate\"</span>,e._listener,!<span class=\"code-number\">1</span>),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ni</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.dispose=W,<span class=\"code-keyword\">this</span>._baseHref=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>._port=<span class=\"code-number\">80</span>,<span class=\"code-keyword\">this</span>._protocol=<span class=\"code-string\">\"http\"</span>,<span class=\"code-keyword\">this</span>._host=<span class=\"code-string\">\"localhost\"</span>,<span class=\"code-keyword\">this</span>._hashPrefix=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.port=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e._port},<span class=\"code-keyword\">this</span>.protocol=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e._protocol},<span class=\"code-keyword\">this</span>.host=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e._host},<span class=\"code-keyword\">this</span>.baseHref=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e._baseHref},<span class=\"code-keyword\">this</span>.html5Mode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>},<span class=\"code-keyword\">this</span>.hashPrefix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> E(t)?e._hashPrefix=t:e._hashPrefix}}<span class=\"code-keyword\">var</span> ii=(oi.prototype.port=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> location.port?<span class=\"code-built_in\">Number</span>(location.port):<span class=\"code-string\">\"https\"</span>===<span class=\"code-keyword\">this</span>.protocol()?<span class=\"code-number\">443</span>:<span class=\"code-number\">80</span>},oi.prototype.protocol=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> location.protocol.replace(<span class=\"code-regexp\">/:/g</span>,<span class=\"code-string\">\"\"</span>)},oi.prototype.host=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> location.hostname},oi.prototype.html5Mode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isHtml5},oi.prototype.hashPrefix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> E(t)?<span class=\"code-keyword\">this</span>._hashPrefix=t:<span class=\"code-keyword\">this</span>._hashPrefix},oi.prototype.baseHref=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> E(t)&amp;&amp;(<span class=\"code-keyword\">this</span>._baseHref=t),$(<span class=\"code-keyword\">this</span>._baseHref)&amp;&amp;(<span class=\"code-keyword\">this</span>._baseHref=<span class=\"code-keyword\">this</span>.getBaseHref()),<span class=\"code-keyword\">this</span>._baseHref},oi.prototype.getBaseHref=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">document</span>.getElementsByTagName(<span class=\"code-string\">\"base\"</span>)[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span> t&amp;&amp;t.href?t.href.replace(<span class=\"code-regexp\">/^([^/:]*:)?\\/\\/[^/]*/</span>,<span class=\"code-string\">\"\"</span>):<span class=\"code-keyword\">this</span>._isHtml5?<span class=\"code-string\">\"/\"</span>:location.pathname||<span class=\"code-string\">\"/\"</span>},oi.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},oi);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>._isHtml5=e,<span class=\"code-keyword\">this</span>._baseHref=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._hashPrefix=<span class=\"code-string\">\"\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ai</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> D.$injector=Un,{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vanilla.services\"</span>,<span class=\"code-attr\">$q</span>:D.$q=In,<span class=\"code-attr\">$injector</span>:Un,<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}}}<span class=\"code-keyword\">var</span> ui=Ln(<span class=\"code-string\">\"vanilla.hashBangLocation\"</span>,!<span class=\"code-number\">1</span>,Wn,ii),si=Ln(<span class=\"code-string\">\"vanilla.pushStateLocation\"</span>,!<span class=\"code-number\">0</span>,ei,ii),ci=Ln(<span class=\"code-string\">\"vanilla.memoryLocation\"</span>,!<span class=\"code-number\">1</span>,Yn,ni),fi=(li.prototype.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{},li);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">li</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-keyword\">var</span> hi=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">root</span>:U,<span class=\"code-attr\">fromJson</span>:N,<span class=\"code-attr\">toJson</span>:L,<span class=\"code-attr\">forEach</span>:M,<span class=\"code-attr\">extend</span>:B,<span class=\"code-attr\">equals</span>:G,<span class=\"code-attr\">identity</span>:z,<span class=\"code-attr\">noop</span>:W,<span class=\"code-attr\">createProxyFunctions</span>:J,<span class=\"code-attr\">inherit</span>:Q,<span class=\"code-attr\">inArray</span>:K,<span class=\"code-attr\">_inArray</span>:Y,<span class=\"code-attr\">removeFrom</span>:Z,<span class=\"code-attr\">_removeFrom</span>:X,<span class=\"code-attr\">pushTo</span>:tt,<span class=\"code-attr\">_pushTo</span>:et,<span class=\"code-attr\">deregAll</span>:rt,<span class=\"code-attr\">defaults</span>:nt,<span class=\"code-attr\">mergeR</span>:it,<span class=\"code-attr\">ancestors</span>:ot,<span class=\"code-attr\">pick</span>:at,<span class=\"code-attr\">omit</span>:ut,<span class=\"code-attr\">pluck</span>:st,<span class=\"code-attr\">filter</span>:ct,<span class=\"code-attr\">find</span>:ft,<span class=\"code-attr\">mapObj</span>:lt,<span class=\"code-attr\">map</span>:ht,<span class=\"code-attr\">values</span>:pt,<span class=\"code-attr\">allTrueR</span>:vt,<span class=\"code-attr\">anyTrueR</span>:dt,<span class=\"code-attr\">unnestR</span>:mt,<span class=\"code-attr\">flattenR</span>:yt,<span class=\"code-attr\">pushR</span>:gt,<span class=\"code-attr\">uniqR</span>:wt,<span class=\"code-attr\">unnest</span>:_t,<span class=\"code-attr\">flatten</span>:St,<span class=\"code-attr\">assertPredicate</span>:$t,<span class=\"code-attr\">assertMap</span>:bt,<span class=\"code-attr\">assertFn</span>:Rt,<span class=\"code-attr\">pairs</span>:Et,<span class=\"code-attr\">arrayTuples</span>:Ct,<span class=\"code-attr\">applyPairs</span>:Tt,<span class=\"code-attr\">tail</span>:Pt,<span class=\"code-attr\">copy</span>:kt,<span class=\"code-attr\">_extend</span>:Ot,<span class=\"code-attr\">silenceUncaughtInPromise</span>:jt,<span class=\"code-attr\">silentRejection</span>:Vt,<span class=\"code-attr\">makeStub</span>:I,<span class=\"code-attr\">services</span>:D,<span class=\"code-attr\">Glob</span>:Ht,<span class=\"code-attr\">curry</span>:s,<span class=\"code-attr\">compose</span>:r,<span class=\"code-attr\">pipe</span>:c,<span class=\"code-attr\">prop</span>:m,<span class=\"code-attr\">propEq</span>:y,<span class=\"code-attr\">parse</span>:R,<span class=\"code-attr\">not</span>:l,<span class=\"code-attr\">and</span>:i,<span class=\"code-attr\">or</span>:u,<span class=\"code-attr\">all</span>:a,<span class=\"code-attr\">any</span>:f,<span class=\"code-attr\">is</span>:h,<span class=\"code-attr\">eq</span>:o,<span class=\"code-attr\">val</span>:p,<span class=\"code-attr\">invoke</span>:v,<span class=\"code-attr\">pattern</span>:g,<span class=\"code-attr\">isUndefined</span>:$,<span class=\"code-attr\">isDefined</span>:E,<span class=\"code-attr\">isNull</span>:_,<span class=\"code-attr\">isNullOrUndefined</span>:C,<span class=\"code-attr\">isFunction</span>:T,<span class=\"code-attr\">isNumber</span>:P,<span class=\"code-attr\">isString</span>:k,<span class=\"code-attr\">isObject</span>:O,<span class=\"code-attr\">isArray</span>:x,<span class=\"code-attr\">isDate</span>:j,<span class=\"code-attr\">isRegExp</span>:V,<span class=\"code-attr\">isInjectable</span>:H,<span class=\"code-attr\">isPromise</span>:A,<span class=\"code-attr\">Queue</span>:Dt,<span class=\"code-attr\">maxLength</span>:Lt,<span class=\"code-attr\">padString</span>:Mt,<span class=\"code-attr\">kebobString</span>:Bt,<span class=\"code-attr\">functionToString</span>:Gt,<span class=\"code-attr\">fnToString</span>:zt,<span class=\"code-attr\">stringify</span>:Qt,<span class=\"code-attr\">beforeAfterSubstr</span>:Kt,<span class=\"code-attr\">hostRegex</span>:Xt,<span class=\"code-attr\">stripLastPathElement</span>:Yt,<span class=\"code-attr\">splitHash</span>:te,<span class=\"code-attr\">splitQuery</span>:ee,<span class=\"code-attr\">splitEqual</span>:re,<span class=\"code-attr\">trimHashVal</span>:Zt,<span class=\"code-attr\">splitOnDelim</span>:ne,<span class=\"code-attr\">joinNeighborsR</span>:ie,<span class=\"code-keyword\">get</span> Category(){<span class=\"code-keyword\">return</span> d.Category},<span class=\"code-attr\">Trace</span>:ye,<span class=\"code-attr\">trace</span>:we,<span class=\"code-keyword\">get</span> DefType(){<span class=\"code-keyword\">return</span> d.DefType},<span class=\"code-attr\">Param</span>:Te,<span class=\"code-attr\">ParamTypes</span>:ke,<span class=\"code-attr\">StateParams</span>:je,<span class=\"code-attr\">ParamType</span>:_e,<span class=\"code-attr\">PathNode</span>:He,<span class=\"code-attr\">PathUtils</span>:qe,<span class=\"code-attr\">resolvePolicies</span>:Fe,<span class=\"code-attr\">defaultResolvePolicy</span>:Ne,<span class=\"code-attr\">Resolvable</span>:Le,<span class=\"code-attr\">NATIVE_INJECTOR_TOKEN</span>:We,<span class=\"code-attr\">ResolveContext</span>:Je,<span class=\"code-attr\">resolvablesBuilder</span>:ir,<span class=\"code-attr\">StateBuilder</span>:or,<span class=\"code-attr\">StateObject</span>:ur,<span class=\"code-attr\">StateMatcher</span>:cr,<span class=\"code-attr\">StateQueueManager</span>:lr,<span class=\"code-attr\">StateRegistry</span>:dr,<span class=\"code-attr\">StateService</span>:xn,<span class=\"code-attr\">TargetState</span>:Ae,<span class=\"code-keyword\">get</span> TransitionHookPhase(){<span class=\"code-keyword\">return</span> d.TransitionHookPhase},<span class=\"code-keyword\">get</span> TransitionHookScope(){<span class=\"code-keyword\">return</span> d.TransitionHookScope},<span class=\"code-attr\">HookBuilder</span>:Rr,<span class=\"code-attr\">matchState</span>:_r,<span class=\"code-attr\">RegisteredHook</span>:Sr,<span class=\"code-attr\">makeEvent</span>:br,<span class=\"code-keyword\">get</span> RejectType(){<span class=\"code-keyword\">return</span> d.RejectType},<span class=\"code-attr\">Rejection</span>:Ft,<span class=\"code-attr\">Transition</span>:Tr,<span class=\"code-attr\">TransitionHook</span>:gr,<span class=\"code-attr\">TransitionEventType</span>:En,<span class=\"code-attr\">defaultTransOpts</span>:Pn,<span class=\"code-attr\">TransitionService</span>:kn,<span class=\"code-attr\">UrlRules</span>:Kr,<span class=\"code-attr\">UrlConfig</span>:Zr,<span class=\"code-attr\">UrlMatcher</span>:jr,<span class=\"code-attr\">ParamFactory</span>:Ir,<span class=\"code-attr\">UrlMatcherFactory</span>:Dr,<span class=\"code-attr\">UrlRouter</span>:Lr,<span class=\"code-attr\">UrlRuleFactory</span>:Ur,<span class=\"code-attr\">BaseUrlRule</span>:Nr,<span class=\"code-attr\">UrlService</span>:tn,<span class=\"code-attr\">ViewService</span>:Br,<span class=\"code-attr\">UIRouterGlobals</span>:zr,<span class=\"code-attr\">UIRouter</span>:an,<span class=\"code-attr\">$q</span>:In,<span class=\"code-attr\">$injector</span>:Un,<span class=\"code-attr\">BaseLocationServices</span>:Mn,<span class=\"code-attr\">HashLocationService</span>:Wn,<span class=\"code-attr\">MemoryLocationService</span>:Yn,<span class=\"code-attr\">PushStateLocationService</span>:ei,<span class=\"code-attr\">MemoryLocationConfig</span>:ni,<span class=\"code-attr\">BrowserLocationConfig</span>:ii,<span class=\"code-attr\">keyValsToObjectR</span>:Vn,<span class=\"code-attr\">getParams</span>:Hn,<span class=\"code-attr\">parseUrl</span>:Fn,<span class=\"code-attr\">buildUrl</span>:Nn,<span class=\"code-attr\">locationPluginFactory</span>:Ln,<span class=\"code-attr\">servicesPlugin</span>:ai,<span class=\"code-attr\">hashLocationPlugin</span>:ui,<span class=\"code-attr\">pushStateLocationPlugin</span>:si,<span class=\"code-attr\">memoryLocationPlugin</span>:ci,<span class=\"code-attr\">UIRouterPluginBase</span>:fi});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pi</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> r=r||D.$injector.get(<span class=\"code-string\">\"$templateFactory\"</span>),[<span class=\"code-keyword\">new</span> yi(t,e,r)]}}<span class=\"code-keyword\">var</span> vi=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,r</span>)</span>{<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t||E(r[e])},!<span class=\"code-number\">1</span>)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">di</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">if</span>(!n.parent)<span class=\"code-keyword\">return</span>{};<span class=\"code-keyword\">var</span> i=[<span class=\"code-string\">\"component\"</span>,<span class=\"code-string\">\"bindings\"</span>,<span class=\"code-string\">\"componentProvider\"</span>],o=[<span class=\"code-string\">\"templateProvider\"</span>,<span class=\"code-string\">\"templateUrl\"</span>,<span class=\"code-string\">\"template\"</span>,<span class=\"code-string\">\"notify\"</span>,<span class=\"code-string\">\"async\"</span>].concat([<span class=\"code-string\">\"controller\"</span>,<span class=\"code-string\">\"controllerProvider\"</span>,<span class=\"code-string\">\"controllerAs\"</span>,<span class=\"code-string\">\"resolveAs\"</span>]),t=i.concat(o);<span class=\"code-keyword\">if</span>(E(n.views)&amp;&amp;vi(t,n))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"State '\"</span>+n.name+<span class=\"code-string\">\"' has a 'views' object. It cannot also have \\\"view properties\\\" at the state level.  Move the following properties into a view (in the 'views' object):  \"</span>+t.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> E(n[t])}).join(<span class=\"code-string\">\", \"</span>));<span class=\"code-keyword\">var</span> a={},e=n.views||{<span class=\"code-attr\">$default</span>:at(n,t)};<span class=\"code-keyword\">return</span> M(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(e=e||<span class=\"code-string\">\"$default\"</span>,k(t)&amp;&amp;(t={<span class=\"code-attr\">component</span>:t}),t=B({},t),vi(i,t)&amp;&amp;vi(o,t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot combine: \"</span>+i.join(<span class=\"code-string\">\"|\"</span>)+<span class=\"code-string\">\" with: \"</span>+o.join(<span class=\"code-string\">\"|\"</span>)+<span class=\"code-string\">\" in stateview: '\"</span>+e+<span class=\"code-string\">\"@\"</span>+n.name+<span class=\"code-string\">\"'\"</span>);t.resolveAs=t.resolveAs||<span class=\"code-string\">\"$resolve\"</span>,t.$type=<span class=\"code-string\">\"ng1\"</span>,t.$context=n,t.$name=e;<span class=\"code-keyword\">var</span> r=Br.normalizeUIViewTarget(t.$context,t.$name);t.$uiViewName=r.uiViewName,t.$uiViewContextAnchor=r.uiViewContextAnchor,a[e]=t}),a}<span class=\"code-keyword\">var</span> mi=<span class=\"code-number\">0</span>,yi=(gi.prototype.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=D.$q,r=<span class=\"code-keyword\">new</span> Je(<span class=\"code-keyword\">this</span>.path),n=<span class=\"code-keyword\">this</span>.path.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> B(t,e.paramValues)},{}),i={<span class=\"code-attr\">template</span>:t.when(<span class=\"code-keyword\">this</span>.factory.fromConfig(<span class=\"code-keyword\">this</span>.viewDecl,n,r)),<span class=\"code-attr\">controller</span>:t.when(<span class=\"code-keyword\">this</span>.getController(r))};<span class=\"code-keyword\">return</span> t.all(i).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> we.traceViewServiceEvent(<span class=\"code-string\">\"Loaded\"</span>,e),e.controller=t.controller,B(e,t.template),e})},gi.prototype.getController=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.viewDecl.controllerProvider;<span class=\"code-keyword\">if</span>(!H(e))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.viewDecl.controller;<span class=\"code-keyword\">var</span> r=D.$injector.annotate(e),n=x(e)?Pt(e):e;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(<span class=\"code-string\">\"\"</span>,n,r).get(t)},gi);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gi</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.path=t,<span class=\"code-keyword\">this</span>.viewDecl=e,<span class=\"code-keyword\">this</span>.factory=r,<span class=\"code-keyword\">this</span>.$id=mi++,<span class=\"code-keyword\">this</span>.loaded=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.getTemplate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> n.component?n.factory.makeComponentTemplate(t,e,n.component,n.viewDecl.bindings):n.template}}<span class=\"code-keyword\">var</span> wi=(_i.prototype.useHttpService=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._useHttp=t},_i.prototype.fromConfig=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> D.$q.when(t).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">template</span>:t}})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> D.$q.when(t).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">component</span>:t}})}<span class=\"code-keyword\">return</span> E(t.template)?n(<span class=\"code-keyword\">this</span>.fromString(t.template,e)):E(t.templateUrl)?n(<span class=\"code-keyword\">this</span>.fromUrl(t.templateUrl,e)):E(t.templateProvider)?n(<span class=\"code-keyword\">this</span>.fromProvider(t.templateProvider,e,r)):E(t.component)?i(t.component):E(t.componentProvider)?i(<span class=\"code-keyword\">this</span>.fromComponentProvider(t.componentProvider,e,r)):n(<span class=\"code-string\">\"&lt;ui-view&gt;&lt;/ui-view&gt;\"</span>)},_i.prototype.fromString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> T(t)?t(e):t},_i.prototype.fromUrl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> T(t)&amp;&amp;(t=t(e)),<span class=\"code-literal\">null</span>==t?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>._useHttp?<span class=\"code-keyword\">this</span>.$http.get(t,{<span class=\"code-attr\">cache</span>:<span class=\"code-keyword\">this</span>.$templateCache,<span class=\"code-attr\">headers</span>:{<span class=\"code-attr\">Accept</span>:<span class=\"code-string\">\"text/html\"</span>}}).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.data}):<span class=\"code-keyword\">this</span>.$templateRequest(t)},_i.prototype.fromProvider=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=D.$injector.annotate(t),i=x(t)?Pt(t):t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(<span class=\"code-string\">\"\"</span>,i,n).get(r)},_i.prototype.fromComponentProvider=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{<span class=\"code-keyword\">var</span> n=D.$injector.annotate(t),i=x(t)?Pt(t):t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Le(<span class=\"code-string\">\"\"</span>,i,n).get(r)},_i.prototype.makeComponentTemplate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s,c,t,f</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Bt(t);<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/^(x|data)-/</span>.exec(e)?<span class=\"code-string\">\"x-\"</span>+e:e}f=f||{};<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">3</span>&lt;=b.version.minor?<span class=\"code-string\">\"::\"</span>:<span class=\"code-string\">\"\"</span>,e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=D.$injector.get(t+<span class=\"code-string\">\"Directive\"</span>);<span class=\"code-keyword\">if</span>(!e||!e.length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unable to find component named '\"</span>+t+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">return</span> e.map(Si).reduce(mt,[])}(t).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.name,r=t.type,n=l(e);<span class=\"code-keyword\">if</span>(s.attr(n)&amp;&amp;!f[e])<span class=\"code-keyword\">return</span> n+<span class=\"code-string\">\"='\"</span>+s.attr(n)+<span class=\"code-string\">\"'\"</span>;<span class=\"code-keyword\">var</span> i=f[e]||e;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"@\"</span>===r)<span class=\"code-keyword\">return</span> n+<span class=\"code-string\">\"='{{\"</span>+h+<span class=\"code-string\">\"$resolve.\"</span>+i+<span class=\"code-string\">\"}}'\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"&amp;\"</span>!==r)<span class=\"code-keyword\">return</span> n+<span class=\"code-string\">\"='\"</span>+h+<span class=\"code-string\">\"$resolve.\"</span>+i+<span class=\"code-string\">\"'\"</span>;<span class=\"code-keyword\">var</span> o=c.getResolvable(i),a=o&amp;&amp;o.data,u=a&amp;&amp;D.$injector.annotate(a)||[];<span class=\"code-keyword\">return</span> n+<span class=\"code-string\">\"='$resolve.\"</span>+i+(x(a)?<span class=\"code-string\">\"[\"</span>+(a.length<span class=\"code-number\">-1</span>)+<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\"(\"</span>+u.join(<span class=\"code-string\">\",\"</span>)+<span class=\"code-string\">\")'\"</span>}).join(<span class=\"code-string\">\" \"</span>),r=l(t);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"&lt;\"</span>+r+<span class=\"code-string\">\" \"</span>+e+<span class=\"code-string\">\"&gt;&lt;/\"</span>+r+<span class=\"code-string\">\"&gt;\"</span>},_i);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_i</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>._useHttp=b.version.minor&lt;<span class=\"code-number\">3</span>,<span class=\"code-keyword\">this</span>.$<span class=\"code-keyword\">get</span>=[\"$http\",\"$templateCache\",\"$injector\",function(t,e,r){<span class=\"code-keyword\">return</span> n.$templateRequest=r.has&amp;&amp;r.has(<span class=\"code-string\">\"$templateRequest\"</span>)&amp;&amp;r.get(<span class=\"code-string\">\"$templateRequest\"</span>),n.$http=t,n.$templateCache=e,n}]}<span class=\"code-keyword\">var</span> Si=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> O(t.bindToController)?$i(t.bindToController):$i(t.scope)},$i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(e||{}).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>[t,/^([=&lt;@&amp;])[?]?(.*)/.exec(e[t])]}).filter(function(t){return E(t)&amp;&amp;x(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},bi=(Ri.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},Ri.prototype.state=function(t,e){return O(t)?e=t:e.name=t,this.stateRegistry.register(e),this},Ri.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},Ri);function Ri(t,e){this.stateRegistry=t,this.stateService=e,J(p(Ri.prototype),this,p(this))}function Ei(r){return function(t,e){var i=t[r],o=\"onExit\"===r?\"from\":\"to\";return i?function(t,e){var r=new Je(t.treeChanges(o)).subContext(e.$$state()),n=B(Bi(r),{$state$:e,$transition$:t});return D.$injector.invoke(i,this,n)}:void 0}}var Ci=(Ti.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type(\"path\");e.encode=function(t){return null!=t?t.toString().replace(/(~|\\/)/g,function(t){return{\"~\":\"~~\",\"/\":\"~2F\"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{\"~~\":\"~\",\"~2F\":\"/\"}[t]}):t}},Ti.prototype.dispose=function(){},Ti.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return Z(e._urlListeners)(t)}},Ti.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=O(t)?t.enabled:t)&amp;&amp;this.$sniffer.history},Ti.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},Ti.prototype.url=function(t,e,r){return void 0===e&amp;&amp;(e=!1),E(t)&amp;&amp;this.$location.url(t),e&amp;&amp;this.$location.replace(),r&amp;&amp;this.$location.state(r),this.$location.url()},Ti.prototype._runtimeServices=function(t,e,r,n,i){var o=this;this.$location=e,this.$sniffer=r,this.$browser=n,this.$window=i,t.$on(\"$locationChangeSuccess\",function(e){return o._urlListeners.forEach(function(t){return t(e)})});var a=p(e);J(a,this,a,[\"replace\",\"path\",\"search\",\"hash\"]),J(a,this,a,[\"port\",\"protocol\",\"host\"])},Ti);function Ti(t){this._urlListeners=[],this.$locationProvider=t;var e=p(t);J(e,this,e,[\"hashPrefix\"])}var Pi=(ki.injectableHandler=function(e,r){return function(t){return D.$injector.invoke(r,null,{$match:t,$stateParams:e.globals.params})}},ki.prototype.$get=function(){var t=this.router.urlService;return this.router.urlRouter.update(!0),t.interceptDeferred||t.listen(),this.router.urlRouter},ki.prototype.rule=function(t){var e=this;if(!T(t))throw new Error(\"'rule' must be a function\");var r=new Nr(function(){return t(D.$injector,e.router.locationService)},z);return this.router.urlService.rules.rule(r),this},ki.prototype.otherwise=function(t){var e=this,r=this.router.urlService.rules;if(k(t))r.otherwise(t);else{if(!T(t))throw new Error(\"'rule' must be a string or function\");r.otherwise(function(){return t(D.$injector,e.router.locationService)})}return this},ki.prototype.when=function(t,e){return(x(e)||T(e))&amp;&amp;(e=ki.injectableHandler(this.router,e)),this.router.urlService.rules.when(t,e),this},ki.prototype.deferIntercept=function(t){this.router.urlService.deferIntercept(t)},ki);function ki(t){this.router=t}b.module(\"ui.router.angular1\",[]);var Oi=b.module(\"ui.router.init\",[\"ng\"]),xi=b.module(\"ui.router.util\",[\"ui.router.init\"]),ji=b.module(\"ui.router.router\",[\"ui.router.util\"]),Vi=b.module(\"ui.router.state\",[\"ui.router.router\",\"ui.router.util\",\"ui.router.angular1\"]),Hi=b.module(\"ui.router\",[\"ui.router.init\",\"ui.router.state\",\"ui.router.angular1\"]),Ii=(b.module(\"ui.router.compat\",[\"ui.router\"]),null);function Ai(t){(Ii=this.router=new an).stateProvider=new bi(Ii.stateRegistry,Ii.stateService),Ii.stateRegistry.decorator(\"views\",di),Ii.stateRegistry.decorator(\"onExit\",Ei(\"onExit\")),Ii.stateRegistry.decorator(\"onRetain\",Ei(\"onRetain\")),Ii.stateRegistry.decorator(\"onEnter\",Ei(\"onEnter\")),Ii.viewService._pluginapi._viewConfigFactory(\"ng1\",pi());var u=Ii.locationService=Ii.locationConfig=new Ci(t);function e(t,e,r,n,i,o,a){return u._runtimeServices(i,t,n,e,r),delete Ii.router,delete Ii.$get,Ii}return Ci.monkeyPatchPathParameterType(Ii),((Ii.router=Ii).$get=e).$inject=[\"$location\",\"$browser\",\"$window\",\"$sniffer\",\"$rootScope\",\"$http\",\"$templateCache\"],Ii}Ai.$inject=[\"$locationProvider\"];function Di(r){return[\"$uiRouterProvider\",function(t){var e=t.router[r];return e.$get=function(){return e},e}]}function qi(e,t,r){if(D.$injector=e,D.$q=t,!e.hasOwnProperty(\"strictDi\"))try{e.invoke(function(t){})}catch(t){e.strictDi=!!/strict mode/.exec(t&amp;&amp;t.toString())}r.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(mt,[]).filter(function(t){return\"deferred\"===t.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn,e.strictDi)})}qi.$inject=[\"$injector\",\"$q\",\"$uiRouter\"];function Ui(t){t.$watch(function(){we.approximateDigests++})}Ui.$inject=[\"$rootScope\"],Oi.provider(\"$uiRouter\",Ai),ji.provider(\"$urlRouter\",[\"$uiRouterProvider\",function(t){return t.urlRouterProvider=new Pi(t)}]),xi.provider(\"$urlService\",Di(\"urlService\")),xi.provider(\"$urlMatcherFactory\",[\"$uiRouterProvider\",function(){return Ii.urlMatcherFactory}]),xi.provider(\"$templateFactory\",function(){return new wi}),Vi.provider(\"$stateRegistry\",Di(\"stateRegistry\")),Vi.provider(\"$uiRouterGlobals\",Di(\"globals\")),Vi.provider(\"$transitions\",Di(\"transitionService\")),Vi.provider(\"$state\",[\"$uiRouterProvider\",function(){return B(Ii.stateProvider,{$get:function(){return Ii.stateService}})}]),Vi.factory(\"$stateParams\",[\"$uiRouter\",function(t){return t.globals.params}]),Hi.factory(\"$view\",function(){return Ii.viewService}),Hi.service(\"$trace\",function(){return we}),Hi.run(Ui),xi.run([\"$urlMatcherFactory\",function(t){}]),Vi.run([\"$state\",function(t){}]),ji.run([\"$urlRouter\",function(t){}]),Oi.run(qi);var Fi,Ni,Li,Mi,Bi=function(r){return r.getTokens().filter(k).map(function(t){var e=r.getResolvable(t);return[t,\"NOWAIT\"===r.getPolicy(e).async?e.promise:e.data]}).reduce(Tt,{})};function Gi(t){var e,r=t.match(/^\\s*({[^}]*})\\s*$/);if(r&amp;&amp;(t=\"(\"+r[1]+\")\"),!(e=t.replace(/\\n/g,\" \").match(/^\\s*([^(]*?)\\s*(\\((.*)\\))?\\s*$/))||4!==e.length)throw new Error(\"Invalid state ref '\"+t+\"'\");return{state:e[1]||null,paramExpr:e[3]||null}}function zi(t){var e=t.parent().inheritedData(\"$uiView\"),r=R(\"$cfg.path\")(e);return r?Pt(r).state.name:void 0}function Wi(t,e,r){var n=r.uiState||t.current.name,i=B(function(t,e){return{relative:zi(t)||e.$current,inherit:!0,source:\"sref\"}}(e,t),r.uiStateOpts||{}),o=t.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function Ji(t){var e=\"[object SVGAnimatedString]\"===Object.prototype.toString.call(t.prop(\"href\")),r=\"FORM\"===t[0].nodeName;return{attr:r?\"action\":e?\"xlink:href\":\"href\",isAnchor:\"A\"===t.prop(\"tagName\").toUpperCase(),clickable:!r}}function Qi(o,a,u,s,c){return function(t){var e=t.which||t.button,r=c();if(!(1&lt;e||t.ctrlKey||t.metaKey||t.shiftKey||o.attr(\"target\"))){var n=u(function(){o.attr(\"disabled\")||a.go(r.uiState,r.uiStateParams,r.uiStateOpts)});t.preventDefault();var i=s.isAnchor&amp;&amp;!r.href?1:0;t.preventDefault=function(){i--&lt;=0&amp;&amp;u.cancel(n)}}}}function Ki(i,t,o,e){var a;e&amp;&amp;(a=e.events),x(a)||(a=[\"click\"]);for(var r=i.on?\"on\":\"bind\",n=0,u=a;n&lt;u.length;n++){var s=u[n];i[r](s,o)}t.$on(\"$destroy\",function(){for(var t=i.off?\"off\":\"unbind\",e=0,r=a;e&lt;r.length;e++){var n=r[e];i[t](n,o)}})}function Yi(n){function t(t,e,r){return n.is(t,e,r)}return t.$stateful=!0,t}function Zi(n){function t(t,e,r){return n.includes(t,e,r)}return t.$stateful=!0,t}function Xi(d,m,y,t,g,e){var w=R(\"viewDecl.controllerAs\"),_=R(\"viewDecl.resolveAs\");return{restrict:\"ECA\",priority:-400,compile:function(t){var v=t.html();return t.empty(),function(e,r){var t=r.data(\"$uiView\");if(!t)return r.html(v),void d(r.contents())(e);var n=t.$cfg||{viewDecl:{},getTemplate:W},i=n.path&amp;&amp;new Je(n.path);r.html(n.getTemplate(r,i)||v),we.traceUIViewFill(t.$uiView,r.html());var o=d(r.contents()),a=n.controller,u=w(n),s=_(n),c=i&amp;&amp;Bi(i);if(e[s]=c,a){var f=m(a,B({},c,{$scope:e,$element:r}));u&amp;&amp;(e[u]=f,e[u][s]=c),r.data(\"$ngControllerController\",f),r.children().data(\"$ngControllerController\",f),ro(g,y,f,e,n)}if(k(n.component))var l=Bt(n.component),h=new RegExp(\"^(x-|data-)?\"+l+\"$\",\"i\"),p=e.$watch(function(){var t=[].slice.call(r[0].children).filter(function(t){return t&amp;&amp;t.tagName&amp;&amp;h.exec(t.tagName)});return t&amp;&amp;b.element(t).data(\"$\"+n.component+\"Controller\")},function(t){t&amp;&amp;(ro(g,y,t,e,n),p())});o(e)}}}}Fi=[\"$uiRouter\",\"$timeout\",function(h,p){var v=h.stateService;return{restrict:\"A\",require:[\"?^uiSrefActive\",\"?^uiSrefActiveEq\"],link:function(t,e,r,n){function i(){return Wi(v,e,c)}var o,a=Ji(e),u=n[1]||n[0],s=null,c={},f=Gi(r.uiSref);function l(){var t=i();s&amp;&amp;s(),u&amp;&amp;(s=u.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&amp;&amp;r.$set(a.attr,t.href)}c.uiState=f.state,c.uiStateOpts=r.uiSrefOpts?t.$eval(r.uiSrefOpts):{},f.paramExpr&amp;&amp;(t.$watch(f.paramExpr,function(t){c.uiStateParams=B({},t),l()},!0),c.uiStateParams=B({},t.$eval(f.paramExpr))),l(),t.$on(\"$destroy\",h.stateRegistry.onStatesChanged(l)),t.$on(\"$destroy\",h.transitionService.onSuccess({},l)),a.clickable&amp;&amp;(o=Qi(e,v,p,a,i),Ki(e,t,o,c.uiStateOpts))}}}],Ni=[\"$uiRouter\",\"$timeout\",function(p,v){var d=p.stateService;return{restrict:\"A\",require:[\"?^uiSrefActive\",\"?^uiSrefActiveEq\"],link:function(r,t,n,e){function i(){return Wi(d,t,c)}var o,a=Ji(t),u=e[1]||e[0],s=null,c={},f=[\"uiState\",\"uiStateParams\",\"uiStateOpts\"],l=f.reduce(function(t,e){return t[e]=W,t},{});function h(){var t=i();s&amp;&amp;s(),u&amp;&amp;(s=u.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&amp;&amp;n.$set(a.attr,t.href)}f.forEach(function(e){c[e]=n[e]?r.$eval(n[e]):null,n.$observe(e,function(t){l[e](),l[e]=r.$watch(t,function(t){c[e]=t,h()},!0)})}),h(),r.$on(\"$destroy\",p.stateRegistry.onStatesChanged(h)),r.$on(\"$destroy\",p.transitionService.onSuccess({},h)),a.clickable&amp;&amp;(o=Qi(t,d,v,a,i),Ki(t,r,o,c.uiStateOpts))}}}],Li=[\"$state\",\"$stateParams\",\"$interpolate\",\"$uiRouter\",function(v,t,d,m){return{restrict:\"A\",controller:[\"$scope\",\"$element\",\"$attrs\",function(u,s,t){var c,n,e,r,i,f=[];c=d(t.uiSrefActiveEq||\"\",!1)(u);try{n=u.$eval(t.uiSrefActive)}catch(t){}function o(t){t.promise.then(p,W)}function a(){l(n)}function l(t){O(t)&amp;&amp;(f=[],M(t,function(t,e){function r(t,e){var r=Gi(t);h(r.state,u.$eval(r.paramExpr),e)}k(t)?r(t,e):x(t)&amp;&amp;M(t,function(t){r(t,e)})}))}function h(t,e,r){var n={state:v.get(t,zi(s))||{name:t},params:e,activeClass:r};return f.push(n),function(){Z(f)(n)}}function p(){function e(t){return t.split(/\\s/).filter(z)}function t(t){return t.map(function(t){return t.activeClass}).map(e).reduce(mt,[])}var r=t(f).concat(e(c)).reduce(wt,[]),n=t(f.filter(function(t){return v.includes(t.state.name,t.params)})),i=!!f.filter(function(t){return v.is(t.state.name,t.params)}).length?e(c):[],o=n.concat(i).reduce(wt,[]),a=r.filter(function(t){return!K(o,t)});u.$evalAsync(function(){o.forEach(function(t){return s.addClass(t)}),a.forEach(function(t){return s.removeClass(t)})})}l(n=n||d(t.uiSrefActive||\"\",!1)(u)),this.$$addStateInfo=function(t,e){if(!(O(n)&amp;&amp;0&lt;f.length)){var r=h(t,e,n);return p(),r}},u.$on(\"$destroy\",(e=m.stateRegistry.onStatesChanged(a),r=m.transitionService.onStart({},o),i=u.$on(\"$stateChangeSuccess\",p),function(){e(),r(),i()})),m.globals.transition&amp;&amp;o(m.globals.transition),p()}]}}],b.module(\"ui.router.state\").directive(\"uiSref\",Fi).directive(\"uiSrefActive\",Li).directive(\"uiSrefActiveEq\",Li).directive(\"uiState\",Ni),Yi.$inject=[\"$state\"],Zi.$inject=[\"$state\"],b.module(\"ui.router.state\").filter(\"isState\",Yi).filter(\"includedByState\",Zi),Mi=[\"$view\",\"$animate\",\"$uiViewScroll\",\"$interpolate\",\"$q\",function(i,o,g,w,_){var S={$cfg:{viewDecl:{$context:i._pluginapi._rootViewContext()}},$uiView:{}},$={count:0,restrict:\"ECA\",terminal:!0,priority:400,transclude:\"element\",compile:function(t,e,y){return function(a,u,t){var s,c,f,l,e,h=t.onload||\"\",p=t.autoscroll,v={enter:function(t,e,r){2&lt;b.version.minor?o.enter(t,null,e).then(r):o.enter(t,null,e,r)},leave:function(t,e){2&lt;b.version.minor?o.leave(t).then(e):o.leave(t,e)}},r=u.inheritedData(\"$uiView\")||S,d=w(t.uiView||t.name||\"\")(a)||\"$default\",m={$type:\"ng1\",id:$.count++,name:d,fqn:r.$uiView.fqn?r.$uiView.fqn+\".\"+d:d,config:null,configUpdated:function(t){if(t&amp;&amp;!(t instanceof yi))return;if(function(t,e){return t===e}(l,t))return;we.traceUIViewConfigUpdated(m,t&amp;&amp;t.viewDecl&amp;&amp;t.viewDecl.$context),n(l=t)},get creationContext(){var t=R(\"$cfg.viewDecl.$context\")(r),e=R(\"$uiView.creationContext\")(r);return t||e}};function n(t){var e=a.$new(),r=_.defer(),n=_.defer(),i={$cfg:t,$uiView:m},o={$animEnter:r.promise,$animLeave:n.promise,$$animLeave:n};e.$emit(\"$viewContentLoading\",d),c=y(e,function(t){t.data(\"$uiViewAnim\",o),t.data(\"$uiView\",i),v.enter(t,u,function(){r.resolve(),f&amp;&amp;f.$emit(\"$viewContentAnimationEnded\"),(E(p)&amp;&amp;!p||a.$eval(p))&amp;&amp;g(t)}),function(){if(s&amp;&amp;(we.traceUIViewEvent(\"Removing (previous) el\",s.data(\"$uiView\")),s.remove(),s=null),f&amp;&amp;(we.traceUIViewEvent(\"Destroying scope\",m),f.$destroy(),f=null),c){var t=c.data(\"$uiViewAnim\");we.traceUIViewEvent(\"Animate out\",t),v.leave(c,function(){t.$$animLeave.resolve(),s=null}),s=c,c=null}}()}),(f=e).$emit(\"$viewContentLoaded\",t||l),f.$eval(h)}we.traceUIViewEvent(\"Linking\",m),u.data(\"$uiView\",{$uiView:m}),n(),e=i.registerUIView(m),a.$on(\"$destroy\",function(){we.traceUIViewEvent(\"Destroying/Unregistering\",m),e()})}}};return $}],Xi.$inject=[\"$compile\",\"$controller\",\"$transitions\",\"$view\",\"$q\",\"$timeout\"];var to=\"function\"==typeof b.module(\"ui.router\").component,eo=0;function ro(n,t,c,e,r){!T(c.$onInit)||(r.viewDecl.component||r.viewDecl.componentProvider)&amp;&amp;to||c.$onInit();var f=Pt(r.path).state.self,i={bind:c};if(T(c.uiOnParamsChanged)){var l=new Je(r.path).getResolvable(\"$transition$\").data;e.$on(\"$destroy\",t.onSuccess({},function(t){if(t!==l&amp;&amp;-1===t.exiting().indexOf(f)){var r=t.params(\"to\"),n=t.params(\"from\"),e=function(t){return t.paramSchema},i=t.treeChanges(\"to\").map(e).reduce(mt,[]),o=t.treeChanges(\"from\").map(e).reduce(mt,[]),a=i.filter(function(t){var e=o.indexOf(t);return-1===e||!o[e].type.equals(r[t.id],n[t.id])});if(a.length){var u=a.map(function(t){return t.id}),s=ct(r,function(t,e){return-1!==u.indexOf(e)});c.uiOnParamsChanged(s,t)}}},i))}if(T(c.uiCanExit)){var o=eo++,a=\"_uiCanExitIds\",u=function(t){return!!t&amp;&amp;(t[a]&amp;&amp;!0===t[a][o]||u(t.redirectedFrom()))},s={exiting:f.name};e.$on(\"$destroy\",t.onBefore(s,function(t){var e,r=t[a]=t[a]||{};return u(t)||(e=n.when(c.uiCanExit(t))).then(function(t){return r[o]=!1!==t}),e},i))}}b.module(\"ui.router.state\").directive(\"uiView\",Mi),b.module(\"ui.router.state\").directive(\"uiView\",Xi),b.module(\"ui.router.state\").provider(\"$uiViewScroll\",function(){var r=!1;this.useAnchorScroll=function(){r=!0},this.$get=[\"$anchorScroll\",\"$timeout\",function(t,e){return r?t:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]});d.$injector=Un,d.$q=In,d.BaseLocationServices=Mn,d.BaseUrlRule=Nr,d.BrowserLocationConfig=ii,d.Glob=Ht,d.HashLocationService=Wn,d.HookBuilder=Rr,d.MemoryLocationConfig=ni,d.MemoryLocationService=Yn,d.NATIVE_INJECTOR_TOKEN=We,d.Ng1ViewConfig=yi,d.Param=Te,d.ParamFactory=Ir,d.ParamType=_e,d.ParamTypes=ke,d.PathNode=He,d.PathUtils=qe,d.PushStateLocationService=ei,d.Queue=Dt,d.RegisteredHook=Sr,d.Rejection=Ft,d.Resolvable=Le,d.ResolveContext=Je,d.StateBuilder=or,d.StateMatcher=cr,d.StateObject=ur,d.StateParams=je,d.StateProvider=bi,d.StateQueueManager=lr,d.StateRegistry=dr,d.StateService=xn,d.TargetState=Ae,d.Trace=ye,d.Transition=Tr,d.TransitionEventType=En,d.TransitionHook=gr,d.TransitionService=kn,d.UIRouter=an,d.UIRouterGlobals=zr,d.UIRouterPluginBase=fi,d.UrlConfig=Zr,d.UrlMatcher=jr,d.UrlMatcherFactory=Dr,d.UrlRouter=Lr,d.UrlRouterProvider=Pi,d.UrlRuleFactory=Ur,d.UrlRules=Kr,d.UrlService=tn,d.ViewService=Br,d._extend=Ot,d._inArray=Y,d._pushTo=et,d._removeFrom=X,d.all=a,d.allTrueR=vt,d.ancestors=ot,d.and=i,d.any=f,d.anyTrueR=dt,d.applyPairs=Tt,d.arrayTuples=Ct,d.assertFn=Rt,d.assertMap=bt,d.assertPredicate=$t,d.beforeAfterSubstr=Kt,d.buildUrl=Nn,d.compose=r,d.copy=kt,d.core=hi,d.createProxyFunctions=J,d.curry=s,d.default=\"ui.router\",d.defaultResolvePolicy=Ne,d.defaultTransOpts=Pn,d.defaults=nt,d.deregAll=rt,d.eq=o,d.equals=G,d.extend=B,d.filter=ct,d.find=ft,d.flatten=St,d.flattenR=yt,d.fnToString=zt,d.forEach=M,d.fromJson=N,d.functionToString=Gt,d.getLocals=Bi,d.getNg1ViewConfigFactory=pi,d.getParams=Hn,d.hashLocationPlugin=ui,d.hostRegex=Xt,d.identity=z,d.inArray=K,d.inherit=Q,d.invoke=v,d.is=h,d.isArray=x,d.isDate=j,d.isDefined=E,d.isFunction=T,d.isInjectable=H,d.isNull=_,d.isNullOrUndefined=C,d.isNumber=P,d.isObject=O,d.isPromise=A,d.isRegExp=V,d.isString=k,d.isUndefined=$,d.joinNeighborsR=ie,d.kebobString=Bt,d.keyValsToObjectR=Vn,d.locationPluginFactory=Ln,d.makeEvent=br,d.makeStub=I,d.map=ht,d.mapObj=lt,d.matchState=_r,d.maxLength=Lt,d.memoryLocationPlugin=ci,d.mergeR=it,d.ng1ViewsBuilder=di,d.noop=W,d.not=l,d.omit=ut,d.or=u,d.padString=Mt,d.pairs=Et,d.parse=R,d.parseUrl=Fn,d.pattern=g,d.pick=at,d.pipe=c,d.pluck=st,d.prop=m,d.propEq=y,d.pushR=gt,d.pushStateLocationPlugin=si,d.pushTo=tt,d.removeFrom=Z,d.resolvablesBuilder=ir,d.resolvePolicies=Fe,d.root=U,d.services=D,d.servicesPlugin=ai,d.silenceUncaughtInPromise=jt,d.silentRejection=Vt,d.splitEqual=re,d.splitHash=te,d.splitOnDelim=ne,d.splitQuery=ee,d.stringify=Qt,d.stripLastPathElement=Yt,d.tail=Pt,d.toJson=L,d.trace=we,d.trimHashVal=Zt,d.uniqR=wt,d.unnest=_t,d.unnestR=mt,d.val=p,d.values=pt,d.watchDigests=Ui,Object.defineProperty(d,\"__esModule\",{value:!0})});\n","//# sourceMappingURL=angular-ui-router.min.js.map\n",""]}}}</script></head><body><div id="root"><style data-emotion-css="262b4o">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="xi606m">.css-xi606m{text-align:center;}</style><header class="css-xi606m"><style data-emotion-css="17kjije">.css-17kjije{font-size:3rem;margin-top:2rem;}</style><h1 class="css-17kjije"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="k4kplh">.css-k4kplh{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;}</style><h1 class="css-k4kplh"><nav><span><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/@uirouter/angularjs@1.0.26/" class="css-xt128v">@uirouter/angularjs</a></span><span><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/@uirouter/angularjs@1.0.26/release/" class="css-xt128v">release</a></span><span><span class="css-lllnmq">/</span><strong>angular-ui-router.min.js</strong></span></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="0.2.8">0.2.8</option><option value="0.2.10">0.2.10</option><option value="0.2.11">0.2.11</option><option value="0.2.13">0.2.13</option><option value="0.2.14">0.2.14</option><option value="0.2.15">0.2.15</option><option value="0.2.16">0.2.16</option><option value="0.2.17">0.2.17</option><option value="0.2.18">0.2.18</option><option value="0.3.0">0.3.0</option><option value="0.3.1">0.3.1</option><option value="0.3.2">0.3.2</option><option value="0.4.0">0.4.0</option><option value="0.4.1">0.4.1</option><option value="0.4.2">0.4.2</option><option value="0.4.3">0.4.3</option><option value="1.0.0">1.0.0</option><option value="1.0.1">1.0.1</option><option value="1.0.3">1.0.3</option><option value="1.0.4">1.0.4</option><option value="1.0.5-SNAPSHOT.20170711">1.0.5-SNAPSHOT.20170711</option><option value="1.0.5">1.0.5</option><option value="1.0.6-SNAPSHOT.20170812">1.0.6-SNAPSHOT.20170812</option><option value="1.0.6">1.0.6</option><option value="1.0.7">1.0.7</option><option value="1.0.8">1.0.8</option><option value="1.0.9">1.0.9</option><option value="1.0.10">1.0.10</option><option value="1.0.11">1.0.11</option><option value="1.0.12">1.0.12</option><option value="1.0.13">1.0.13</option><option value="1.0.14">1.0.14</option><option value="1.0.15">1.0.15</option><option value="1.0.16">1.0.16</option><option value="1.0.17">1.0.17</option><option value="1.0.18">1.0.18</option><option value="1.0.19">1.0.19</option><option value="1.0.20">1.0.20</option><option value="1.0.21">1.0.21</option><option value="1.0.22">1.0.22</option><option value="1.0.23">1.0.23</option><option value="1.0.24">1.0.24</option><option value="1.0.25">1.0.25</option><option selected="" value="1.0.26">1.0.26</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>116 kB</span> <span>JavaScript</span> <style data-emotion-css="12cxnkg">.css-12cxnkg{display:inline-block;-webkit-text-decoration:none;text-decoration:none;padding:2px 8px;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-12cxnkg:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-12cxnkg:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a title="angular-ui-router.min.js" href="/@uirouter/angularjs@1.0.26/release/angular-ui-router.min.js" class="css-12cxnkg">View Raw</a></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code><span class="code-comment">/**
</span></code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code><span class="code-comment"> * State-based routing for AngularJS 1.x
</span></code></td></tr><tr><td id="L3" class="css-a4x74f"><span>3</span></td><td id="LC3" class="css-1dcdqdg"><code><span class="code-comment"> * NOTICE: This monolithic bundle also bundles the @uirouter/core code.
</span></code></td></tr><tr><td id="L4" class="css-a4x74f"><span>4</span></td><td id="LC4" class="css-1dcdqdg"><code><span class="code-comment"> *         This causes it to be incompatible with plugins that depend on @uirouter/core.
</span></code></td></tr><tr><td id="L5" class="css-a4x74f"><span>5</span></td><td id="LC5" class="css-1dcdqdg"><code><span class="code-comment"> *         We recommend switching to the ui-router-core.js and ui-router-angularjs.js bundles instead.
</span></code></td></tr><tr><td id="L6" class="css-a4x74f"><span>6</span></td><td id="LC6" class="css-1dcdqdg"><code><span class="code-comment"> *         For more information, see https://ui-router.github.io/blog/uirouter-for-angularjs-umd-bundles
</span></code></td></tr><tr><td id="L7" class="css-a4x74f"><span>7</span></td><td id="LC7" class="css-1dcdqdg"><code><span class="code-comment"> * @version v1.0.26
</span></code></td></tr><tr><td id="L8" class="css-a4x74f"><span>8</span></td><td id="LC8" class="css-1dcdqdg"><code><span class="code-comment"> * @link https://ui-router.github.io
</span></code></td></tr><tr><td id="L9" class="css-a4x74f"><span>9</span></td><td id="LC9" class="css-1dcdqdg"><code><span class="code-comment"> * @license MIT License, http://www.opensource.org/licenses/MIT
</span></code></td></tr><tr><td id="L10" class="css-a4x74f"><span>10</span></td><td id="LC10" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L11" class="css-a4x74f"><span>11</span></td><td id="LC11" class="css-1dcdqdg"><code>!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">module</span>?e(exports,<span class="code-built_in">require</span>(<span class="code-string">"angular"</span>)):<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> define&amp;&amp;define.amd?define([<span class="code-string">"exports"</span>,<span class="code-string">"angular"</span>],e):e((t=t||self)[<span class="code-string">"@uirouter/angularjs"</span>]={},t.angular)}(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">d,t</span>)</span>{<span class="code-string">"use strict"</span>;<span class="code-keyword">var</span> e=angular,b=t&amp;&amp;t.module?t:e,n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-number">0</span>,r=<span class="code-built_in">arguments</span>.length;e&lt;r;e++)t+=<span class="code-built_in">arguments</span>[e].length;<span class="code-keyword">var</span> n=<span class="code-built_in">Array</span>(t),i=<span class="code-number">0</span>;<span class="code-keyword">for</span>(e=<span class="code-number">0</span>;e&lt;r;e++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-built_in">arguments</span>[e],a=<span class="code-number">0</span>,u=o.length;a&lt;u;a++,i++)n[i]=o[a];<span class="code-keyword">return</span> n};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">arguments</span>.length&gt;=r.length)<span class="code-keyword">return</span> r.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>);<span class="code-keyword">var</span> e=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>);<span class="code-keyword">return</span> t.bind.apply(t,n([<span class="code-keyword">this</span>],e))}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> r=<span class="code-built_in">arguments</span>,n=r.length<span class="code-number">-1</span>;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=n,e=r[n].apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>);t--;)e=r[t].call(<span class="code-keyword">this</span>,e);<span class="code-keyword">return</span> e}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">c</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)t[e]=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">return</span> r.apply(<span class="code-literal">null</span>,[].slice.call(<span class="code-built_in">arguments</span>).reverse())}<span class="code-keyword">var</span> m=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;t[e]}},y=s(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> r&amp;&amp;r[t]===e}),R=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> c.apply(<span class="code-literal">null</span>,t.split(<span class="code-string">"."</span>).map(m))},l=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)t[e]=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">return</span>!r.apply(<span class="code-literal">null</span>,t)}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">r,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)t[e]=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">return</span> r.apply(<span class="code-literal">null</span>,t)&amp;&amp;n.apply(<span class="code-literal">null</span>,t)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">r,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)t[e]=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">return</span> r.apply(<span class="code-literal">null</span>,t)||n.apply(<span class="code-literal">null</span>,t)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e===t}}<span class="code-keyword">var</span> a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;!!r(e)},!<span class="code-number">0</span>)}},f=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t||!!r(e)},!<span class="code-number">1</span>)}},h=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!=t&amp;&amp;t.constructor===e||t <span class="code-keyword">instanceof</span> e}},p=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">v</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t[e].apply(t,r)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">g</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;r.length;e++)<span class="code-keyword">if</span>(r[e][<span class="code-number">0</span>](t))<span class="code-keyword">return</span> r[e][<span class="code-number">1</span>](t)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">typeof</span> t===e}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>===t}<span class="code-keyword">var</span> S=<span class="code-built_in">Object</span>.prototype.toString,$=w(<span class="code-string">"undefined"</span>),E=l($),C=u(_,$),T=w(<span class="code-string">"function"</span>),P=w(<span class="code-string">"number"</span>),k=w(<span class="code-string">"string"</span>),O=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!==t&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> t},x=<span class="code-built_in">Array</span>.isArray,j=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"[object Date]"</span>===S.call(t)},V=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"[object RegExp]"</span>===S.call(t)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">H</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(x(t)&amp;&amp;t.length){<span class="code-keyword">var</span> e=t.slice(<span class="code-number">0</span>,<span class="code-number">-1</span>),r=t.slice(<span class="code-number">-1</span>);<span class="code-keyword">return</span>!(e.filter(l(k)).length||r.filter(l(T)).length)}<span class="code-keyword">return</span> T(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">I</span>(<span class="code-params">r,t</span>)</span>{<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"No implementation for "</span>+t+<span class="code-string">". The framework specific code did not implement this method."</span>)}}(r+<span class="code-string">"."</span>+e+<span class="code-string">"()"</span>),t},{})}<span class="code-keyword">var</span> A=i(O,c(m(<span class="code-string">"then"</span>),T)),D={<span class="code-attr">$q</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">$injector</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>},q=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-number">0</span>,r=<span class="code-built_in">arguments</span>.length;e&lt;r;e++)t+=<span class="code-built_in">arguments</span>[e].length;<span class="code-keyword">var</span> n=<span class="code-built_in">Array</span>(t),i=<span class="code-number">0</span>;<span class="code-keyword">for</span>(e=<span class="code-number">0</span>;e&lt;r;e++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-built_in">arguments</span>[e],a=<span class="code-number">0</span>,u=o.length;a&lt;u;a++,i++)n[i]=o[a];<span class="code-keyword">return</span> n},U=<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> self&amp;&amp;self.self===self&amp;&amp;self||<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> global&amp;&amp;global.global===global&amp;&amp;global||<span class="code-keyword">void</span> <span class="code-number">0</span>,F=U.angular||{},N=F.fromJson||<span class="code-built_in">JSON</span>.parse.bind(<span class="code-built_in">JSON</span>),L=F.toJson||<span class="code-built_in">JSON</span>.stringify.bind(<span class="code-built_in">JSON</span>),M=F.forEach||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r,t</span>)</span>{<span class="code-keyword">if</span>(x(e))<span class="code-keyword">return</span> e.forEach(r,t);<span class="code-built_in">Object</span>.keys(e).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r(e[t],t)})},B=<span class="code-built_in">Object</span>.assign||Ot,G=F.equals||xt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">z</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">W</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">J</span>(<span class="code-params">e,r,n,t,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=!<span class="code-number">1</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e()[t].bind(n())}<span class="code-keyword">return</span>(t=t||<span class="code-built_in">Object</span>.keys(e())).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t[e]=i?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r[t]=o(t),r[t].apply(<span class="code-literal">null</span>,<span class="code-built_in">arguments</span>)}}(e):o(e),t},r)}<span class="code-keyword">var</span> Q=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> B(<span class="code-built_in">Object</span>.create(t),e)},K=s(Y);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Y</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span><span class="code-number">-1</span>!==t.indexOf(e)}<span class="code-keyword">var</span> Z=s(X);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">X</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=t.indexOf(e);<span class="code-keyword">return</span> <span class="code-number">0</span>&lt;=r&amp;&amp;t.splice(r,<span class="code-number">1</span>),t}<span class="code-keyword">var</span> tt=s(et);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">et</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.push(e),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.slice().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;t(),Z(e,t)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],r=<span class="code-number">1</span>;r&lt;<span class="code-built_in">arguments</span>.length;r++)e[r<span class="code-number">-1</span>]=<span class="code-built_in">arguments</span>[r];<span class="code-keyword">var</span> n=B.apply(<span class="code-keyword">void</span> <span class="code-number">0</span>,q([{}],e.reverse()));<span class="code-keyword">return</span> B(n,at(t||{},<span class="code-built_in">Object</span>.keys(n)))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">it</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> B(t,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ot</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t.path){<span class="code-keyword">if</span>(t.path[n]!==e.path[n])<span class="code-keyword">break</span>;r.push(t.path[n])}<span class="code-keyword">return</span> r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">at</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t)<span class="code-number">-1</span>!==e.indexOf(n)&amp;&amp;(r[n]=t[n]);<span class="code-keyword">return</span> r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ut</span>(<span class="code-params">r,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(r).filter(l(K(t))).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t[e]=r[e],t},{})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">st</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> ht(t,m(e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ct</span>(<span class="code-params">t,r</span>)</span>{<span class="code-keyword">var</span> e=x(t),n=e?[]:{},i=e?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.push(t)}:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> n[e]=t};<span class="code-keyword">return</span> M(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{r(t,e)&amp;&amp;i(t,e)}),n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ft</span>(<span class="code-params">t,r</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">return</span> M(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{n||r(t,e)&amp;&amp;(n=t)}),n}<span class="code-keyword">var</span> lt=ht;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ht</span>(<span class="code-params">t,r,n</span>)</span>{<span class="code-keyword">return</span> n=n||(x(t)?[]:{}),M(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> n[e]=r(t,e)}),n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(e).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e[t]})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t||e}<span class="code-keyword">var</span> mt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.concat(e)},yt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> x(e)?t.concat(e.reduce(yt,[])):gt(t,e)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.push(e),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> K(t,e)?t:gt(t,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_t</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.reduce(mt,[])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">St</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.reduce(yt,[])}<span class="code-keyword">var</span> $t=Rt,bt=Rt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Rt</span>(<span class="code-params">r,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-string">"assert failure"</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=r(t);<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(T(n)?n(t):n);<span class="code-keyword">return</span> e}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Et</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(e).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>[t,e[t]]})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ct</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)t[e]=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">if</span>(<span class="code-number">0</span>===t.length)<span class="code-keyword">return</span>[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.min(e.length,t)},<span class="code-number">9007199254740991</span>),n=[],i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">switch</span>(t.length){<span class="code-keyword">case</span> <span class="code-number">1</span>:n.push([t[<span class="code-number">0</span>][e]]);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:n.push([t[<span class="code-number">0</span>][e],t[<span class="code-number">1</span>][e]]);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:n.push([t[<span class="code-number">0</span>][e],t[<span class="code-number">1</span>][e],t[<span class="code-number">2</span>][e]]);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:n.push([t[<span class="code-number">0</span>][e],t[<span class="code-number">1</span>][e],t[<span class="code-number">2</span>][e],t[<span class="code-number">3</span>][e]]);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:n.push(t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t[e]}))}},o=<span class="code-number">0</span>;o&lt;r;o++)i(o);<span class="code-keyword">return</span> n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Tt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r,n;<span class="code-keyword">if</span>(x(e)&amp;&amp;(r=e[<span class="code-number">0</span>],n=e[<span class="code-number">1</span>]),!k(r))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"invalid parameters to applyPairs"</span>);<span class="code-keyword">return</span> t[r]=n,t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.length&amp;&amp;t[t.length<span class="code-number">-1</span>]||<span class="code-keyword">void</span> <span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;<span class="code-built_in">Object</span>.keys(e).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">delete</span> e[t]}),B(e=e||{},t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ot</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">1</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++){<span class="code-keyword">var</span> r=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">if</span>(r)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-built_in">Object</span>.keys(r),i=<span class="code-number">0</span>;i&lt;n.length;i++)t[n[i]]=r[n[i]]}<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(t===e)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t||<span class="code-literal">null</span>===e)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(t!=t&amp;&amp;e!=e)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> r=<span class="code-keyword">typeof</span> t;<span class="code-keyword">if</span>(r!=<span class="code-keyword">typeof</span> e||<span class="code-string">"object"</span>!=r)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> n=[t,e];<span class="code-keyword">if</span>(a(x)(n))<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.length===e.length&amp;&amp;Ct(t,e).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;xt(e[<span class="code-number">0</span>],e[<span class="code-number">1</span>])},!<span class="code-number">0</span>)}(t,e);<span class="code-keyword">if</span>(a(j)(n))<span class="code-keyword">return</span> t.getTime()===e.getTime();<span class="code-keyword">if</span>(a(V)(n))<span class="code-keyword">return</span> t.toString()===e.toString();<span class="code-keyword">if</span>(a(T)(n))<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>([T,x,j,V].map(f).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t||!!e(n)},!<span class="code-number">1</span>))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> i={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> t){<span class="code-keyword">if</span>(!xt(t[o],e[o]))<span class="code-keyword">return</span>!<span class="code-number">1</span>;i[o]=!<span class="code-number">0</span>}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> e)<span class="code-keyword">if</span>(!i[o])<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>})&amp;&amp;t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> jt(D.$q.reject(t))}<span class="code-keyword">var</span> Ht=(It.is=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!<span class="code-regexp">/[!,*]+/</span>.exec(t)},It.fromString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> It.is(t)?<span class="code-keyword">new</span> It(t):<span class="code-literal">null</span>},It.prototype.matches=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.regexp.test(<span class="code-string">"."</span>+t)},It);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">It</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.text=t,<span class="code-keyword">this</span>.glob=t.split(<span class="code-string">"."</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.text.split(<span class="code-string">"."</span>).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"**"</span>===t?<span class="code-string">"(?:|(?:\\.[^.]*)*)"</span>:<span class="code-string">"*"</span>===t?<span class="code-string">"\\.[^.]*"</span>:<span class="code-string">"\\."</span>+t}).join(<span class="code-string">""</span>);<span class="code-keyword">this</span>.regexp=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"^"</span>+e+<span class="code-string">"$"</span>)}<span class="code-keyword">var</span> At,Dt=(qt.prototype.enqueue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._items;<span class="code-keyword">return</span> e.push(t),<span class="code-keyword">this</span>._limit&amp;&amp;e.length&gt;<span class="code-keyword">this</span>._limit&amp;&amp;<span class="code-keyword">this</span>.evict(),t},qt.prototype.evict=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._items.shift();<span class="code-keyword">return</span> <span class="code-keyword">this</span>._evictListeners.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t(e)}),e},qt.prototype.dequeue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.size())<span class="code-keyword">return</span> <span class="code-keyword">this</span>._items.splice(<span class="code-number">0</span>,<span class="code-number">1</span>)[<span class="code-number">0</span>]},qt.prototype.clear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._items;<span class="code-keyword">return</span> <span class="code-keyword">this</span>._items=[],t},qt.prototype.size=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._items.length},qt.prototype.remove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._items.indexOf(t);<span class="code-keyword">return</span><span class="code-number">-1</span>&lt;e&amp;&amp;<span class="code-keyword">this</span>._items.splice(e,<span class="code-number">1</span>)[<span class="code-number">0</span>]},qt.prototype.peekTail=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._items[<span class="code-keyword">this</span>._items.length<span class="code-number">-1</span>]},qt.prototype.peekHead=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.size())<span class="code-keyword">return</span> <span class="code-keyword">this</span>._items[<span class="code-number">0</span>]},qt);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-literal">null</span>),<span class="code-keyword">this</span>._items=t,<span class="code-keyword">this</span>._limit=e,<span class="code-keyword">this</span>._evictListeners=[],<span class="code-keyword">this</span>.onEvict=tt(<span class="code-keyword">this</span>._evictListeners)}(At=d.RejectType||(d.RejectType={}))[At.SUPERSEDED=<span class="code-number">2</span>]=<span class="code-string">"SUPERSEDED"</span>,At[At.ABORTED=<span class="code-number">3</span>]=<span class="code-string">"ABORTED"</span>,At[At.INVALID=<span class="code-number">4</span>]=<span class="code-string">"INVALID"</span>,At[At.IGNORED=<span class="code-number">5</span>]=<span class="code-string">"IGNORED"</span>,At[At.ERROR=<span class="code-number">6</span>]=<span class="code-string">"ERROR"</span>;<span class="code-keyword">var</span> Ut=<span class="code-number">0</span>,Ft=(Nt.isRejectionPromise=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t.then&amp;&amp;h(Nt)(t._transitionRejection)},Nt.superseded=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> Nt(d.RejectType.SUPERSEDED,<span class="code-string">"The transition has been superseded by a different transition"</span>,t);<span class="code-keyword">return</span> e&amp;&amp;e.redirected&amp;&amp;(r.redirected=!<span class="code-number">0</span>),r},Nt.redirected=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Nt.superseded(t,{<span class="code-attr">redirected</span>:!<span class="code-number">0</span>})},Nt.invalid=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Nt(d.RejectType.INVALID,<span class="code-string">"This transition is invalid"</span>,t)},Nt.ignored=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Nt(d.RejectType.IGNORED,<span class="code-string">"The transition was ignored"</span>,t)},Nt.aborted=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Nt(d.RejectType.ABORTED,<span class="code-string">"The transition has been aborted"</span>,t)},Nt.errored=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Nt(d.RejectType.ERROR,<span class="code-string">"The transition errored"</span>,t)},Nt.normalize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> h(Nt)(t)?t:Nt.errored(t)},Nt.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,e=(t=<span class="code-keyword">this</span>.detail)&amp;&amp;t.toString!==<span class="code-built_in">Object</span>.prototype.toString?t.toString():Qt(t);<span class="code-keyword">return</span><span class="code-string">"Transition Rejection($id: "</span>+<span class="code-keyword">this</span>.$id+<span class="code-string">" type: "</span>+<span class="code-keyword">this</span>.type+<span class="code-string">", message: "</span>+<span class="code-keyword">this</span>.message+<span class="code-string">", detail: "</span>+e+<span class="code-string">")"</span>},Nt.prototype.toPromise=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> B(Vt(<span class="code-keyword">this</span>),{<span class="code-attr">_transitionRejection</span>:<span class="code-keyword">this</span>})},Nt);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nt</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">this</span>.$id=Ut++,<span class="code-keyword">this</span>.type=t,<span class="code-keyword">this</span>.message=e,<span class="code-keyword">this</span>.detail=r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Lt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> e.length&lt;=t?e:e.substr(<span class="code-number">0</span>,t<span class="code-number">-3</span>)+<span class="code-string">"..."</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(;e.length&lt;t;)e+=<span class="code-string">" "</span>;<span class="code-keyword">return</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.replace(<span class="code-regexp">/^([A-Z])/</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.toLowerCase()}).replace(<span class="code-regexp">/([A-Z])/g</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"-"</span>+t.toLowerCase()})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=zt(t),r=e.match(<span class="code-regexp">/^(function [^ ]+\([^)]*\))/</span>),n=r?r[<span class="code-number">1</span>]:e,i=t.name||<span class="code-string">""</span>;<span class="code-keyword">return</span> i&amp;&amp;n.match(<span class="code-regexp">/function \(/</span>)?<span class="code-string">"function "</span>+i+n.substr(<span class="code-number">9</span>):n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=x(t)?t.slice(<span class="code-number">-1</span>)[<span class="code-number">0</span>]:t;<span class="code-keyword">return</span> e&amp;&amp;e.toString()||<span class="code-string">"undefined"</span>}<span class="code-keyword">var</span> Wt=Ft.isRejectionPromise,Jt=g([[$,p(<span class="code-string">"undefined"</span>)],[_,p(<span class="code-string">"null"</span>)],[A,p(<span class="code-string">"[Promise]"</span>)],[Wt,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._transitionRejection.toString()}],[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> O(t)&amp;&amp;!x(t)&amp;&amp;t.constructor!==<span class="code-built_in">Object</span>&amp;&amp;T(t.toString)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.toString()}],[H,Gt],[p(!<span class="code-number">0</span>),z]]);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=[];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(O(t)){<span class="code-keyword">if</span>(<span class="code-number">-1</span>!==e.indexOf(t))<span class="code-keyword">return</span><span class="code-string">"[circular ref]"</span>;e.push(t)}<span class="code-keyword">return</span> Jt(t)}<span class="code-keyword">return</span> $(t)?r(t):<span class="code-built_in">JSON</span>.stringify(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> r(e)}).replace(<span class="code-regexp">/\\"/g</span>,<span class="code-string">'"'</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Kt</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span>[<span class="code-string">""</span>,<span class="code-string">""</span>];<span class="code-keyword">var</span> e=t.indexOf(r);<span class="code-keyword">return</span><span class="code-number">-1</span>===e?[t,<span class="code-string">""</span>]:[t.substr(<span class="code-number">0</span>,e),t.substr(e+<span class="code-number">1</span>)]}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.replace(<span class="code-regexp">/\/[^/]*$/</span>,<span class="code-string">""</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t?t.replace(<span class="code-regexp">/^#/</span>,<span class="code-string">""</span>):<span class="code-string">""</span>}<span class="code-keyword">var</span> Xt=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"^(?:[a-z]+:)?//[^/]+/"</span>),te=Kt(<span class="code-string">"#"</span>),ee=Kt(<span class="code-string">"?"</span>),re=Kt(<span class="code-string">"="</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ne</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"("</span>+t+<span class="code-string">")"</span>,<span class="code-string">"g"</span>);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.split(e).filter(z)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ie</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> k(Pt(t))&amp;&amp;k(e)?t.slice(<span class="code-number">0</span>,<span class="code-number">-1</span>).concat(Pt(t)+e):gt(t,e)}<span class="code-keyword">var</span> oe={<span class="code-attr">log</span>:W,<span class="code-attr">error</span>:W,<span class="code-attr">table</span>:W};<span class="code-keyword">var</span> ae,ue,se,ce=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">document</span>&amp;&amp;<span class="code-built_in">document</span>.documentMode&amp;&amp;<span class="code-number">9</span>===<span class="code-built_in">document</span>.documentMode?<span class="code-built_in">window</span>&amp;&amp;<span class="code-built_in">window</span>.console?(se=<span class="code-built_in">window</span>.console,{<span class="code-attr">log</span>:fe(se.log),<span class="code-attr">error</span>:fe(se.log),<span class="code-attr">table</span>:fe(se.log)}):oe:<span class="code-built_in">console</span>.table&amp;&amp;<span class="code-built_in">console</span>.error?<span class="code-built_in">console</span>:(ae=<span class="code-built_in">console</span>,{<span class="code-attr">log</span>:ue=ae.log.bind(ae),<span class="code-attr">error</span>:ae.error?ae.error.bind(ae):ue,<span class="code-attr">table</span>:ae.table?ae.table.bind(ae):ue});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fe</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Function</span>.prototype.bind.call(t,se)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">le</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span><span class="code-string">"ui-view (defunct)"</span>;<span class="code-keyword">var</span> e=t.creationContext?t.creationContext.name||<span class="code-string">"(root)"</span>:<span class="code-string">"(none)"</span>;<span class="code-keyword">return</span><span class="code-string">"[ui-view#"</span>+t.id+<span class="code-string">" "</span>+t.$type+<span class="code-string">":"</span>+t.fqn+<span class="code-string">" ("</span>+t.name+<span class="code-string">"@"</span>+e+<span class="code-string">")]"</span>}<span class="code-keyword">var</span> he;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pe</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> P(t)?d.Category[t]:d.Category[d.Category[t]]}(he=d.Category||(d.Category={}))[he.RESOLVE=<span class="code-number">0</span>]=<span class="code-string">"RESOLVE"</span>,he[he.TRANSITION=<span class="code-number">1</span>]=<span class="code-string">"TRANSITION"</span>,he[he.HOOK=<span class="code-number">2</span>]=<span class="code-string">"HOOK"</span>,he[he.UIVIEW=<span class="code-number">3</span>]=<span class="code-string">"UIVIEW"</span>,he[he.VIEWCONFIG=<span class="code-number">4</span>]=<span class="code-string">"VIEWCONFIG"</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ve</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"Transition #"</span>+de(t)+<span class="code-string">"-"</span>+me(t)}<span class="code-keyword">var</span> de=R(<span class="code-string">"$id"</span>),me=R(<span class="code-string">"router.$id"</span>),ye=(ge.prototype._set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;t.length||(t=<span class="code-built_in">Object</span>.keys(d.Category).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(t,<span class="code-number">10</span>)}).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!<span class="code-built_in">isNaN</span>(t)}).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> d.Category[t]})),t.map(pe).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r._enabled[t]=e})},ge.prototype.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)t[e]=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">this</span>._set(!<span class="code-number">0</span>,t)},ge.prototype.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)t[e]=<span class="code-built_in">arguments</span>[e];<span class="code-keyword">this</span>._set(!<span class="code-number">1</span>,t)},ge.prototype.enabled=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>._enabled[pe(t)]},ge.prototype.traceTransitionStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(t)+<span class="code-string">": Started  -&gt; "</span>+Qt(t))},ge.prototype.traceTransitionIgnored=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(t)+<span class="code-string">": Ignored  &lt;&gt; "</span>+Qt(t))},ge.prototype.traceHookInvocation=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.enabled(d.Category.HOOK)){<span class="code-keyword">var</span> n=R(<span class="code-string">"traceData.hookType"</span>)(r)||<span class="code-string">"internal"</span>,i=R(<span class="code-string">"traceData.context.state.name"</span>)(r)||R(<span class="code-string">"traceData.context"</span>)(r)||<span class="code-string">"unknown"</span>,o=Gt(t.registeredHook.callback);ce.log(ve(e)+<span class="code-string">":   Hook -&gt; "</span>+n+<span class="code-string">" context: "</span>+i+<span class="code-string">", "</span>+Lt(<span class="code-number">200</span>,o))}},ge.prototype.traceHookResult=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.HOOK)&amp;&amp;ce.log(ve(e)+<span class="code-string">":   &lt;- Hook returned: "</span>+Lt(<span class="code-number">200</span>,Qt(t)))},ge.prototype.traceResolvePath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.RESOLVE)&amp;&amp;ce.log(ve(r)+<span class="code-string">":         Resolving "</span>+t+<span class="code-string">" ("</span>+e+<span class="code-string">")"</span>)},ge.prototype.traceResolvableResolved=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.RESOLVE)&amp;&amp;ce.log(ve(e)+<span class="code-string">":               &lt;- Resolved  "</span>+t+<span class="code-string">" to: "</span>+Lt(<span class="code-number">200</span>,Qt(t.data)))},ge.prototype.traceError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(e)+<span class="code-string">": &lt;- Rejected "</span>+Qt(e)+<span class="code-string">", reason: "</span>+t)},ge.prototype.traceSuccess=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.TRANSITION)&amp;&amp;ce.log(ve(e)+<span class="code-string">": &lt;- Success  "</span>+Qt(e)+<span class="code-string">", final state: "</span>+t.name)},ge.prototype.traceUIViewEvent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-string">""</span>),<span class="code-keyword">this</span>.enabled(d.Category.UIVIEW)&amp;&amp;ce.log(<span class="code-string">"ui-view: "</span>+Mt(<span class="code-number">30</span>,t)+<span class="code-string">" "</span>+le(e)+r)},ge.prototype.traceUIViewConfigUpdated=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.UIVIEW)&amp;&amp;<span class="code-keyword">this</span>.traceUIViewEvent(<span class="code-string">"Updating"</span>,t,<span class="code-string">" with ViewConfig from context='"</span>+e+<span class="code-string">"'"</span>)},ge.prototype.traceUIViewFill=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.UIVIEW)&amp;&amp;<span class="code-keyword">this</span>.traceUIViewEvent(<span class="code-string">"Fill"</span>,t,<span class="code-string">" with: "</span>+Lt(<span class="code-number">200</span>,e))},ge.prototype.traceViewSync=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.enabled(d.Category.VIEWCONFIG)){<span class="code-keyword">var</span> a=<span class="code-string">"uiview component fqn"</span>,e=t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,r=t.uiView,n=t.viewConfig,i=r&amp;&amp;r.fqn,o=n&amp;&amp;n.viewDecl.$context.name+<span class="code-string">": ("</span>+n.viewDecl.$name+<span class="code-string">")"</span>;<span class="code-keyword">return</span>(e={})[a]=i,e[<span class="code-string">"view config state (view name)"</span>]=o,e}).sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(t[a]||<span class="code-string">""</span>).localeCompare(e[a]||<span class="code-string">""</span>)});ce.table(e)}},ge.prototype.traceViewServiceEvent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.VIEWCONFIG)&amp;&amp;ce.log(<span class="code-string">"VIEWCONFIG: "</span>+t+<span class="code-string">" "</span>+<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.viewDecl,r=e.$context.name||<span class="code-string">"(root)"</span>;<span class="code-keyword">return</span><span class="code-string">"[View#"</span>+t.$id+<span class="code-string">" from '"</span>+r+<span class="code-string">"' state]: target ui-view: '"</span>+e.$uiViewName+<span class="code-string">"@"</span>+e.$uiViewContextAnchor+<span class="code-string">"'"</span>}(e))},ge.prototype.traceViewServiceUIViewEvent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.enabled(d.Category.VIEWCONFIG)&amp;&amp;ce.log(<span class="code-string">"VIEWCONFIG: "</span>+t+<span class="code-string">" "</span>+le(e))},ge);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ge</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._enabled={},<span class="code-keyword">this</span>.approximateDigests=<span class="code-number">0</span>}<span class="code-keyword">var</span> we=<span class="code-keyword">new</span> ye,_e=(Se.prototype.is=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>},Se.prototype.encode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t},Se.prototype.decode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t},Se.prototype.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t==e},Se.prototype.$subPattern=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.pattern.toString();<span class="code-keyword">return</span> t.substr(<span class="code-number">1</span>,t.length<span class="code-number">-2</span>)},Se.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"{ParamType:"</span>+<span class="code-keyword">this</span>.name+<span class="code-string">"}"</span>},Se.prototype.$normalize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.is(t)?t:<span class="code-keyword">this</span>.decode(t)},Se.prototype.$asArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-string">"auto"</span>===t&amp;&amp;!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"'auto' array mode is for query parameters only"</span>);<span class="code-keyword">return</span> <span class="code-keyword">new</span> $e(<span class="code-keyword">this</span>,t)},Se);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Se</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.pattern=<span class="code-regexp">/.*/</span>,<span class="code-keyword">this</span>.inherit=!<span class="code-number">0</span>,B(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$e</span>(<span class="code-params">n,i</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> x(t)?t:E(t)?[t]:[]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">r,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(x(t)&amp;&amp;<span class="code-number">0</span>===t.length)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> e=ht(a(t),r);<span class="code-keyword">return</span>!<span class="code-number">0</span>===n?<span class="code-number">0</span>===ct(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!t}).length:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t.length){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">return</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span><span class="code-string">"auto"</span>===i?t[<span class="code-number">0</span>]:t;<span class="code-keyword">default</span>:<span class="code-keyword">return</span> t}}(e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">o</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=a(t),n=a(e);<span class="code-keyword">if</span>(r.length!==n.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;r.length;i++)<span class="code-keyword">if</span>(!o(r[i],n[i]))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>}}[<span class="code-string">"encode"</span>,<span class="code-string">"decode"</span>,<span class="code-string">"equals"</span>,<span class="code-string">"$normalize"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=n[t].bind(n),r=<span class="code-string">"equals"</span>===t?s:u;o[t]=r(e)}),B(<span class="code-keyword">this</span>,{<span class="code-attr">dynamic</span>:n.dynamic,<span class="code-attr">name</span>:n.name,<span class="code-attr">pattern</span>:n.pattern,<span class="code-attr">inherit</span>:n.inherit,<span class="code-attr">raw</span>:n.raw,<span class="code-attr">is</span>:u(n.is.bind(n),!<span class="code-number">0</span>),<span class="code-attr">$arrayMode</span>:i})}<span class="code-keyword">var</span> be,Re=<span class="code-built_in">Object</span>.prototype.hasOwnProperty,Ee=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===[<span class="code-string">"value"</span>,<span class="code-string">"type"</span>,<span class="code-string">"squash"</span>,<span class="code-string">"array"</span>,<span class="code-string">"dynamic"</span>].filter(Re.bind(t||{})).length};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ce</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=!<span class="code-number">1</span>===r.reloadOnSearch&amp;&amp;e===d.DefType.SEARCH||<span class="code-keyword">void</span> <span class="code-number">0</span>,i=ft([r.dynamic,n],E),o=E(i)?{<span class="code-attr">dynamic</span>:i}:{},a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.value}t=Ee(t)?{<span class="code-attr">value</span>:t}:t,e.__cacheable=!<span class="code-number">0</span>;<span class="code-keyword">var</span> r=H(t.value)?t.value:e;<span class="code-keyword">return</span> B(t,{<span class="code-attr">$$fn</span>:r})}(r&amp;&amp;r.params&amp;&amp;r.params[t]);<span class="code-keyword">return</span> B(o,a)}(be=d.DefType||(d.DefType={}))[be.PATH=<span class="code-number">0</span>]=<span class="code-string">"PATH"</span>,be[be.SEARCH=<span class="code-number">1</span>]=<span class="code-string">"SEARCH"</span>,be[be.CONFIG=<span class="code-number">2</span>]=<span class="code-string">"CONFIG"</span>;<span class="code-keyword">var</span> Te=(Pe.values=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r={},n=<span class="code-number">0</span>,i=t;n&lt;i.length;n++){<span class="code-keyword">var</span> o=i[n];r[o.id]=o.value(e[o.id])}<span class="code-keyword">return</span> r},Pe.changed=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={}),t.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!t.type.equals(e[t.id],r[t.id])})},Pe.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={}),<span class="code-number">0</span>===Pe.changed(t,e,r).length},Pe.validates=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={}),t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.validates(e[t.id])}).reduce(vt,!<span class="code-number">0</span>)},Pe.prototype.isDefaultValue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isOptional&amp;&amp;<span class="code-keyword">this</span>.type.equals(<span class="code-keyword">this</span>.value(),t)},Pe.prototype.value=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,r=i.replace;e&lt;r.length;e++){<span class="code-keyword">var</span> n=r[e];<span class="code-keyword">if</span>(n.from===t)<span class="code-keyword">return</span> n.to}<span class="code-keyword">return</span> t}(t),$(t)?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(i._defaultValueCache)<span class="code-keyword">return</span> i._defaultValueCache.defaultValue;<span class="code-keyword">if</span>(!D.$injector)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Injectable functions cannot be called at configuration time"</span>);<span class="code-keyword">var</span> t=D.$injector.invoke(i.config.$$fn);<span class="code-keyword">if</span>(<span class="code-literal">null</span>!=t&amp;&amp;!i.type.is(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Default value ("</span>+t+<span class="code-string">") for parameter '"</span>+i.id+<span class="code-string">"' is not an instance of ParamType ("</span>+i.type.name+<span class="code-string">")"</span>);<span class="code-keyword">return</span> i.config.$$fn.__cacheable&amp;&amp;(i._defaultValueCache={<span class="code-attr">defaultValue</span>:t}),t}():<span class="code-keyword">this</span>.type.$normalize(t)},Pe.prototype.isSearch=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.location===d.DefType.SEARCH},Pe.prototype.validates=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(($(t)||<span class="code-literal">null</span>===t)&amp;&amp;<span class="code-keyword">this</span>.isOptional)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.type.$normalize(t);<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.type.is(e))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.type.encode(e);<span class="code-keyword">return</span>!(k(r)&amp;&amp;!<span class="code-keyword">this</span>.type.pattern.exec(r))},Pe.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"{Param:"</span>+<span class="code-keyword">this</span>.id+<span class="code-string">" "</span>+<span class="code-keyword">this</span>.type+<span class="code-string">" squash: '"</span>+<span class="code-keyword">this</span>.squash+<span class="code-string">"' optional: "</span>+<span class="code-keyword">this</span>.isOptional+<span class="code-string">"}"</span>},Pe);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pe</span>(<span class="code-params">t,e,r,n,i</span>)</span>{<span class="code-keyword">var</span> o=Ce(t,r,i);e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n,i</span>)</span>{<span class="code-keyword">if</span>(t.type&amp;&amp;e&amp;&amp;<span class="code-string">"string"</span>!==e.name)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Param '"</span>+n+<span class="code-string">"' has two type configurations."</span>);<span class="code-keyword">if</span>(t.type&amp;&amp;e&amp;&amp;<span class="code-string">"string"</span>===e.name&amp;&amp;i.type(t.type))<span class="code-keyword">return</span> i.type(t.type);<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> e;<span class="code-keyword">if</span>(t.type)<span class="code-keyword">return</span> t.type <span class="code-keyword">instanceof</span> _e?t.type:i.type(t.type);<span class="code-keyword">var</span> o=r===d.DefType.CONFIG?<span class="code-string">"any"</span>:r===d.DefType.PATH?<span class="code-string">"path"</span>:r===d.DefType.SEARCH?<span class="code-string">"query"</span>:<span class="code-string">"string"</span>;<span class="code-keyword">return</span> i.type(o)}(o,e,r,t,n.paramTypes);<span class="code-keyword">var</span> a,u,s=(a={<span class="code-attr">array</span>:r===d.DefType.SEARCH&amp;&amp;<span class="code-string">"auto"</span>},u=t.match(<span class="code-regexp">/\[\]$/</span>)?{<span class="code-attr">array</span>:!<span class="code-number">0</span>}:{},B(a,u,o).array);e=s?e.$asArray(s,r===d.DefType.SEARCH):e;<span class="code-keyword">var</span> c=<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.value||r===d.DefType.SEARCH,f=E(o.dynamic)?!!o.dynamic:!!e.dynamic,l=E(o.raw)?!!o.raw:!!e.raw,h=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=t.squash;<span class="code-keyword">if</span>(!e||!<span class="code-number">1</span>===n)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(!E(n)||<span class="code-literal">null</span>==n)<span class="code-keyword">return</span> r;<span class="code-keyword">if</span>(!<span class="code-number">0</span>===n||k(n))<span class="code-keyword">return</span> n;<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid squash policy: '"</span>+n+<span class="code-string">"'. Valid policies: false, true, or arbitrary string"</span>)}(o,c,n.defaultSquashPolicy()),p=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">var</span> i=[{<span class="code-attr">from</span>:<span class="code-string">""</span>,<span class="code-attr">to</span>:r||e?<span class="code-keyword">void</span> <span class="code-number">0</span>:<span class="code-string">""</span>},{<span class="code-attr">from</span>:<span class="code-literal">null</span>,<span class="code-attr">to</span>:r||e?<span class="code-keyword">void</span> <span class="code-number">0</span>:<span class="code-string">""</span>}],o=x(t.replace)?t.replace:[];k(n)&amp;&amp;o.push({<span class="code-attr">from</span>:n,<span class="code-attr">to</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>});<span class="code-keyword">var</span> a=ht(o,m(<span class="code-string">"from"</span>));<span class="code-keyword">return</span> ct(i,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-number">-1</span>===a.indexOf(t.from)}).concat(o)}(o,s,c,h),v=E(o.inherit)?!!o.inherit:!!e.inherit;B(<span class="code-keyword">this</span>,{<span class="code-attr">id</span>:t,<span class="code-attr">type</span>:e,<span class="code-attr">location</span>:r,<span class="code-attr">isOptional</span>:c,<span class="code-attr">dynamic</span>:f,<span class="code-attr">raw</span>:l,<span class="code-attr">squash</span>:h,<span class="code-attr">replace</span>:p,<span class="code-attr">inherit</span>:v,<span class="code-attr">array</span>:s,<span class="code-attr">config</span>:o})}<span class="code-keyword">var</span> ke=(Oe.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.types={}},Oe.prototype.type=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">if</span>(!E(e))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.types[t];<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.types.hasOwnProperty(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"A type named '"</span>+t+<span class="code-string">"' has already been defined."</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.types[t]=<span class="code-keyword">new</span> _e(B({<span class="code-attr">name</span>:t},e)),r&amp;&amp;(<span class="code-keyword">this</span>.typeQueue.push({<span class="code-attr">name</span>:t,<span class="code-attr">def</span>:r}),<span class="code-keyword">this</span>.enqueue||<span class="code-keyword">this</span>._flushTypeQueue()),<span class="code-keyword">this</span>},Oe.prototype._flushTypeQueue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(;<span class="code-keyword">this</span>.typeQueue.length;){<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.typeQueue.shift();<span class="code-keyword">if</span>(t.pattern)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"You cannot override a type's .pattern at runtime."</span>);B(<span class="code-keyword">this</span>.types[t.name],D.$injector.invoke(t.def))}},Oe);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oe</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.enqueue=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.typeQueue=[],<span class="code-keyword">this</span>.defaultTypes=at(Oe.prototype,[<span class="code-string">"hash"</span>,<span class="code-string">"string"</span>,<span class="code-string">"query"</span>,<span class="code-string">"path"</span>,<span class="code-string">"int"</span>,<span class="code-string">"bool"</span>,<span class="code-string">"date"</span>,<span class="code-string">"json"</span>,<span class="code-string">"any"</span>]);<span class="code-keyword">this</span>.types=Q(ht(<span class="code-keyword">this</span>.defaultTypes,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> _e(B({<span class="code-attr">name</span>:e},t))}),{})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xe</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!=t?t.toString():t}<span class="code-keyword">var</span> r={<span class="code-attr">encode</span>:e,<span class="code-attr">decode</span>:e,<span class="code-attr">is</span>:h(<span class="code-built_in">String</span>),<span class="code-attr">pattern</span>:<span class="code-regexp">/.*/</span>,<span class="code-attr">equals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t==e}};<span class="code-keyword">return</span> B({},r,t)}B(ke.prototype,{<span class="code-attr">string</span>:xe({}),<span class="code-attr">path</span>:xe({<span class="code-attr">pattern</span>:<span class="code-regexp">/[^/]*/</span>}),<span class="code-attr">query</span>:xe({}),<span class="code-attr">hash</span>:xe({<span class="code-attr">inherit</span>:!<span class="code-number">1</span>}),<span class="code-attr">int</span>:xe({<span class="code-attr">decode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(t,<span class="code-number">10</span>)},<span class="code-attr">is</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!C(t)&amp;&amp;<span class="code-keyword">this</span>.decode(t.toString())===t},<span class="code-attr">pattern</span>:<span class="code-regexp">/-?\d+/</span>}),<span class="code-attr">bool</span>:xe({<span class="code-attr">encode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t?<span class="code-number">1</span>:<span class="code-number">0</span>},<span class="code-attr">decode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>!==<span class="code-built_in">parseInt</span>(t,<span class="code-number">10</span>)},<span class="code-attr">is</span>:h(<span class="code-built_in">Boolean</span>),<span class="code-attr">pattern</span>:<span class="code-regexp">/0|1/</span>}),<span class="code-attr">date</span>:xe({<span class="code-attr">encode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.is(t)?[t.getFullYear(),(<span class="code-string">"0"</span>+(t.getMonth()+<span class="code-number">1</span>)).slice(<span class="code-number">-2</span>),(<span class="code-string">"0"</span>+t.getDate()).slice(<span class="code-number">-2</span>)].join(<span class="code-string">"-"</span>):<span class="code-keyword">void</span> <span class="code-number">0</span>},<span class="code-attr">decode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.is(t))<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.capture.exec(t);<span class="code-keyword">return</span> e?<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(e[<span class="code-number">1</span>],e[<span class="code-number">2</span>]<span class="code-number">-1</span>,e[<span class="code-number">3</span>]):<span class="code-keyword">void</span> <span class="code-number">0</span>},<span class="code-attr">is</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t <span class="code-keyword">instanceof</span> <span class="code-built_in">Date</span>&amp;&amp;!<span class="code-built_in">isNaN</span>(t.valueOf())},<span class="code-attr">equals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,n</span>)</span>{<span class="code-keyword">return</span>[<span class="code-string">"getFullYear"</span>,<span class="code-string">"getMonth"</span>,<span class="code-string">"getDate"</span>].reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;r[e]()===n[e]()},!<span class="code-number">0</span>)},<span class="code-attr">pattern</span>:<span class="code-regexp">/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/</span>,<span class="code-attr">capture</span>:<span class="code-regexp">/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/</span>}),<span class="code-attr">json</span>:xe({<span class="code-attr">encode</span>:L,<span class="code-attr">decode</span>:N,<span class="code-attr">is</span>:h(<span class="code-built_in">Object</span>),<span class="code-attr">equals</span>:G,<span class="code-attr">pattern</span>:<span class="code-regexp">/[^/]*/</span>}),<span class="code-attr">any</span>:xe({<span class="code-attr">encode</span>:z,<span class="code-attr">decode</span>:z,<span class="code-attr">is</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>},<span class="code-attr">equals</span>:G})});<span class="code-keyword">var</span> je=(Ve.prototype.$inherit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n,i=ot(e,r),o={},a=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u <span class="code-keyword">in</span> i)<span class="code-keyword">if</span>(i[u]&amp;&amp;i[u].params&amp;&amp;(n=<span class="code-built_in">Object</span>.keys(i[u].params)).length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s <span class="code-keyword">in</span> n)<span class="code-number">0</span>&lt;=a.indexOf(n[s])||(a.push(n[s]),o[n[s]]=<span class="code-keyword">this</span>[n[s]]);<span class="code-keyword">return</span> B({},o,t)},Ve);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ve</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),B(<span class="code-keyword">this</span>,t)}<span class="code-keyword">var</span> He=(Ie.prototype.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Ie(<span class="code-keyword">this</span>)},Ie.prototype.applyRawParams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.paramValues=<span class="code-keyword">this</span>.paramSchema.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> Tt(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>[t.id,t.value(r[t.id])]}(e))},{}),<span class="code-keyword">this</span>},Ie.prototype.parameter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> ft(<span class="code-keyword">this</span>.paramSchema,y(<span class="code-string">"id"</span>,t))},Ie.prototype.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.diff(t,e);<span class="code-keyword">return</span> r&amp;&amp;<span class="code-number">0</span>===r.length},Ie.prototype.diff=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.state!==t.state)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> r=e?e(<span class="code-keyword">this</span>):<span class="code-keyword">this</span>.paramSchema;<span class="code-keyword">return</span> Te.changed(r,<span class="code-keyword">this</span>.paramValues,t.paramValues)},Ie.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.clone()},Ie);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ie</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(t <span class="code-keyword">instanceof</span> Ie){<span class="code-keyword">var</span> e=t;<span class="code-keyword">this</span>.state=e.state,<span class="code-keyword">this</span>.paramSchema=e.paramSchema.slice(),<span class="code-keyword">this</span>.paramValues=B({},e.paramValues),<span class="code-keyword">this</span>.resolvables=e.resolvables.slice(),<span class="code-keyword">this</span>.views=e.views&amp;&amp;e.views.slice()}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> r=t;<span class="code-keyword">this</span>.state=r,<span class="code-keyword">this</span>.paramSchema=r.parameters({<span class="code-attr">inherit</span>:!<span class="code-number">1</span>}),<span class="code-keyword">this</span>.paramValues={},<span class="code-keyword">this</span>.resolvables=r.resolvables.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.clone()})}}<span class="code-keyword">var</span> Ae=(De.prototype.name=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._definition&amp;&amp;<span class="code-keyword">this</span>._definition.name||<span class="code-keyword">this</span>._identifier},De.prototype.identifier=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._identifier},De.prototype.params=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._params},De.prototype.$state=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._definition},De.prototype.state=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._definition&amp;&amp;<span class="code-keyword">this</span>._definition.self},De.prototype.options=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._options},De.prototype.exists=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!(!<span class="code-keyword">this</span>._definition||!<span class="code-keyword">this</span>._definition.self)},De.prototype.valid=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-keyword">this</span>.error()},De.prototype.error=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.options().relative;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._definition||!t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>._definition?<span class="code-keyword">this</span>._definition.self?<span class="code-keyword">void</span> <span class="code-number">0</span>:<span class="code-string">"State '"</span>+<span class="code-keyword">this</span>.name()+<span class="code-string">"' has an invalid definition"</span>:<span class="code-string">"No such state '"</span>+<span class="code-keyword">this</span>.name()+<span class="code-string">"'"</span>;<span class="code-keyword">var</span> e=t.name?t.name:t;<span class="code-keyword">return</span><span class="code-string">"Could not resolve '"</span>+<span class="code-keyword">this</span>.name()+<span class="code-string">"' from state '"</span>+e+<span class="code-string">"'"</span>},De.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"'"</span>+<span class="code-keyword">this</span>.name()+<span class="code-string">"'"</span>+Qt(<span class="code-keyword">this</span>.params())},De.prototype.withState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> De(<span class="code-keyword">this</span>._stateRegistry,t,<span class="code-keyword">this</span>._params,<span class="code-keyword">this</span>._options)},De.prototype.withParams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=!<span class="code-number">1</span>);<span class="code-keyword">var</span> r=e?t:B({},<span class="code-keyword">this</span>._params,t);<span class="code-keyword">return</span> <span class="code-keyword">new</span> De(<span class="code-keyword">this</span>._stateRegistry,<span class="code-keyword">this</span>._identifier,r,<span class="code-keyword">this</span>._options)},De.prototype.withOptions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=!<span class="code-number">1</span>);<span class="code-keyword">var</span> r=e?t:B({},<span class="code-keyword">this</span>._options,t);<span class="code-keyword">return</span> <span class="code-keyword">new</span> De(<span class="code-keyword">this</span>._stateRegistry,<span class="code-keyword">this</span>._identifier,<span class="code-keyword">this</span>._params,r)},De.isDef=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;t.state&amp;&amp;(k(t.state)||O(t.state)&amp;&amp;k(t.state.name))},De);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">De</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">this</span>._stateRegistry=t,<span class="code-keyword">this</span>._identifier=e,<span class="code-keyword">this</span>._identifier=e,<span class="code-keyword">this</span>._params=B({},r||{}),<span class="code-keyword">this</span>._options=B({},n||{}),<span class="code-keyword">this</span>._definition=t.matcher.find(e,<span class="code-keyword">this</span>._options.relative)}<span class="code-keyword">var</span> qe=(Ue.makeTargetState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=Pt(e).state;<span class="code-keyword">return</span> <span class="code-keyword">new</span> Ae(t,r,e.map(m(<span class="code-string">"paramValues"</span>)).reduce(it,{}),{})},Ue.buildPath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.params();<span class="code-keyword">return</span> t.$state().path.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> He(t).applyRawParams(e)})},Ue.buildToPath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=Ue.buildPath(e);<span class="code-keyword">return</span> e.options().inherit?Ue.inheritParams(t,r,<span class="code-built_in">Object</span>.keys(e.params())):r},Ue.applyViewConfigs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,o,e</span>)</span>{o.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> K(e,t.state)}).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=pt(e.state.views||{}),r=Ue.subPath(o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t===e}),n=t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> i.createViewConfig(r,t)});e.views=n.reduce(mt,[])})},Ue.inheritParams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">o,t,a</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=[]);<span class="code-keyword">var</span> u=o.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.paramSchema}).reduce(mt,[]).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!t.inherit}).map(m(<span class="code-string">"id"</span>));<span class="code-keyword">return</span> t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=B({},t&amp;&amp;t.paramValues),r=at(e,a);e=ut(e,a);<span class="code-keyword">var</span> n=ut(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=ft(t,y(<span class="code-string">"state"</span>,e));<span class="code-keyword">return</span> B({},r&amp;&amp;r.paramValues)}(o,t.state)||{},u),i=B(e,n,r);<span class="code-keyword">return</span> <span class="code-keyword">new</span> He(t.state).applyRawParams(i)})},Ue.treeChanges=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r,i,o,a,u,s,c=<span class="code-built_in">Math</span>.min(t.length,n.length),f=<span class="code-number">0</span>;f&lt;c&amp;&amp;t[f].state!==e&amp;&amp;(r=t[f],i=n[f],r.equals(i,Ue.nonDynamicParams));)f++;a=(o=t).slice(<span class="code-number">0</span>,f),u=o.slice(f);<span class="code-keyword">var</span> l=a.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=t.clone();<span class="code-keyword">return</span> r.paramValues=n[e].paramValues,r});<span class="code-keyword">return</span> s=n.slice(f),{<span class="code-attr">from</span>:o,<span class="code-attr">to</span>:l.concat(s),<span class="code-attr">retained</span>:a,<span class="code-attr">retainedWithToParams</span>:l,<span class="code-attr">exiting</span>:u,<span class="code-attr">entering</span>:s}},Ue.matching=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,i</span>)</span>{<span class="code-keyword">var</span> o=!<span class="code-number">1</span>;<span class="code-keyword">return</span> Ct(t,e).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=e[<span class="code-number">0</span>],n=e[<span class="code-number">1</span>];<span class="code-keyword">return</span>(o=o||!r.equals(n,i))?t:t.concat(r)},[])},Ue.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> t.length===e.length&amp;&amp;Ue.matching(t,e,r).length===t.length},Ue.subPath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=ft(t,e),n=t.indexOf(r);<span class="code-keyword">return</span><span class="code-number">-1</span>===n?<span class="code-keyword">void</span> <span class="code-number">0</span>:t.slice(<span class="code-number">0</span>,n+<span class="code-number">1</span>)},Ue.nonDynamicParams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.state.parameters({<span class="code-attr">inherit</span>:!<span class="code-number">1</span>}).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!t.dynamic})},Ue.paramValues=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> B(t,e.paramValues)},{})},Ue);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ue</span>(<span class="code-params"></span>)</span>{}<span class="code-keyword">var</span> Fe={<span class="code-attr">when</span>:{<span class="code-attr">LAZY</span>:<span class="code-string">"LAZY"</span>,<span class="code-attr">EAGER</span>:<span class="code-string">"EAGER"</span>},<span class="code-attr">async</span>:{<span class="code-attr">WAIT</span>:<span class="code-string">"WAIT"</span>,<span class="code-attr">NOWAIT</span>:<span class="code-string">"NOWAIT"</span>}},Ne={<span class="code-attr">when</span>:<span class="code-string">"LAZY"</span>,<span class="code-attr">async</span>:<span class="code-string">"WAIT"</span>},Le=(Me.prototype.getPolicy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.policy||{},r=t&amp;&amp;t.resolvePolicy||{};<span class="code-keyword">return</span>{<span class="code-attr">when</span>:e.when||r.when||Ne.when,<span class="code-attr">async</span>:e.async||r.async||Ne.async}},Me.prototype.resolve=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,t=D.$q,i=e.findNode(<span class="code-keyword">this</span>),o=i&amp;&amp;i.state,a=<span class="code-keyword">this</span>.getPolicy(o).async,u=T(a)?a:z;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.promise=t.when().then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.all(e.getDependencies(n).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.get(e,r)}))}).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.resolveFn.apply(<span class="code-literal">null</span>,t)}).then(u).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.data=t,n.resolved=!<span class="code-number">0</span>,n.resolveFn=<span class="code-literal">null</span>,we.traceResolvableResolved(n,r),n.data})},Me.prototype.get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.promise||<span class="code-keyword">this</span>.resolve(t,e)},Me.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"Resolvable(token: "</span>+Qt(<span class="code-keyword">this</span>.token)+<span class="code-string">", requires: ["</span>+<span class="code-keyword">this</span>.deps.map(Qt)+<span class="code-string">"])"</span>},Me.prototype.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Me(<span class="code-keyword">this</span>)},Me.fromData=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Me(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e},<span class="code-literal">null</span>,<span class="code-literal">null</span>,e)},Me);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Me</span>(<span class="code-params">t,e,r,n,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.resolved=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.promise=<span class="code-keyword">void</span> <span class="code-number">0</span>,t <span class="code-keyword">instanceof</span> Me)B(<span class="code-keyword">this</span>,t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(T(e)){<span class="code-keyword">if</span>(C(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"new Resolvable(): token argument is required"</span>);<span class="code-keyword">if</span>(!T(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"new Resolvable(): resolveFn argument must be a function"</span>);<span class="code-keyword">this</span>.token=t,<span class="code-keyword">this</span>.policy=n,<span class="code-keyword">this</span>.resolveFn=e,<span class="code-keyword">this</span>.deps=r||[],<span class="code-keyword">this</span>.data=i,<span class="code-keyword">this</span>.resolved=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i,<span class="code-keyword">this</span>.promise=<span class="code-keyword">this</span>.resolved?D.$q.when(<span class="code-keyword">this</span>.data):<span class="code-keyword">void</span> <span class="code-number">0</span>}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(O(t)&amp;&amp;t.token&amp;&amp;(t.hasOwnProperty(<span class="code-string">"resolveFn"</span>)||t.hasOwnProperty(<span class="code-string">"data"</span>))){<span class="code-keyword">var</span> o=t;<span class="code-keyword">return</span> <span class="code-keyword">new</span> Me(o.token,o.resolveFn,o.deps,o.policy,o.data)}}<span class="code-keyword">var</span> Be=Fe.when,Ge=[Be.EAGER,Be.LAZY],ze=[Be.EAGER],We=<span class="code-string">"Native Injector"</span>,Je=(Qe.prototype.getTokens=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._path.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.concat(e.resolvables.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.token}))},[]).reduce(wt,[])},Qe.prototype.getResolvable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> Pt(<span class="code-keyword">this</span>._path.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.resolvables}).reduce(mt,[]).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.token===e}))},Qe.prototype.getPolicy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.findNode(t);<span class="code-keyword">return</span> t.getPolicy(e.state)},Qe.prototype.subContext=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Qe(qe.subPath(<span class="code-keyword">this</span>._path,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.state===e}))},Qe.prototype.addResolvables=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=ft(<span class="code-keyword">this</span>._path,y(<span class="code-string">"state"</span>,e)),n=t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.token});r.resolvables=r.resolvables.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-number">-1</span>===n.indexOf(t.token)}).concat(t)},Qe.prototype.resolvePath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,u</span>)</span>{<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">"LAZY"</span>);<span class="code-keyword">var</span> c=(K(Ge,t)?t:<span class="code-string">"LAZY"</span>)===Fe.when.EAGER?ze:Ge;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">f</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> K(e,s.getPolicy(t)[r])}}we.traceResolvePath(<span class="code-keyword">this</span>._path,t,u);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._path.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.get(a,u).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">token</span>:e.token,<span class="code-attr">value</span>:t}})}<span class="code-keyword">var</span> n=e.resolvables.filter(f(c,<span class="code-string">"when"</span>)),i=n.filter(f([<span class="code-string">"NOWAIT"</span>],<span class="code-string">"async"</span>)),o=n.filter(l(f([<span class="code-string">"NOWAIT"</span>],<span class="code-string">"async"</span>))),a=s.subContext(e.state);<span class="code-keyword">return</span> i.forEach(r),t.concat(o.map(r))},[]);<span class="code-keyword">return</span> D.$q.all(e)},Qe.prototype.injector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._injector||(<span class="code-keyword">this</span>._injector=<span class="code-keyword">new</span> Ke(<span class="code-keyword">this</span>))},Qe.prototype.findNode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ft(<span class="code-keyword">this</span>._path,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> K(t.resolvables,e)})},Qe.prototype.getDependencies=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,r=<span class="code-keyword">this</span>.findNode(e),i=(qe.subPath(<span class="code-keyword">this</span>._path,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t===r})||<span class="code-keyword">this</span>._path).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.concat(e.resolvables)},[]).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t!==e});<span class="code-keyword">return</span> e.deps.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.token===e});<span class="code-keyword">if</span>(t.length)<span class="code-keyword">return</span> Pt(t);<span class="code-keyword">var</span> r=n.injector().getNative(e);<span class="code-keyword">if</span>($(r))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Could not find Dependency Injection token: "</span>+Qt(e));<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r},[],r)})},Qe);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qe</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._path=t}<span class="code-keyword">var</span> Ke=(Ye.prototype.get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.context.getResolvable(t);<span class="code-keyword">if</span>(e){<span class="code-keyword">if</span>(<span class="code-string">"NOWAIT"</span>===<span class="code-keyword">this</span>.context.getPolicy(e).async)<span class="code-keyword">return</span> e.get(<span class="code-keyword">this</span>.context);<span class="code-keyword">if</span>(!e.resolved)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Resolvable async .get() not complete:"</span>+Qt(e.token));<span class="code-keyword">return</span> e.data}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getNative(t)},Ye.prototype.getAsync=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.context.getResolvable(t);<span class="code-keyword">return</span> e?e.get(<span class="code-keyword">this</span>.context):D.$q.when(<span class="code-keyword">this</span>.native.get(t))},Ye.prototype.getNative=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.native&amp;&amp;<span class="code-keyword">this</span>.native.get(t)},Ye);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ye</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.context=t,<span class="code-keyword">this</span>.native=<span class="code-keyword">this</span>.get(We)||D.$injector}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ze</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.name}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xe</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.self.$$state=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t},t.self}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.parent&amp;&amp;t.parent.data&amp;&amp;(t.data=t.self.data=Q(t.parent.data,t.data)),t.data}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">er</span>(<span class="code-params">a,u</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.self;<span class="code-keyword">if</span>(e&amp;&amp;e.url&amp;&amp;e.name&amp;&amp;e.name.match(<span class="code-regexp">/\.\*\*$/</span>)){<span class="code-keyword">var</span> r={};kt(e,r),r.url+=<span class="code-string">"{remainder:any}"</span>,e=r}<span class="code-keyword">var</span> n=t.parent,i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!k(t))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> e=<span class="code-string">"^"</span>===t.charAt(<span class="code-number">0</span>);<span class="code-keyword">return</span>{<span class="code-attr">val</span>:e?t.substring(<span class="code-number">1</span>):t,<span class="code-attr">root</span>:e}}(e.url),o=i?a.compile(i.val,{<span class="code-attr">state</span>:e}):e.url;<span class="code-keyword">if</span>(!o)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(!a.isMatcher(o))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid url '"</span>+o+<span class="code-string">"' in state '"</span>+t+<span class="code-string">"'"</span>);<span class="code-keyword">return</span> i&amp;&amp;i.root?o:(n&amp;&amp;n.navigable||u()).url.append(o)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.parent?t.parent.path.concat(t):[t]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.parent?B({},t.parent.includes):{};<span class="code-keyword">return</span> e[t.name]=!<span class="code-number">0</span>,e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ir</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.provide||t.token}<span class="code-keyword">var</span> r,n,i=g([[m(<span class="code-string">"resolveFn"</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(e(t),t.resolveFn,t.deps,t.policy)}],[m(<span class="code-string">"useFactory"</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(e(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[m(<span class="code-string">"useClass"</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(e(t),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> t.useClass},[],t.policy)}],[m(<span class="code-string">"useValue"</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(e(t),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.useValue},[],t.policy,t.useValue)}],[m(<span class="code-string">"useExisting"</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(e(t),z,[t.useExisting],t.policy)}]]),o=g([[c(m(<span class="code-string">"val"</span>),k),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(t.token,z,[t.val],t.policy)}],[c(m(<span class="code-string">"val"</span>),x),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(t.token,Pt(t.val),t.val.slice(<span class="code-number">0</span>,<span class="code-number">-1</span>),t.policy)}],[c(m(<span class="code-string">"val"</span>),T),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(t.token,t.val,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=D.$injector;<span class="code-keyword">return</span> t.$inject||e&amp;&amp;e.annotate(t,e.strictDi)||<span class="code-string">"deferred"</span>}(t.val),t.policy)}]]),a=g([[h(Le),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t}],[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!(!t.token||!t.resolveFn)},i],[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!(!t.provide&amp;&amp;!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},i],[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!(t&amp;&amp;t.val&amp;&amp;(k(t.val)||x(t.val)||T(t.val)))},o],[p(!<span class="code-number">0</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid resolve value: "</span>+Qt(t))}]]),u=t.resolve;<span class="code-keyword">return</span>(x(u)?u:(r=u,n=t.resolvePolicy||{},<span class="code-built_in">Object</span>.keys(r||{}).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">token</span>:t,<span class="code-attr">val</span>:r[t],<span class="code-attr">deps</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">policy</span>:n[t]}}))).map(a)}<span class="code-keyword">var</span> or=(ar.prototype.builder=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.builders,n=r[t]||[];<span class="code-keyword">return</span> k(t)&amp;&amp;!E(e)?<span class="code-number">1</span>&lt;n.length?n:n[<span class="code-number">0</span>]:k(t)&amp;&amp;T(e)?(r[t]=n,r[t].push(e),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r[t].splice(r[t].indexOf(e,<span class="code-number">1</span>))&amp;&amp;<span class="code-literal">null</span>}):<span class="code-keyword">void</span> <span class="code-number">0</span>},ar.prototype.build=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.matcher,r=<span class="code-keyword">this</span>.builders,n=<span class="code-keyword">this</span>.parentName(t);<span class="code-keyword">if</span>(n&amp;&amp;!e.find(n,<span class="code-keyword">void</span> <span class="code-number">0</span>,!<span class="code-number">1</span>))<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r)<span class="code-keyword">if</span>(r.hasOwnProperty(i)){<span class="code-keyword">var</span> o=r[i].reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r(t,e)}},W);t[i]=o(t)}<span class="code-keyword">return</span> t},ar.prototype.parentName=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.name||<span class="code-string">""</span>,r=e.split(<span class="code-string">"."</span>);<span class="code-keyword">if</span>(<span class="code-string">"**"</span>===r.pop()&amp;&amp;r.pop(),r.length){<span class="code-keyword">if</span>(t.parent)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"States that specify the 'parent:' property should not have a '.' in their name ("</span>+e+<span class="code-string">")"</span>);<span class="code-keyword">return</span> r.join(<span class="code-string">"."</span>)}<span class="code-keyword">return</span> t.parent?k(t.parent)?t.parent:t.parent.name:<span class="code-string">""</span>},ar.prototype.name=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.name;<span class="code-keyword">if</span>(<span class="code-number">-1</span>!==e.indexOf(<span class="code-string">"."</span>)||!t.parent)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> r=k(t.parent)?t.parent:t.parent.name;<span class="code-keyword">return</span> r?r+<span class="code-string">"."</span>+e:e},ar);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ar</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.matcher=e;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.find(<span class="code-string">""</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">""</span>===t.name}<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.builders={<span class="code-attr">name</span>:[Ze],<span class="code-attr">self</span>:[Xe],<span class="code-attr">parent</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n(t)?<span class="code-literal">null</span>:e.find(i.parentName(t))||r()}],<span class="code-attr">data</span>:[tr],<span class="code-attr">url</span>:[er(t,r)],<span class="code-attr">navigable</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!e(t)&amp;&amp;t.url?t:t.parent?t.parent.navigable:<span class="code-literal">null</span>}}(n)],<span class="code-attr">params</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">var</span> t=r.url&amp;&amp;r.url.parameters({<span class="code-attr">inherit</span>:!<span class="code-number">1</span>})||[],e=pt(lt(ut(r.params||{},t.map(m(<span class="code-string">"id"</span>))),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> n.fromConfig(e,<span class="code-literal">null</span>,r.self)}));<span class="code-keyword">return</span> t.concat(e).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>[t.id,t]}).reduce(Tt,{})}}(t.paramFactory)],<span class="code-attr">views</span>:[],<span class="code-attr">path</span>:[rr],<span class="code-attr">includes</span>:[nr],<span class="code-attr">resolvables</span>:[ir]}}<span class="code-keyword">var</span> ur=(sr.create=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t=sr.isStateClass(t)?<span class="code-keyword">new</span> t:t;<span class="code-keyword">var</span> e=Q(Q(t,sr.prototype));<span class="code-keyword">return</span> t.$$state=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e},e.self=t,e.__stateObjectCache={<span class="code-attr">nameGlob</span>:Ht.fromString(e.name)},e},sr.prototype.is=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>===t||<span class="code-keyword">this</span>.self===t||<span class="code-keyword">this</span>.fqn()===t},sr.prototype.fqn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!(<span class="code-keyword">this</span>.parent&amp;&amp;<span class="code-keyword">this</span>.parent <span class="code-keyword">instanceof</span> <span class="code-keyword">this</span>.constructor))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.name;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.parent.fqn();<span class="code-keyword">return</span> t?t+<span class="code-string">"."</span>+<span class="code-keyword">this</span>.name:<span class="code-keyword">this</span>.name},sr.prototype.root=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.parent&amp;&amp;<span class="code-keyword">this</span>.parent.root()||<span class="code-keyword">this</span>},sr.prototype.parameters=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>((e=nt(e,{<span class="code-attr">inherit</span>:!<span class="code-number">0</span>,<span class="code-attr">matchingKeys</span>:<span class="code-literal">null</span>})).inherit&amp;&amp;<span class="code-keyword">this</span>.parent&amp;&amp;<span class="code-keyword">this</span>.parent.parameters()||[]).concat(pt(<span class="code-keyword">this</span>.params)).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},sr.prototype.parameter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={}),<span class="code-keyword">this</span>.url&amp;&amp;<span class="code-keyword">this</span>.url.parameter(t,e)||ft(pt(<span class="code-keyword">this</span>.params),y(<span class="code-string">"id"</span>,t))||e.inherit&amp;&amp;<span class="code-keyword">this</span>.parent&amp;&amp;<span class="code-keyword">this</span>.parent.parameter(t)},sr.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fqn()},sr.isStateClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> T(t)&amp;&amp;!<span class="code-number">0</span>===t.__uiRouterState},sr.isStateDeclaration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> T(t.$$state)},sr.isState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> O(t.__stateObjectCache)},sr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> sr.create(t||{})}<span class="code-keyword">var</span> cr=(fr.prototype.isRelative=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===(t=t||<span class="code-string">""</span>).indexOf(<span class="code-string">"."</span>)||<span class="code-number">0</span>===t.indexOf(<span class="code-string">"^"</span>)},fr.prototype.find=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=!<span class="code-number">0</span>),t||<span class="code-string">""</span>===t){<span class="code-keyword">var</span> n=k(t),i=n?t:t.name;<span class="code-keyword">this</span>.isRelative(i)&amp;&amp;(i=<span class="code-keyword">this</span>.resolvePath(i,e));<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>._states[i];<span class="code-keyword">if</span>(o&amp;&amp;(n||!(n||o!==t&amp;&amp;o.self!==t)))<span class="code-keyword">return</span> o;<span class="code-keyword">if</span>(n&amp;&amp;r){<span class="code-keyword">var</span> a=pt(<span class="code-keyword">this</span>._states).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.__stateObjectCache.nameGlob&amp;&amp;t.__stateObjectCache.nameGlob.matches(i)});<span class="code-keyword">return</span> <span class="code-number">1</span>&lt;a.length&amp;&amp;ce.error(<span class="code-string">"stateMatcher.find: Found multiple matches for "</span>+i+<span class="code-string">" using glob: "</span>,a.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.name})),a[<span class="code-number">0</span>]}}},fr.prototype.resolvePath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"No reference point given for path '"</span>+t+<span class="code-string">"'"</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.find(e),n=t.split(<span class="code-string">"."</span>),i=n.length,o=<span class="code-number">0</span>,a=r;o&lt;i;o++)<span class="code-keyword">if</span>(<span class="code-string">""</span>!==n[o]||<span class="code-number">0</span>!==o){<span class="code-keyword">if</span>(<span class="code-string">"^"</span>!==n[o])<span class="code-keyword">break</span>;<span class="code-keyword">if</span>(!a.parent)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Path '"</span>+t+<span class="code-string">"' not valid for state '"</span>+r.name+<span class="code-string">"'"</span>);a=a.parent}<span class="code-keyword">else</span> a=r;<span class="code-keyword">var</span> u=n.slice(o).join(<span class="code-string">"."</span>);<span class="code-keyword">return</span> a.name+(a.name&amp;&amp;u?<span class="code-string">"."</span>:<span class="code-string">""</span>)+u},fr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._states=t}<span class="code-keyword">var</span> lr=(hr.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.queue=[]},hr.prototype.register=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.queue,r=ur.create(t),n=r.name;<span class="code-keyword">if</span>(!k(n))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"State must have a valid name"</span>);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.states.hasOwnProperty(n)||K(e.map(m(<span class="code-string">"name"</span>)),n))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"State '"</span>+n+<span class="code-string">"' is already defined"</span>);<span class="code-keyword">return</span> e.push(r),<span class="code-keyword">this</span>.flush(),r},hr.prototype.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-keyword">this</span>.queue,r=<span class="code-keyword">this</span>.states,n=<span class="code-keyword">this</span>.builder,i=[],o=[],a={},u=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.states.hasOwnProperty(t)&amp;&amp;e.states[t]},s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.length&amp;&amp;e.listeners.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t(<span class="code-string">"registered"</span>,i.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.self}))})};<span class="code-number">0</span>&lt;t.length;){<span class="code-keyword">var</span> c=t.shift(),f=c.name,l=n.build(c),h=o.indexOf(c);<span class="code-keyword">if</span>(l){<span class="code-keyword">var</span> p=u(f);<span class="code-keyword">if</span>(p&amp;&amp;p.name===f)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"State '"</span>+f+<span class="code-string">"' is already defined"</span>);<span class="code-keyword">var</span> v=u(f+<span class="code-string">".**"</span>);v&amp;&amp;<span class="code-keyword">this</span>.router.stateRegistry.deregister(v),r[f]=c,<span class="code-keyword">this</span>.attachRoute(c),<span class="code-number">0</span>&lt;=h&amp;&amp;o.splice(h,<span class="code-number">1</span>),i.push(c)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> d=a[f];<span class="code-keyword">if</span>(a[f]=t.length,<span class="code-number">0</span>&lt;=h&amp;&amp;d===t.length)<span class="code-keyword">return</span> t.push(c),s(),r;h&lt;<span class="code-number">0</span>&amp;&amp;o.push(c),t.push(c)}}<span class="code-keyword">return</span> s(),r},hr.prototype.attachRoute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!t.abstract&amp;&amp;t.url){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.router.urlService.rules;e.rule(e.urlRuleFactory.create(t))}},hr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hr</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>.states=e,<span class="code-keyword">this</span>.builder=r,<span class="code-keyword">this</span>.listeners=n,<span class="code-keyword">this</span>.queue=[]}<span class="code-keyword">var</span> pr,vr,dr=(mr.prototype._registerRoot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{(<span class="code-keyword">this</span>._root=<span class="code-keyword">this</span>.stateQueue.register({<span class="code-attr">name</span>:<span class="code-string">""</span>,<span class="code-attr">url</span>:<span class="code-string">"^"</span>,<span class="code-attr">views</span>:<span class="code-literal">null</span>,<span class="code-attr">params</span>:{<span class="code-string">"#"</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>,<span class="code-attr">type</span>:<span class="code-string">"hash"</span>,<span class="code-attr">dynamic</span>:!<span class="code-number">0</span>}},<span class="code-attr">abstract</span>:!<span class="code-number">0</span>})).navigable=<span class="code-literal">null</span>},mr.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.stateQueue.dispose(),<span class="code-keyword">this</span>.listeners=[],<span class="code-keyword">this</span>.get().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.get(t)&amp;&amp;e.deregister(t)})},mr.prototype.onStatesChanged=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.listeners.push(t),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Z(<span class="code-keyword">this</span>.listeners)(t)}.bind(<span class="code-keyword">this</span>)},mr.prototype.root=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._root},mr.prototype.register=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.stateQueue.register(t)},mr.prototype._deregisterTree=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,n=<span class="code-keyword">this</span>.get().map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.$$state()}),i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=n.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-number">-1</span>!==e.indexOf(t.parent)});<span class="code-keyword">return</span> <span class="code-number">0</span>===t.length?t:t.concat(i(t))},e=i([t]),o=[t].concat(e).reverse();<span class="code-keyword">return</span> o.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=r.router.urlService.rules;e.rules().filter(y(<span class="code-string">"state"</span>,t)).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.removeRule(t)}),<span class="code-keyword">delete</span> r.states[t.name]}),o},mr.prototype.deregister=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.get(t);<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Can't deregister state; not found: "</span>+t);<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._deregisterTree(e.$$state());<span class="code-keyword">return</span> <span class="code-keyword">this</span>.listeners.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t(<span class="code-string">"deregistered"</span>,r.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.self}))}),r},mr.prototype.get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-number">0</span>===<span class="code-built_in">arguments</span>.length)<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.states).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.states[t].self});<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.matcher.find(t,e);<span class="code-keyword">return</span> n&amp;&amp;n.self||<span class="code-literal">null</span>},mr.prototype.decorator=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.builder.builder(t,e)},mr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>.states={},<span class="code-keyword">this</span>.listeners=[],<span class="code-keyword">this</span>.matcher=<span class="code-keyword">new</span> cr(<span class="code-keyword">this</span>.states),<span class="code-keyword">this</span>.builder=<span class="code-keyword">new</span> or(<span class="code-keyword">this</span>.matcher,t.urlMatcherFactory),<span class="code-keyword">this</span>.stateQueue=<span class="code-keyword">new</span> lr(t,<span class="code-keyword">this</span>.states,<span class="code-keyword">this</span>.builder,<span class="code-keyword">this</span>.listeners),<span class="code-keyword">this</span>._registerRoot()}(pr=d.TransitionHookPhase||(d.TransitionHookPhase={}))[pr.CREATE=<span class="code-number">0</span>]=<span class="code-string">"CREATE"</span>,pr[pr.BEFORE=<span class="code-number">1</span>]=<span class="code-string">"BEFORE"</span>,pr[pr.RUN=<span class="code-number">2</span>]=<span class="code-string">"RUN"</span>,pr[pr.SUCCESS=<span class="code-number">3</span>]=<span class="code-string">"SUCCESS"</span>,pr[pr.ERROR=<span class="code-number">4</span>]=<span class="code-string">"ERROR"</span>,(vr=d.TransitionHookScope||(d.TransitionHookScope={}))[vr.TRANSITION=<span class="code-number">0</span>]=<span class="code-string">"TRANSITION"</span>,vr[vr.STATE=<span class="code-number">1</span>]=<span class="code-string">"STATE"</span>;<span class="code-keyword">var</span> yr={<span class="code-attr">current</span>:W,<span class="code-attr">transition</span>:<span class="code-literal">null</span>,<span class="code-attr">traceData</span>:{},<span class="code-attr">bind</span>:<span class="code-literal">null</span>},gr=(wr.chain=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.invokeHook()})},e||D.$q.when())},wr.invokeHooks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;t.length;r++){<span class="code-keyword">var</span> n=t[r].invokeHook();<span class="code-keyword">if</span>(A(n)){<span class="code-keyword">var</span> i=t.slice(r+<span class="code-number">1</span>);<span class="code-keyword">return</span> wr.chain(i,n).then(e)}}<span class="code-keyword">return</span> e()},wr.runAllHooks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.invokeHook()})},wr.prototype.logError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.transition.router.stateService.defaultErrorHandler()(t)},wr.prototype.invokeHook=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,r=<span class="code-keyword">this</span>.registeredHook;<span class="code-keyword">if</span>(!r._deregistered){<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.getNotCurrentRejection();<span class="code-keyword">if</span>(t)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.options;we.traceHookInvocation(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.transition,n);<span class="code-keyword">var</span> i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.eventType.getErrorHandler(e)(t)},o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.eventType.getResultHandler(e)(t)};<span class="code-keyword">try</span>{<span class="code-keyword">var</span> a=r.callback.call(n.bind,e.transition,e.stateContext);<span class="code-keyword">return</span>!<span class="code-keyword">this</span>.type.synchronous&amp;&amp;A(a)?a.catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ft.normalize(t).toPromise()}).then(o,i):o(a)}<span class="code-keyword">catch</span>(t){<span class="code-keyword">return</span> i(Ft.normalize(t))}<span class="code-keyword">finally</span>{r.invokeLimit&amp;&amp;++r.invokeCount&gt;=r.invokeLimit&amp;&amp;r.deregister()}}},wr.prototype.handleHookResult=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,r=<span class="code-keyword">this</span>.getNotCurrentRejection();<span class="code-keyword">return</span> r||(A(t)?t.then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.handleHookResult(t)}):(we.traceHookResult(t,<span class="code-keyword">this</span>.transition,<span class="code-keyword">this</span>.options),!<span class="code-number">1</span>===t?Ft.aborted(<span class="code-string">"Hook aborted transition"</span>).toPromise():h(Ae)(t)?Ft.redirected(t).toPromise():<span class="code-keyword">void</span> <span class="code-number">0</span>))},wr.prototype.getNotCurrentRejection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.transition.router;<span class="code-keyword">return</span> t._disposed?Ft.aborted(<span class="code-string">"UIRouter instance #"</span>+t.$id+<span class="code-string">" has been stopped (disposed)"</span>).toPromise():<span class="code-keyword">this</span>.transition._aborted?Ft.aborted().toPromise():<span class="code-keyword">this</span>.isSuperseded()?Ft.superseded(<span class="code-keyword">this</span>.options.current()).toPromise():<span class="code-keyword">void</span> <span class="code-number">0</span>},wr.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.options,e=<span class="code-keyword">this</span>.registeredHook;<span class="code-keyword">return</span>(R(<span class="code-string">"traceData.hookType"</span>)(t)||<span class="code-string">"internal"</span>)+<span class="code-string">" context: "</span>+(R(<span class="code-string">"traceData.context.state.name"</span>)(t)||R(<span class="code-string">"traceData.context"</span>)(t)||<span class="code-string">"unknown"</span>)+<span class="code-string">", "</span>+Lt(<span class="code-number">200</span>,zt(e.callback))},wr.HANDLE_RESULT=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.handleHookResult(t)}},wr.LOG_REJECTED_RESULT=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{A(t)&amp;&amp;t.catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.logError(Ft.normalize(t))})}},wr.LOG_ERROR=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.logError(t)}},wr.REJECT_ERROR=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Vt(t)}},wr.THROW_ERROR=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">throw</span> t}},wr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wr</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.transition=t,<span class="code-keyword">this</span>.stateContext=e,<span class="code-keyword">this</span>.registeredHook=r,<span class="code-keyword">this</span>.options=n,<span class="code-keyword">this</span>.isSuperseded=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.type.hookPhase===d.TransitionHookPhase.RUN&amp;&amp;!i.options.transition.isActive()},<span class="code-keyword">this</span>.options=nt(n,yr),<span class="code-keyword">this</span>.type=r.eventType}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_r</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> i=k(e)?[e]:e;<span class="code-keyword">return</span>!!(T(i)?i:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=i,r=<span class="code-number">0</span>;r&lt;e.length;r++){<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> Ht(e[r]);<span class="code-keyword">if</span>(n&amp;&amp;n.matches(t.name)||!n&amp;&amp;e[r]===t.name)<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>})(t,r)}<span class="code-keyword">var</span> Sr=($r.prototype._matchingNodes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">0</span>===e)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> n=t.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> _r(t.state,e,r)});<span class="code-keyword">return</span> n.length?n:<span class="code-literal">null</span>},$r.prototype._getDefaultMatchCriteria=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> lt(<span class="code-keyword">this</span>.tranSvc._pluginapi._getPathTypes(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>})},$r.prototype._getMatchingNodes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">o,a</span>)</span>{<span class="code-keyword">var</span> u=<span class="code-keyword">this</span>,s=B(<span class="code-keyword">this</span>._getDefaultMatchCriteria(),<span class="code-keyword">this</span>.matchCriteria);<span class="code-keyword">return</span> pt(<span class="code-keyword">this</span>.tranSvc._pluginapi._getPathTypes()).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=e.scope===d.TransitionHookScope.STATE,n=o[e.name]||[],i=r?n:[Pt(n)];<span class="code-keyword">return</span> t[e.name]=u._matchingNodes(i,s[e.name],a),t},{})},$r.prototype.matches=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._getMatchingNodes(t,e);<span class="code-keyword">return</span> pt(r).every(z)?r:<span class="code-literal">null</span>},$r.prototype.deregister=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeHookFromRegistry(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>._deregistered=!<span class="code-number">0</span>},$r);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$r</span>(<span class="code-params">t,e,r,n,i,o</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o={}),<span class="code-keyword">this</span>.tranSvc=t,<span class="code-keyword">this</span>.eventType=e,<span class="code-keyword">this</span>.callback=r,<span class="code-keyword">this</span>.matchCriteria=n,<span class="code-keyword">this</span>.removeHookFromRegistry=i,<span class="code-keyword">this</span>.invokeCount=<span class="code-number">0</span>,<span class="code-keyword">this</span>._deregistered=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.priority=o.priority||<span class="code-number">0</span>,<span class="code-keyword">this</span>.bind=o.bind||<span class="code-literal">null</span>,<span class="code-keyword">this</span>.invokeLimit=o.invokeLimit}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">br</span>(<span class="code-params">t,i,o</span>)</span>{<span class="code-keyword">var</span> a=(t._registeredHooks=t._registeredHooks||{})[o.name]=[],u=Z(a);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={});<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> Sr(i,o,e,t,u,r);<span class="code-keyword">return</span> a.push(n),n.deregister.bind(n)}<span class="code-keyword">return</span> t[o.name]=e}<span class="code-keyword">var</span> Rr=(Er.prototype.buildHooksForPhase=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.transition.router.transitionService._pluginapi._getEvents(t).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.buildHooks(t)}).reduce(mt,[]).filter(z)},Er.prototype.buildHooks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">o</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.transition,t=a.treeChanges(),e=<span class="code-keyword">this</span>.getMatchingHooks(o,t,a);<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span>[];<span class="code-keyword">var</span> u={<span class="code-attr">transition</span>:a,<span class="code-attr">current</span>:a.options().current};<span class="code-keyword">return</span> e.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> i.matches(t,a)[o.criteriaMatchPath.name].map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=B({<span class="code-attr">bind</span>:i.bind,<span class="code-attr">traceData</span>:{<span class="code-attr">hookType</span>:o.name,<span class="code-attr">context</span>:t}},u),r=o.criteriaMatchPath.scope===d.TransitionHookScope.STATE?t.state.self:<span class="code-literal">null</span>,n=<span class="code-keyword">new</span> gr(a,r,i,e);<span class="code-keyword">return</span>{<span class="code-attr">hook</span>:i,<span class="code-attr">node</span>:t,<span class="code-attr">transitionHook</span>:n}})}).reduce(mt,[]).sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=!<span class="code-number">1</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=i?<span class="code-number">-1</span>:<span class="code-number">1</span>,n=(t.node.state.path.length-e.node.state.path.length)*r;<span class="code-keyword">return</span> <span class="code-number">0</span>!=n?n:e.hook.priority-t.hook.priority}}(o.reverseSort)).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.transitionHook})},Er.prototype.getMatchingHooks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r,n</span>)</span>{<span class="code-keyword">var</span> t=e.hookPhase===d.TransitionHookPhase.CREATE,i=<span class="code-keyword">this</span>.transition.router.transitionService;<span class="code-keyword">return</span>(t?[i]:[<span class="code-keyword">this</span>.transition,i]).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.getHooks(e.name)}).filter($t(x,<span class="code-string">"broken event named: "</span>+e.name)).reduce(mt,[]).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.matches(r,n)})},Er);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Er</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.transition=t}<span class="code-keyword">var</span> Cr=m(<span class="code-string">"self"</span>),Tr=(Pr.prototype.onBefore=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.onStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.onExit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.onRetain=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.onEnter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.onFinish=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.onSuccess=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.onError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},Pr.prototype.createTransitionHookRegFns=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.router.transitionService._pluginapi._getEvents().filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.hookPhase!==d.TransitionHookPhase.CREATE}).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> br(e,e.router.transitionService,t)})},Pr.prototype.getHooks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._registeredHooks[t]},Pr.prototype.applyViewConfigs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._treeChanges.entering.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.state});qe.applyViewConfigs(t.transitionService.$view,<span class="code-keyword">this</span>._treeChanges.to,e)},Pr.prototype.$<span class="code-keyword">from</span>=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Pt(<span class="code-keyword">this</span>._treeChanges.from).state},Pr.prototype.$to=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Pt(<span class="code-keyword">this</span>._treeChanges.to).state},Pr.prototype.from=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.$<span class="code-keyword">from</span>().self},Pr.prototype.to=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.$to().self},Pr.prototype.targetState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._targetState},Pr.prototype.is=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t <span class="code-keyword">instanceof</span> Pr?<span class="code-keyword">this</span>.is({<span class="code-attr">to</span>:t.$to().name,<span class="code-attr">from</span>:t.$<span class="code-keyword">from</span>().name}):!(t.to&amp;&amp;!_r(<span class="code-keyword">this</span>.$to(),t.to,<span class="code-keyword">this</span>)||t.from&amp;&amp;!_r(<span class="code-keyword">this</span>.$<span class="code-keyword">from</span>(),t.from,<span class="code-keyword">this</span>))},Pr.prototype.params=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">"to"</span>),<span class="code-built_in">Object</span>.freeze(<span class="code-keyword">this</span>._treeChanges[t].map(m(<span class="code-string">"paramValues"</span>)).reduce(it,{}))},Pr.prototype.paramsChanged=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.params(<span class="code-string">"from"</span>),r=<span class="code-keyword">this</span>.params(<span class="code-string">"to"</span>),e=[].concat(<span class="code-keyword">this</span>._treeChanges.to).concat(<span class="code-keyword">this</span>._treeChanges.from).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.paramSchema}).reduce(yt,[]).reduce(wt,[]);<span class="code-keyword">return</span> Te.changed(e,t,r).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t[e.id]=r[e.id],t},{})},Pr.prototype.injector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">"to"</span>);<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._treeChanges[t];<span class="code-keyword">return</span> e&amp;&amp;(r=qe.subPath(r,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.state===e||t.state.name===e})),<span class="code-keyword">new</span> Je(r).injector()},Pr.prototype.getResolveTokens=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">"to"</span>),<span class="code-keyword">new</span> Je(<span class="code-keyword">this</span>._treeChanges[t]).getTokens()},Pr.prototype.addResolvable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-string">""</span>),t=h(Le)(t)?t:<span class="code-keyword">new</span> Le(t);<span class="code-keyword">var</span> r=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?e:e.name,n=<span class="code-keyword">this</span>._treeChanges.to,i=ft(n,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.state.name===r});<span class="code-keyword">new</span> Je(n).addResolvables([t],i.state)},Pr.prototype.redirectedFrom=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._options.redirectedFrom||<span class="code-literal">null</span>},Pr.prototype.originalTransition=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.redirectedFrom();<span class="code-keyword">return</span> t&amp;&amp;t.originalTransition()||<span class="code-keyword">this</span>},Pr.prototype.options=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._options},Pr.prototype.entering=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> ht(<span class="code-keyword">this</span>._treeChanges.entering,m(<span class="code-string">"state"</span>)).map(Cr)},Pr.prototype.exiting=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> ht(<span class="code-keyword">this</span>._treeChanges.exiting,m(<span class="code-string">"state"</span>)).map(Cr).reverse()},Pr.prototype.retained=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> ht(<span class="code-keyword">this</span>._treeChanges.retained,m(<span class="code-string">"state"</span>)).map(Cr)},Pr.prototype.views=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">"entering"</span>);<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._treeChanges[t];<span class="code-keyword">return</span>(r=e?r.filter(y(<span class="code-string">"state"</span>,e)):r).map(m(<span class="code-string">"views"</span>)).filter(z).reduce(mt,[])},Pr.prototype.treeChanges=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t?<span class="code-keyword">this</span>._treeChanges[t]:<span class="code-keyword">this</span>._treeChanges},Pr.prototype.redirect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">1</span>,r=<span class="code-keyword">this</span>;<span class="code-literal">null</span>!=(r=r.redirectedFrom());)<span class="code-keyword">if</span>(<span class="code-number">20</span>&lt;++e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Too many consecutive Transition redirects (20+)"</span>);<span class="code-keyword">var</span> n={<span class="code-attr">redirectedFrom</span>:<span class="code-keyword">this</span>,<span class="code-attr">source</span>:<span class="code-string">"redirect"</span>};<span class="code-string">"url"</span>===<span class="code-keyword">this</span>.options().source&amp;&amp;!<span class="code-number">1</span>!==t.options().location&amp;&amp;(n.location=<span class="code-string">"replace"</span>);<span class="code-keyword">var</span> i=B({},<span class="code-keyword">this</span>.options(),t.options(),n);t=t.withOptions(i,!<span class="code-number">0</span>);<span class="code-keyword">var</span> o,a=<span class="code-keyword">this</span>.router.transitionService.create(<span class="code-keyword">this</span>._treeChanges.from,t),u=<span class="code-keyword">this</span>._treeChanges.entering,s=a._treeChanges.entering;<span class="code-keyword">return</span> qe.matching(s,u,qe.nonDynamicParams).filter(l((o=t.options().reloadState,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> o&amp;&amp;t.state.includes[o.name]}))).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.resolvables=u[e].resolvables}),a},Pr.prototype._changedParams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._treeChanges;<span class="code-keyword">if</span>(!(<span class="code-keyword">this</span>._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||Ct(t.to,t.from).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t[<span class="code-number">0</span>].state!==t[<span class="code-number">1</span>].state}).reduce(dt,!<span class="code-number">1</span>))){<span class="code-keyword">var</span> e=t.to.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.paramSchema}),r=[t.to,t.from].map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.paramValues})});<span class="code-keyword">return</span> Ct(e,r[<span class="code-number">0</span>],r[<span class="code-number">1</span>]).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t[<span class="code-number">0</span>],r=t[<span class="code-number">1</span>],n=t[<span class="code-number">2</span>];<span class="code-keyword">return</span> Te.changed(e,r,n)}).reduce(mt,[])}},Pr.prototype.dynamic=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._changedParams();<span class="code-keyword">return</span>!!t&amp;&amp;t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.dynamic}).reduce(dt,!<span class="code-number">1</span>)},Pr.prototype.ignored=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>._ignoredReason()},Pr.prototype._ignoredReason=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(t.length!==e.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> r=qe.matching(t,e);<span class="code-keyword">return</span> t.length===r.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!n||!t.state.includes[n.name]}).length}<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.router.globals.transition,n=<span class="code-keyword">this</span>._options.reloadState,r=<span class="code-keyword">this</span>.treeChanges(),i=e&amp;&amp;e.treeChanges();<span class="code-keyword">return</span> i&amp;&amp;t(i.to,r.to)&amp;&amp;t(i.exiting,r.exiting)?<span class="code-string">"SameAsPending"</span>:<span class="code-number">0</span>===r.exiting.length&amp;&amp;<span class="code-number">0</span>===r.entering.length&amp;&amp;t(r.from,r.to)?<span class="code-string">"SameAsCurrent"</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>},Pr.prototype.run=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r._hookBuilder.buildHooksForPhase(t)}<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,n=gr.runAllHooks,t=e(d.TransitionHookPhase.BEFORE);<span class="code-keyword">return</span> gr.invokeHooks(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=r.router.globals;<span class="code-keyword">return</span> t.lastStartedTransitionId=r.$id,t.transition=r,t.transitionHistory.enqueue(r),we.traceTransitionStart(r),D.$q.when(<span class="code-keyword">void</span> <span class="code-number">0</span>)}).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=e(d.TransitionHookPhase.RUN);<span class="code-keyword">return</span> gr.invokeHooks(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> D.$q.when(<span class="code-keyword">void</span> <span class="code-number">0</span>)})}).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{we.traceSuccess(r.$to(),r),r.success=!<span class="code-number">0</span>,r._deferred.resolve(r.to()),n(e(d.TransitionHookPhase.SUCCESS))},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{we.traceError(t,r),r.success=!<span class="code-number">1</span>,r._deferred.reject(t),r._error=t,n(e(d.TransitionHookPhase.ERROR))}),<span class="code-keyword">this</span>.promise},Pr.prototype.valid=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-keyword">this</span>.error()||<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.success},Pr.prototype.abort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{$(<span class="code-keyword">this</span>.success)&amp;&amp;(<span class="code-keyword">this</span>._aborted=!<span class="code-number">0</span>)},Pr.prototype.error=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.$to();<span class="code-keyword">if</span>(t.self.abstract)<span class="code-keyword">return</span> Ft.invalid(<span class="code-string">"Cannot transition to abstract state '"</span>+t.name+<span class="code-string">"'"</span>);<span class="code-keyword">var</span> e=t.parameters(),r=<span class="code-keyword">this</span>.params(),n=e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!t.validates(r[t.id])});<span class="code-keyword">if</span>(n.length){<span class="code-keyword">var</span> i=n.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"["</span>+t.id+<span class="code-string">":"</span>+Qt(r[t.id])+<span class="code-string">"]"</span>}).join(<span class="code-string">", "</span>),o=<span class="code-string">"The following parameter values are not valid for state '"</span>+t.name+<span class="code-string">"': "</span>+i;<span class="code-keyword">return</span> Ft.invalid(o)}<span class="code-keyword">return</span>!<span class="code-number">1</span>===<span class="code-keyword">this</span>.success?<span class="code-keyword">this</span>._error:<span class="code-keyword">void</span> <span class="code-number">0</span>},Pr.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!==t[<span class="code-string">"#"</span>]&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==t[<span class="code-string">"#"</span>]?t:ut(t,[<span class="code-string">"#"</span>])}<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.from(),r=<span class="code-keyword">this</span>.to();<span class="code-keyword">return</span><span class="code-string">"Transition#"</span>+<span class="code-keyword">this</span>.$id+<span class="code-string">"( '"</span>+(O(e)?e.name:e)+<span class="code-string">"'"</span>+Qt(t(<span class="code-keyword">this</span>._treeChanges.from.map(m(<span class="code-string">"paramValues"</span>)).reduce(it,{})))+<span class="code-string">" -&gt; "</span>+(<span class="code-keyword">this</span>.valid()?<span class="code-string">""</span>:<span class="code-string">"(X) "</span>)+<span class="code-string">"'"</span>+(O(r)?r.name:r)+<span class="code-string">"'"</span>+Qt(t(<span class="code-keyword">this</span>.params()))+<span class="code-string">" )"</span>},Pr.diToken=Pr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pr</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._deferred=D.$q.defer(),<span class="code-keyword">this</span>.promise=<span class="code-keyword">this</span>._deferred.promise,<span class="code-keyword">this</span>._registeredHooks={},<span class="code-keyword">this</span>._hookBuilder=<span class="code-keyword">new</span> Rr(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.isActive=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.router.globals.transition===n},<span class="code-keyword">this</span>.router=r,!(<span class="code-keyword">this</span>._targetState=e).valid())<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(e.error());<span class="code-keyword">this</span>._options=B({<span class="code-attr">current</span>:p(<span class="code-keyword">this</span>)},e.options()),<span class="code-keyword">this</span>.$id=r.transitionService._transitionCount++;<span class="code-keyword">var</span> i=qe.buildToPath(t,e);<span class="code-keyword">this</span>._treeChanges=qe.treeChanges(t,i,<span class="code-keyword">this</span>._options.reloadState),<span class="code-keyword">this</span>.createTransitionHookRegFns();<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>._hookBuilder.buildHooksForPhase(d.TransitionHookPhase.CREATE);gr.invokeHooks(o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>}),<span class="code-keyword">this</span>.applyViewConfigs(r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=[<span class="code-string">""</span>,<span class="code-string">""</span>],n=t.replace(<span class="code-regexp">/[\\\[\]\^$*+?.()|{}]/g</span>,<span class="code-string">"\\$&amp;"</span>);<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> n;<span class="code-keyword">switch</span>(e.squash){<span class="code-keyword">case</span>!<span class="code-number">1</span>:r=[<span class="code-string">"("</span>,<span class="code-string">")"</span>+(e.isOptional?<span class="code-string">"?"</span>:<span class="code-string">""</span>)];<span class="code-keyword">break</span>;<span class="code-keyword">case</span>!<span class="code-number">0</span>:n=n.replace(<span class="code-regexp">/\/$/</span>,<span class="code-string">""</span>),r=[<span class="code-string">"(?:/("</span>,<span class="code-string">")|/)?"</span>];<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:r=[<span class="code-string">"("</span>+e.squash+<span class="code-string">"|"</span>,<span class="code-string">")?"</span>]}<span class="code-keyword">return</span> n+r[<span class="code-number">0</span>]+e.type.pattern.source+r[<span class="code-number">1</span>]}<span class="code-keyword">var</span> Or=ne(<span class="code-string">"/"</span>),xr={<span class="code-attr">state</span>:{<span class="code-attr">params</span>:{}},<span class="code-attr">strict</span>:!<span class="code-number">0</span>,<span class="code-attr">caseInsensitive</span>:!<span class="code-number">0</span>},jr=(Vr.encodeDashes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">encodeURIComponent</span>(t).replace(<span class="code-regexp">/-/g</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"%5C%"</span>+t.charCodeAt(<span class="code-number">0</span>).toString(<span class="code-number">16</span>).toUpperCase()})},Vr.pathSegmentsAndParams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ct(t._segments,t._params.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.location===d.DefType.PATH}).concat(<span class="code-keyword">void</span> <span class="code-number">0</span>)).reduce(mt,[]).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">""</span>!==t&amp;&amp;E(t)})},Vr.queryParams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._params.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.location===d.DefType.SEARCH})},Vr.compare=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._cache.weights=t._cache.weights||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._cache.segments=t._cache.segments||t._cache.path.map(Vr.pathSegmentsAndParams).reduce(mt,[]).reduce(ie,[]).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> k(t)?Or(t):t}).reduce(mt,[])}(t).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"/"</span>===t?<span class="code-number">1</span>:k(t)?<span class="code-number">2</span>:t <span class="code-keyword">instanceof</span> Te?<span class="code-number">3</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>})}<span class="code-keyword">var</span> n=r(t),i=r(e);!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-built_in">Math</span>.max(t.length,e.length);t.length&lt;n;)t.push(r);<span class="code-keyword">for</span>(;e.length&lt;n;)e.push(r)}(n,i,<span class="code-number">0</span>);<span class="code-keyword">var</span> o,a,u=Ct(n,i);<span class="code-keyword">for</span>(a=<span class="code-number">0</span>;a&lt;u.length;a++)<span class="code-keyword">if</span>(<span class="code-number">0</span>!=(o=u[a][<span class="code-number">0</span>]-u[a][<span class="code-number">1</span>]))<span class="code-keyword">return</span> o;<span class="code-keyword">return</span> <span class="code-number">0</span>},Vr.prototype.append=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._children.push(t),t._cache={<span class="code-attr">path</span>:<span class="code-keyword">this</span>._cache.path.concat(t),<span class="code-attr">parent</span>:<span class="code-keyword">this</span>,<span class="code-attr">pattern</span>:<span class="code-literal">null</span>},t},Vr.prototype.isRoot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._cache.path[<span class="code-number">0</span>]===<span class="code-keyword">this</span>},Vr.prototype.toString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pattern},Vr.prototype.exec=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n,e,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n={});<span class="code-keyword">var</span> o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> t[e]=t[e]||r()}(<span class="code-keyword">this</span>._cache,<span class="code-string">"pattern"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>([<span class="code-string">"^"</span>,_t(i._cache.path.map(m(<span class="code-string">"_compiled"</span>))).join(<span class="code-string">""</span>),!<span class="code-number">1</span>===i.config.strict?<span class="code-string">"/?"</span>:<span class="code-string">""</span>,<span class="code-string">"$"</span>].join(<span class="code-string">""</span>),i.config.caseInsensitive?<span class="code-string">"i"</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>)}).exec(t);<span class="code-keyword">if</span>(!o)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.parameters(),u=a.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!t.isSearch()}),s=a.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.isSearch()}),c=<span class="code-keyword">this</span>._cache.path.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._segments.length<span class="code-number">-1</span>}).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t+e}),f={};<span class="code-keyword">if</span>(c!==o.length<span class="code-number">-1</span>)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unbalanced capture group in route '"</span>+<span class="code-keyword">this</span>.pattern+<span class="code-string">"'"</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>;l&lt;c;l++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=u[l],p=o[l+<span class="code-number">1</span>],v=<span class="code-number">0</span>;v&lt;h.replace.length;v++)h.replace[v].from===p&amp;&amp;(p=h.replace[v].to);p&amp;&amp;!<span class="code-number">0</span>===h.array&amp;&amp;(p=ht(ht(d(p).split(<span class="code-regexp">/-(?!\\)/</span>),d),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.replace(<span class="code-regexp">/\\-/g</span>,<span class="code-string">"-"</span>)}).reverse()),E(p)&amp;&amp;(p=h.type.decode(p)),f[h.id]=h.value(p)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">d</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.split(<span class="code-string">""</span>).reverse().join(<span class="code-string">""</span>)}<span class="code-keyword">return</span> s.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=n[t.id],r=<span class="code-number">0</span>;r&lt;t.replace.length;r++)t.replace[r].from===e&amp;&amp;(e=t.replace[r].to);E(e)&amp;&amp;(e=t.type.decode(e)),f[t.id]=t.value(e)}),e&amp;&amp;(f[<span class="code-string">"#"</span>]=e),f},Vr.prototype.parameters=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),!<span class="code-number">1</span>===t.inherit?<span class="code-keyword">this</span>._params:_t(<span class="code-keyword">this</span>._cache.path.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._params}))},Vr.prototype.parameter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={});<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._cache.parent;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=i._params;t&lt;e.length;t++){<span class="code-keyword">var</span> r=e[t];<span class="code-keyword">if</span>(r.id===n)<span class="code-keyword">return</span> r}}()||!<span class="code-number">1</span>!==t.inherit&amp;&amp;e&amp;&amp;e.parameter(n,t)||<span class="code-literal">null</span>},Vr.prototype.validates=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e=e||{},<span class="code-keyword">this</span>.parameters().filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.hasOwnProperty(t.id)}).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>!t||t.validates(e)}(t,e[t.id])}).reduce(vt,!<span class="code-number">0</span>)},Vr.prototype.format=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a={});<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._cache.path,e=t.map(Vr.pathSegmentsAndParams).reduce(mt,[]).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> k(t)?t:n(t)}),r=t.map(Vr.queryParams).reduce(mt,[]).map(n);<span class="code-keyword">if</span>(e.concat(r).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">1</span>===t.isValid}).length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.value(a[t.id]),r=t.validates(e),n=t.isDefaultValue(e),i=!!n&amp;&amp;t.squash,o=t.type.encode(e);<span class="code-keyword">return</span>{<span class="code-attr">param</span>:t,<span class="code-attr">value</span>:e,<span class="code-attr">isValid</span>:r,<span class="code-attr">isDefaultValue</span>:n,<span class="code-attr">squash</span>:i,<span class="code-attr">encoded</span>:o}}<span class="code-keyword">var</span> i=e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(k(e))<span class="code-keyword">return</span> t+e;<span class="code-keyword">var</span> r=e.squash,n=e.encoded,i=e.param;<span class="code-keyword">return</span>!<span class="code-number">0</span>===r?t.match(<span class="code-regexp">/\/$/</span>)?t.slice(<span class="code-number">0</span>,<span class="code-number">-1</span>):t:k(r)?t+r:!<span class="code-number">1</span>!==r?t:<span class="code-literal">null</span>==n?t:x(n)?t+ht(n,Vr.encodeDashes).join(<span class="code-string">"-"</span>):i.raw?t+n:t+<span class="code-built_in">encodeURIComponent</span>(n)},<span class="code-string">""</span>),o=r.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.param,r=t.squash,n=t.encoded,i=t.isDefaultValue;<span class="code-keyword">if</span>(!(<span class="code-literal">null</span>==n||i&amp;&amp;!<span class="code-number">1</span>!==r)&amp;&amp;(x(n)||(n=[n]),<span class="code-number">0</span>!==n.length))<span class="code-keyword">return</span> e.raw||(n=ht(n,<span class="code-built_in">encodeURIComponent</span>)),n.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.id+<span class="code-string">"="</span>+t})}).filter(z).reduce(mt,[]).join(<span class="code-string">"&amp;"</span>);<span class="code-keyword">return</span> i+(o?<span class="code-string">"?"</span>+o:<span class="code-string">""</span>)+(a[<span class="code-string">"#"</span>]?<span class="code-string">"#"</span>+a[<span class="code-string">"#"</span>]:<span class="code-string">""</span>)},Vr.nameValidator=<span class="code-regexp">/^\w+([-.]+\w+)*(?:\[\])?$/</span>,Vr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vr</span>(<span class="code-params">o,a,t,e</span>)</span>{<span class="code-keyword">var</span> u=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>._cache={<span class="code-attr">path</span>:[<span class="code-keyword">this</span>]},<span class="code-keyword">this</span>._children=[],<span class="code-keyword">this</span>._params=[],<span class="code-keyword">this</span>._segments=[],<span class="code-keyword">this</span>._compiled=[],<span class="code-keyword">this</span>.config=e=nt(e,xr),<span class="code-keyword">this</span>.pattern=o;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r,n,i,s=<span class="code-regexp">/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g</span>,c=<span class="code-regexp">/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g</span>,f=[],l=<span class="code-number">0</span>,h=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!Vr.nameValidator.test(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid parameter name '"</span>+t+<span class="code-string">"' in pattern '"</span>+o+<span class="code-string">"'"</span>);<span class="code-keyword">if</span>(ft(u._params,y(<span class="code-string">"id"</span>,t)))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Duplicate parameter name '"</span>+t+<span class="code-string">"' in pattern '"</span>+o+<span class="code-string">"'"</span>)},p=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r,n=t[<span class="code-number">2</span>]||t[<span class="code-number">3</span>],i=e?t[<span class="code-number">4</span>]:t[<span class="code-number">4</span>]||(<span class="code-string">"*"</span>===t[<span class="code-number">1</span>]?<span class="code-string">"[\\s\\S]*"</span>:<span class="code-literal">null</span>);<span class="code-keyword">return</span>{<span class="code-attr">id</span>:n,<span class="code-attr">regexp</span>:i,<span class="code-attr">segment</span>:o.substring(l,t.index),<span class="code-attr">type</span>:i?a.type(i)||(r=i,Q(a.type(e?<span class="code-string">"query"</span>:<span class="code-string">"path"</span>),{<span class="code-attr">pattern</span>:<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(r,u.config.caseInsensitive?<span class="code-string">"i"</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>)})):<span class="code-literal">null</span>}};(r=s.exec(o))&amp;&amp;!(<span class="code-number">0</span>&lt;=(n=p(r,!<span class="code-number">1</span>)).segment.indexOf(<span class="code-string">"?"</span>));)h(n.id),<span class="code-keyword">this</span>._params.push(t.fromPath(n.id,n.type,e.state)),<span class="code-keyword">this</span>._segments.push(n.segment),f.push([n.segment,Pt(<span class="code-keyword">this</span>._params)]),l=s.lastIndex;<span class="code-keyword">var</span> v=(i=o.substring(l)).indexOf(<span class="code-string">"?"</span>);<span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;=v){<span class="code-keyword">var</span> d=i.substring(v);<span class="code-keyword">if</span>(i=i.substring(<span class="code-number">0</span>,v),<span class="code-number">0</span>&lt;d.length)<span class="code-keyword">for</span>(l=<span class="code-number">0</span>;r=c.exec(d);)h((n=p(r,!<span class="code-number">0</span>)).id),<span class="code-keyword">this</span>._params.push(t.fromSearch(n.id,n.type,e.state)),l=s.lastIndex}<span class="code-keyword">this</span>._segments.push(i),<span class="code-keyword">this</span>._compiled=f.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> kr.apply(<span class="code-literal">null</span>,t)}).concat(kr(i))}<span class="code-keyword">var</span> Hr=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(Hr=<span class="code-built_in">Object</span>.assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,r=<span class="code-number">1</span>,n=<span class="code-built_in">arguments</span>.length;r&lt;n;r++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> e=<span class="code-built_in">arguments</span>[r])<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(e,i)&amp;&amp;(t[i]=e[i]);<span class="code-keyword">return</span> t}).apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)},Ir=(Ar.prototype.fromConfig=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Te(t,e,d.DefType.CONFIG,<span class="code-keyword">this</span>.router.urlService.config,r)},Ar.prototype.fromPath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Te(t,e,d.DefType.PATH,<span class="code-keyword">this</span>.router.urlService.config,r)},Ar.prototype.fromSearch=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Te(t,e,d.DefType.SEARCH,<span class="code-keyword">this</span>.router.urlService.config,r)},Ar);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ar</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.router=t}<span class="code-keyword">var</span> Dr=(qr.prototype.compile=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.router.urlService.config,n=e&amp;&amp;!e.state&amp;&amp;e.params;e=n?Hr({<span class="code-attr">state</span>:{<span class="code-attr">params</span>:n}},e):e;<span class="code-keyword">var</span> i={<span class="code-attr">strict</span>:r._isStrictMode,<span class="code-attr">caseInsensitive</span>:r._isCaseInsensitive};<span class="code-keyword">return</span> <span class="code-keyword">new</span> jr(t,r.paramTypes,<span class="code-keyword">this</span>.paramFactory,B(i,e))},qr.prototype.isMatcher=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">if</span>(!O(r))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> n=!<span class="code-number">0</span>;<span class="code-keyword">return</span> M(jr.prototype,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{T(t)&amp;&amp;(n=n&amp;&amp;E(r[e])&amp;&amp;T(r[e]))}),n},qr.prototype.$<span class="code-keyword">get</span>=function(){<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.router.urlService.config;<span class="code-keyword">return</span> t.paramTypes.enqueue=!<span class="code-number">1</span>,t.paramTypes._flushTypeQueue(),<span class="code-keyword">this</span>},qr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>.paramFactory=<span class="code-keyword">new</span> Ir(<span class="code-keyword">this</span>.router),<span class="code-keyword">this</span>.caseInsensitive=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.config.caseInsensitive(t)},<span class="code-keyword">this</span>.defaultSquashPolicy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.config.defaultSquashPolicy(t)},<span class="code-keyword">this</span>.strictMode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.config.strictMode(t)},<span class="code-keyword">this</span>.type=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.config.type(t,e,r)||n},B(<span class="code-keyword">this</span>,{<span class="code-attr">UrlMatcher</span>:jr,<span class="code-attr">Param</span>:Te})}<span class="code-keyword">var</span> Ur=(Fr.prototype.compile=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.router.urlMatcherFactory.compile(t)},Fr.prototype.create=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,n=ur.isState,i=ur.isStateDeclaration,o=g([[k,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> o(r.compile(t))}],[h(jr),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.fromUrlMatcher(t,e)}],[u(n,i),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.fromState(t,r.router)}],[h(<span class="code-built_in">RegExp</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.fromRegExp(t,e)}],[T,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Nr(t,e)}]]),a=o(t);<span class="code-keyword">if</span>(!a)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"invalid 'what' in when()"</span>);<span class="code-keyword">return</span> a},Fr.prototype.fromUrlMatcher=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,e</span>)</span>{<span class="code-keyword">var</span> t=e;k(e)&amp;&amp;(e=<span class="code-keyword">this</span>.router.urlMatcherFactory.compile(e)),h(jr)(e)&amp;&amp;(t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.format(t)});<span class="code-keyword">var</span> n={<span class="code-attr">urlMatcher</span>:r,<span class="code-attr">matchPriority</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=r.parameters().filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.isOptional});<span class="code-keyword">return</span> t.length?t.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e[t.id]}).length/t.length:<span class="code-number">1e-6</span>},<span class="code-attr">type</span>:<span class="code-string">"URLMATCHER"</span>};<span class="code-keyword">return</span> B(<span class="code-keyword">new</span> Nr(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=r.exec(t.path,t.search,t.hash);<span class="code-keyword">return</span> r.validates(e)&amp;&amp;e},t),n)},Fr.prototype.fromState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n</span>)</span>{<span class="code-keyword">var</span> i=ur.isStateDeclaration(t)?t.$$state():t,e={<span class="code-attr">state</span>:i,<span class="code-attr">type</span>:<span class="code-string">"STATE"</span>};<span class="code-keyword">return</span> B(<span class="code-keyword">this</span>.fromUrlMatcher(i.url,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=n.stateService,r=n.globals;e.href(i,t)!==e.href(r.current,r.params)&amp;&amp;e.transitionTo(i,t,{<span class="code-attr">inherit</span>:!<span class="code-number">0</span>,<span class="code-attr">source</span>:<span class="code-string">"url"</span>})}),e)},Fr.prototype.fromRegExp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e.global||e.sticky)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Rule RegExp must not be global or sticky"</span>);<span class="code-keyword">var</span> r=k(t)?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> t.replace(<span class="code-regexp">/\$(\$|\d{1,2})/</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> r[<span class="code-string">"$"</span>===e?<span class="code-number">0</span>:<span class="code-built_in">Number</span>(e)]})}:t,n={<span class="code-attr">regexp</span>:e,<span class="code-attr">type</span>:<span class="code-string">"REGEXP"</span>};<span class="code-keyword">return</span> B(<span class="code-keyword">new</span> Nr(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.exec(t.path)},r),n)},Fr.isUrlRule=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;[<span class="code-string">"type"</span>,<span class="code-string">"match"</span>,<span class="code-string">"handler"</span>].every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> E(e[t])})},Fr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.router=t}<span class="code-keyword">var</span> Nr=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.match=t,<span class="code-keyword">this</span>.type=<span class="code-string">"RAW"</span>,<span class="code-keyword">this</span>.matchPriority=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>-r.$id},<span class="code-keyword">this</span>.handler=e||z};<span class="code-keyword">var</span> Lr=(Mr.prototype.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.router.locationService;t?<span class="code-keyword">this</span>.location=e.url():e.url()!==<span class="code-keyword">this</span>.location&amp;&amp;e.url(<span class="code-keyword">this</span>.location,!<span class="code-number">0</span>)},Mr.prototype.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=r&amp;&amp;!!r.replace;<span class="code-keyword">this</span>.router.urlService.url(t.format(e||{}),n)},Mr.prototype.href=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=t.format(e);<span class="code-keyword">if</span>(<span class="code-literal">null</span>==n)<span class="code-keyword">return</span> <span class="code-literal">null</span>;r=r||{<span class="code-attr">absolute</span>:!<span class="code-number">1</span>};<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.router.urlService.config,o=i.html5Mode();<span class="code-keyword">if</span>(o||<span class="code-literal">null</span>===n||(n=<span class="code-string">"#"</span>+i.hashPrefix()+n),n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"/"</span>===n?t:e?Yt(n)+t:r?n.slice(<span class="code-number">1</span>)+t:t}(n,o,r.absolute,i.baseHref()),!r.absolute||!n)<span class="code-keyword">return</span> n;<span class="code-keyword">var</span> a=!o&amp;&amp;n?<span class="code-string">"/"</span>:<span class="code-string">""</span>,u=i.port(),s=<span class="code-number">80</span>===u||<span class="code-number">443</span>===u?<span class="code-string">""</span>:<span class="code-string">":"</span>+u;<span class="code-keyword">return</span>[i.protocol(),<span class="code-string">"://"</span>,i.host(),s,a,n].join(<span class="code-string">""</span>)},<span class="code-built_in">Object</span>.defineProperty(Mr.prototype,<span class="code-string">"interceptDeferred"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.router.urlService.interceptDeferred},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),Mr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>.sync=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.sync(t)},<span class="code-keyword">this</span>.listen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.listen(t)},<span class="code-keyword">this</span>.deferIntercept=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.deferIntercept(t)},<span class="code-keyword">this</span>.match=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.match(t)},<span class="code-keyword">this</span>.initial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.rules.initial(t)},<span class="code-keyword">this</span>.otherwise=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.rules.otherwise(t)},<span class="code-keyword">this</span>.removeRule=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.rules.removeRule(t)},<span class="code-keyword">this</span>.rule=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.rules.rule(t)},<span class="code-keyword">this</span>.rules=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.router.urlService.rules.rules()},<span class="code-keyword">this</span>.sort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.rules.sort(t)},<span class="code-keyword">this</span>.when=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> n.router.urlService.rules.when(t,e,r)},<span class="code-keyword">this</span>.urlRuleFactory=<span class="code-keyword">new</span> Ur(t)}<span class="code-keyword">var</span> Br=(Gr.normalizeUIViewTarget=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-string">""</span>);<span class="code-keyword">var</span> r=e.split(<span class="code-string">"@"</span>),n=r[<span class="code-number">0</span>]||<span class="code-string">"$default"</span>,i=k(r[<span class="code-number">1</span>])?r[<span class="code-number">1</span>]:<span class="code-string">"^"</span>,o=<span class="code-regexp">/^(\^(?:\.\^)*)\.(.*$)/</span>.exec(n);<span class="code-keyword">return</span> o&amp;&amp;(i=o[<span class="code-number">1</span>],n=o[<span class="code-number">2</span>]),<span class="code-string">"!"</span>===n.charAt(<span class="code-number">0</span>)&amp;&amp;(n=n.substr(<span class="code-number">1</span>),i=<span class="code-string">""</span>),/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(<span class="code-string">"."</span>).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.parent},t).name:<span class="code-string">"."</span>===i&amp;&amp;(i=t.name),{<span class="code-attr">uiViewName</span>:n,<span class="code-attr">uiViewContextAnchor</span>:i}},Gr.prototype._rootViewContext=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._rootContext=t||<span class="code-keyword">this</span>._rootContext},Gr.prototype._viewConfigFactory=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>._viewConfigFactories[t]=e},Gr.prototype.createViewConfig=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._viewConfigFactories[e.$type];<span class="code-keyword">if</span>(!r)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"ViewService: No view config factory registered for type "</span>+e.$type);<span class="code-keyword">var</span> n=r(t,e);<span class="code-keyword">return</span> x(n)?n:[n]},Gr.prototype.deactivateViewConfig=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{we.traceViewServiceEvent(<span class="code-string">"&lt;- Removing"</span>,t),Z(<span class="code-keyword">this</span>._viewConfigs,t)},Gr.prototype.activateViewConfig=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{we.traceViewServiceEvent(<span class="code-string">"-&gt; Registering"</span>,t),<span class="code-keyword">this</span>._viewConfigs.push(t)},Gr.prototype.sync=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,n=<span class="code-keyword">this</span>._uiViews.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>[t.fqn,t]}).reduce(Tt,{});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.viewDecl.$context,r=<span class="code-number">0</span>;++r&amp;&amp;e.parent;)e=e.parent;<span class="code-keyword">return</span> r}<span class="code-keyword">var</span> o=s(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">return</span> e*(t(r)-t(n))}),t=<span class="code-keyword">this</span>._uiViews.sort(o(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;t.parent?e(t.parent)+<span class="code-number">1</span>:<span class="code-number">1</span>};<span class="code-keyword">return</span> <span class="code-number">1e4</span>*t.fqn.split(<span class="code-string">"."</span>).length+e(t.creationContext)},<span class="code-number">1</span>)).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=r._viewConfigs.filter(Gr.matches(n,t));<span class="code-keyword">return</span> <span class="code-number">1</span>&lt;e.length&amp;&amp;e.sort(o(i,<span class="code-number">-1</span>)),{<span class="code-attr">uiView</span>:t,<span class="code-attr">viewConfig</span>:e[<span class="code-number">0</span>]}}),e=t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.viewConfig}),a=<span class="code-keyword">this</span>._viewConfigs.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!K(e,t)}).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">uiView</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">viewConfig</span>:t}});t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-number">-1</span>!==r._uiViews.indexOf(t.uiView)&amp;&amp;t.uiView.configUpdated(t.viewConfig)});<span class="code-keyword">var</span> u=t.concat(a);<span class="code-keyword">this</span>._listeners.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t(u)}),we.traceViewSync(u)},Gr.prototype.registerUIView=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{we.traceViewServiceUIViewEvent(<span class="code-string">"-&gt; Registering"</span>,e);<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._uiViews;<span class="code-keyword">return</span> t.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.fqn===e.fqn&amp;&amp;t.$type===e.$type}).length&amp;&amp;we.traceViewServiceUIViewEvent(<span class="code-string">"!!!! duplicate uiView named:"</span>,e),t.push(e),<span class="code-keyword">this</span>.sync(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">-1</span>!==t.indexOf(e)?(we.traceViewServiceUIViewEvent(<span class="code-string">"&lt;- Deregistering"</span>,e),Z(t)(e)):we.traceViewServiceUIViewEvent(<span class="code-string">"Tried removing non-registered uiView"</span>,e)}},Gr.prototype.available=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._uiViews.map(m(<span class="code-string">"fqn"</span>))},Gr.prototype.active=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._uiViews.filter(m(<span class="code-string">"$config"</span>)).map(m(<span class="code-string">"name"</span>))},Gr.matches=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">u,s</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(s.$type!==t.viewDecl.$type)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> e=t.viewDecl,r=e.$uiViewName.split(<span class="code-string">"."</span>),n=s.fqn.split(<span class="code-string">"."</span>);<span class="code-keyword">if</span>(!G(r,n.slice(<span class="code-number">0</span>-r.length)))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> i=<span class="code-number">1</span>-r.length||<span class="code-keyword">void</span> <span class="code-number">0</span>,o=n.slice(<span class="code-number">0</span>,i).join(<span class="code-string">"."</span>),a=u[o].creationContext;<span class="code-keyword">return</span> e.$uiViewContextAnchor===(a&amp;&amp;a.name)}},Gr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>._uiViews=[],<span class="code-keyword">this</span>._viewConfigs=[],<span class="code-keyword">this</span>._viewConfigFactories={},<span class="code-keyword">this</span>._listeners=[],<span class="code-keyword">this</span>._pluginapi={<span class="code-attr">_rootViewContext</span>:<span class="code-keyword">this</span>._rootViewContext.bind(<span class="code-keyword">this</span>),<span class="code-attr">_viewConfigFactory</span>:<span class="code-keyword">this</span>._viewConfigFactory.bind(<span class="code-keyword">this</span>),<span class="code-attr">_registeredUIView</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ft(r._uiViews,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.router.$id+<span class="code-string">"."</span>+t.id===e})},<span class="code-attr">_registeredUIViews</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r._uiViews},<span class="code-attr">_activeViewConfigs</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r._viewConfigs},<span class="code-attr">_onSync</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r._listeners.push(t),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Z(r._listeners,t)}}}}<span class="code-keyword">var</span> zr=(Wr.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.transitionHistory.clear(),<span class="code-keyword">this</span>.successfulTransitions.clear(),<span class="code-keyword">this</span>.transition=<span class="code-literal">null</span>},Wr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wr</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.params=<span class="code-keyword">new</span> je,<span class="code-keyword">this</span>.lastStartedTransitionId=<span class="code-number">-1</span>,<span class="code-keyword">this</span>.transitionHistory=<span class="code-keyword">new</span> Dt([],<span class="code-number">1</span>),<span class="code-keyword">this</span>.successfulTransitions=<span class="code-keyword">new</span> Dt([],<span class="code-number">1</span>)}<span class="code-keyword">var</span> Jr;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!(T(t)||k(t)||h(Ae)(t)||Ae.isDef(t)))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"'handler' must be a string, function, TargetState, or have a state: 'newtarget' property"</span>);<span class="code-keyword">return</span> T(t)?t:p(t)}Jr=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(e.priority||<span class="code-number">0</span>)-(t.priority||<span class="code-number">0</span>)}(t,e);<span class="code-keyword">return</span> <span class="code-number">0</span>!==r?r:<span class="code-number">0</span>!==(r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r={<span class="code-attr">STATE</span>:<span class="code-number">4</span>,<span class="code-attr">URLMATCHER</span>:<span class="code-number">4</span>,<span class="code-attr">REGEXP</span>:<span class="code-number">3</span>,<span class="code-attr">RAW</span>:<span class="code-number">2</span>,<span class="code-attr">OTHER</span>:<span class="code-number">1</span>};<span class="code-keyword">return</span>(r[t.type]||<span class="code-number">0</span>)-(r[e.type]||<span class="code-number">0</span>)}(t,e))?r:<span class="code-number">0</span>!==(r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.urlMatcher&amp;&amp;e.urlMatcher?jr.compare(t.urlMatcher,e.urlMatcher):<span class="code-number">0</span>}(t,e))?r:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r={<span class="code-attr">STATE</span>:!<span class="code-number">0</span>,<span class="code-attr">URLMATCHER</span>:!<span class="code-number">0</span>};<span class="code-keyword">return</span> r[t.type]&amp;&amp;r[e.type]?<span class="code-number">0</span>:(t.$id||<span class="code-number">0</span>)-(e.$id||<span class="code-number">0</span>)}(t,e)};<span class="code-keyword">var</span> Kr=(Yr.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._rules=[],<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._otherwiseFn},Yr.prototype.initial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Qr(t);<span class="code-keyword">this</span>.rule(<span class="code-keyword">this</span>.urlRuleFactory.create(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===e.globals.transitionHistory.size()&amp;&amp;!!<span class="code-regexp">/^\/?$/</span>.exec(t.path)},e))},Yr.prototype.otherwise=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Qr(t);<span class="code-keyword">this</span>._otherwiseFn=<span class="code-keyword">this</span>.urlRuleFactory.create(p(!<span class="code-number">0</span>),e),<span class="code-keyword">this</span>._sorted=!<span class="code-number">1</span>},Yr.prototype.removeRule=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Z(<span class="code-keyword">this</span>._rules,t)},Yr.prototype.rule=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!Ur.isUrlRule(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"invalid rule"</span>);<span class="code-keyword">return</span> t.$id=<span class="code-keyword">this</span>._id++,t.priority=t.priority||<span class="code-number">0</span>,<span class="code-keyword">this</span>._rules.push(t),<span class="code-keyword">this</span>._sorted=!<span class="code-number">1</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.removeRule(t)}},Yr.prototype.rules=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.ensureSorted(),<span class="code-keyword">this</span>._rules.concat(<span class="code-keyword">this</span>._otherwiseFn?[<span class="code-keyword">this</span>._otherwiseFn]:[])},Yr.prototype.sort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.stableSort(<span class="code-keyword">this</span>._rules,<span class="code-keyword">this</span>._sortFn=t||<span class="code-keyword">this</span>._sortFn),r=<span class="code-number">0</span>,n=<span class="code-number">0</span>;n&lt;e.length;n++)e[n]._group=r,n&lt;e.length<span class="code-number">-1</span>&amp;&amp;<span class="code-number">0</span>!==<span class="code-keyword">this</span>._sortFn(e[n],e[n+<span class="code-number">1</span>])&amp;&amp;r++;<span class="code-keyword">this</span>._rules=e,<span class="code-keyword">this</span>._sorted=!<span class="code-number">0</span>},Yr.prototype.ensureSorted=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._sorted||<span class="code-keyword">this</span>.sort()},Yr.prototype.stableSort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n</span>)</span>{<span class="code-keyword">var</span> e=t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">elem</span>:t,<span class="code-attr">idx</span>:e}});<span class="code-keyword">return</span> e.sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=n(t.elem,e.elem);<span class="code-keyword">return</span> <span class="code-number">0</span>===r?t.idx-e.idx:r}),e.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.elem})},Yr.prototype.when=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.urlRuleFactory.create(t,e);<span class="code-keyword">return</span> E(r&amp;&amp;r.priority)&amp;&amp;(n.priority=r.priority),<span class="code-keyword">this</span>.rule(n),n},Yr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>._sortFn=Jr,<span class="code-keyword">this</span>._rules=[],<span class="code-keyword">this</span>._id=<span class="code-number">0</span>,<span class="code-keyword">this</span>.urlRuleFactory=<span class="code-keyword">new</span> Ur(t)}<span class="code-keyword">var</span> Zr=(Xr.prototype.caseInsensitive=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isCaseInsensitive=E(t)?t:<span class="code-keyword">this</span>._isCaseInsensitive},Xr.prototype.defaultSquashPolicy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(E(t)&amp;&amp;!<span class="code-number">0</span>!==t&amp;&amp;!<span class="code-number">1</span>!==t&amp;&amp;!k(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid squash policy: "</span>+t+<span class="code-string">". Valid policies: false, true, arbitrary-string"</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._defaultSquashPolicy=E(t)?t:<span class="code-keyword">this</span>._defaultSquashPolicy},Xr.prototype.strictMode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isStrictMode=E(t)?t:<span class="code-keyword">this</span>._isStrictMode},Xr.prototype.type=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.paramTypes.type(t,e,r);<span class="code-keyword">return</span> E(e)?<span class="code-keyword">this</span>:n},Xr);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>.paramTypes=<span class="code-keyword">new</span> ke,<span class="code-keyword">this</span>._isCaseInsensitive=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._isStrictMode=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._defaultSquashPolicy=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.paramTypes.dispose()},<span class="code-keyword">this</span>.baseHref=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.router.locationConfig.baseHref()},<span class="code-keyword">this</span>.hashPrefix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.router.locationConfig.hashPrefix(t)},<span class="code-keyword">this</span>.host=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.router.locationConfig.host()},<span class="code-keyword">this</span>.html5Mode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.router.locationConfig.html5Mode()},<span class="code-keyword">this</span>.port=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.router.locationConfig.port()},<span class="code-keyword">this</span>.protocol=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.router.locationConfig.protocol()}}<span class="code-keyword">var</span> tn=(en.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.listen(!<span class="code-number">1</span>),<span class="code-keyword">this</span>.rules.dispose()},en.prototype.parts=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">path</span>:<span class="code-keyword">this</span>.path(),<span class="code-attr">search</span>:<span class="code-keyword">this</span>.search(),<span class="code-attr">hash</span>:<span class="code-keyword">this</span>.hash()}},en.prototype.sync=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!t||!t.defaultPrevented){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.router,r=e.urlService,n=e.stateService,i={<span class="code-attr">path</span>:r.path(),<span class="code-attr">search</span>:r.search(),<span class="code-attr">hash</span>:r.hash()},o=<span class="code-keyword">this</span>.match(i);g([[k,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.url(t,!<span class="code-number">0</span>)}],[Ae.isDef,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.go(t.state,t.params,t.options)}],[h(Ae),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.go(t.state(),t.params(),t.options())}]])(o&amp;&amp;o.rule.handler(o.match,i,<span class="code-keyword">this</span>.router))}},en.prototype.listen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>._stopListeningFn=<span class="code-keyword">this</span>._stopListeningFn||<span class="code-keyword">this</span>.router.urlService.onChange(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.sync(t)});<span class="code-keyword">this</span>._stopListeningFn&amp;&amp;<span class="code-keyword">this</span>._stopListeningFn(),<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._stopListeningFn},en.prototype.deferIntercept=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.interceptDeferred=t},en.prototype.match=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;t=B({<span class="code-attr">path</span>:<span class="code-string">""</span>,<span class="code-attr">search</span>:{},<span class="code-attr">hash</span>:<span class="code-string">""</span>},t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r,n,i,o=<span class="code-keyword">this</span>.rules.rules(),a=<span class="code-number">0</span>;a&lt;o.length&amp;&amp;(!r||r.rule._group===o[a]._group);a++){<span class="code-keyword">var</span> u=(n=o[a],(i=n.match(t,e.router))&amp;&amp;{<span class="code-attr">match</span>:i,<span class="code-attr">rule</span>:n,<span class="code-attr">weight</span>:n.matchPriority(i)});r=!r||u&amp;&amp;u.weight&gt;r.weight?u:r}<span class="code-keyword">return</span> r},en);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">en</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>.interceptDeferred=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.rules=<span class="code-keyword">new</span> Kr(<span class="code-keyword">this</span>.router),<span class="code-keyword">this</span>.config=<span class="code-keyword">new</span> Zr(<span class="code-keyword">this</span>.router),<span class="code-keyword">this</span>.url=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">return</span> n.router.locationService.url(t,e,r)},<span class="code-keyword">this</span>.path=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.router.locationService.path()},<span class="code-keyword">this</span>.search=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.router.locationService.search()},<span class="code-keyword">this</span>.hash=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.router.locationService.hash()},<span class="code-keyword">this</span>.onChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.router.locationService.onChange(t)}}<span class="code-keyword">var</span> rn=<span class="code-number">0</span>,nn=I(<span class="code-string">"LocationServices"</span>,[<span class="code-string">"url"</span>,<span class="code-string">"path"</span>,<span class="code-string">"search"</span>,<span class="code-string">"hash"</span>,<span class="code-string">"onChange"</span>]),on=I(<span class="code-string">"LocationConfig"</span>,[<span class="code-string">"port"</span>,<span class="code-string">"protocol"</span>,<span class="code-string">"host"</span>,<span class="code-string">"baseHref"</span>,<span class="code-string">"html5Mode"</span>,<span class="code-string">"hashPrefix"</span>]),an=(un.prototype.disposable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._disposables.push(t)},un.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;t&amp;&amp;T(t.dispose)?t.dispose(<span class="code-keyword">this</span>):(<span class="code-keyword">this</span>._disposed=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._disposables.slice().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">try</span>{<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t.dispose&amp;&amp;t.dispose(e),Z(e._disposables,t)}<span class="code-keyword">catch</span>(t){}}))},un.prototype.plugin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={});<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> t(<span class="code-keyword">this</span>,e);<span class="code-keyword">if</span>(!r.name)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Required property `name` missing on plugin: "</span>+r);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._disposables.push(r),<span class="code-keyword">this</span>._plugins[r.name]=r},un.prototype.getPlugin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t?<span class="code-keyword">this</span>._plugins[t]:pt(<span class="code-keyword">this</span>._plugins)},un);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">un</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=nn),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=on),<span class="code-keyword">this</span>.locationService=t,<span class="code-keyword">this</span>.locationConfig=e,<span class="code-keyword">this</span>.$id=rn++,<span class="code-keyword">this</span>._disposed=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._disposables=[],<span class="code-keyword">this</span>.trace=we,<span class="code-keyword">this</span>.viewService=<span class="code-keyword">new</span> Br(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.globals=<span class="code-keyword">new</span> zr,<span class="code-keyword">this</span>.transitionService=<span class="code-keyword">new</span> kn(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.urlMatcherFactory=<span class="code-keyword">new</span> Dr(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.urlRouter=<span class="code-keyword">new</span> Lr(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.urlService=<span class="code-keyword">new</span> tn(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.stateRegistry=<span class="code-keyword">new</span> dr(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.stateService=<span class="code-keyword">new</span> xn(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>._plugins={},<span class="code-keyword">this</span>.viewService._pluginapi._rootViewContext(<span class="code-keyword">this</span>.stateRegistry.root()),<span class="code-keyword">this</span>.globals.$current=<span class="code-keyword">this</span>.stateRegistry.root(),<span class="code-keyword">this</span>.globals.current=<span class="code-keyword">this</span>.globals.$current.self,<span class="code-keyword">this</span>.disposable(<span class="code-keyword">this</span>.globals),<span class="code-keyword">this</span>.disposable(<span class="code-keyword">this</span>.stateService),<span class="code-keyword">this</span>.disposable(<span class="code-keyword">this</span>.stateRegistry),<span class="code-keyword">this</span>.disposable(<span class="code-keyword">this</span>.transitionService),<span class="code-keyword">this</span>.disposable(<span class="code-keyword">this</span>.urlService),<span class="code-keyword">this</span>.disposable(t),<span class="code-keyword">this</span>.disposable(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sn</span>(<span class="code-params">e</span>)</span>{e.addResolvable(Le.fromData(an,e.router),<span class="code-string">""</span>),e.addResolvable(Le.fromData(Tr,e),<span class="code-string">""</span>),e.addResolvable(Le.fromData(<span class="code-string">"$transition$"</span>,e),<span class="code-string">""</span>),e.addResolvable(Le.fromData(<span class="code-string">"$stateParams"</span>,e.params()),<span class="code-string">""</span>),e.entering().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e.addResolvable(Le.fromData(<span class="code-string">"$state$"</span>,t),t)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cn</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> ln(t.token)?Le.fromData(t.token,<span class="code-literal">null</span>):t}pt(t.treeChanges()).reduce(mt,[]).reduce(wt,[]).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.resolvables=t.resolvables.map(e)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fn</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.to().redirectTo;<span class="code-keyword">if</span>(t){<span class="code-keyword">var</span> r=e.router.stateService;<span class="code-keyword">return</span> T(t)?D.$q.when(t(e)).then(n):n(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(t)<span class="code-keyword">return</span> t <span class="code-keyword">instanceof</span> Ae?t:k(t)?r.target(t,e.params(),e.options()):t.state||t.params?r.target(t.state||e.to(),t.params||e.params(),e.options()):<span class="code-keyword">void</span> <span class="code-number">0</span>}}<span class="code-keyword">var</span> ln=K([<span class="code-string">"$transition$"</span>,Tr]);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hn</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(<span class="code-number">0</span>,e.$$state()[r])(t,e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Je(t.treeChanges().to).resolvePath(<span class="code-string">"EAGER"</span>,t).then(W)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vn</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Je(t.treeChanges().to).subContext(e.$$state()).resolvePath(<span class="code-string">"LAZY"</span>,t).then(W)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Je(t.treeChanges().to).resolvePath(<span class="code-string">"LAZY"</span>,t).then(W)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=D.$q,r=t.views(<span class="code-string">"entering"</span>);<span class="code-keyword">if</span>(r.length)<span class="code-keyword">return</span> e.all(r.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.when(t.load())})).then(W)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.views(<span class="code-string">"entering"</span>),r=t.views(<span class="code-string">"exiting"</span>);<span class="code-keyword">if</span>(e.length||r.length){<span class="code-keyword">var</span> n=t.router.viewService;r.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.deactivateViewConfig(t)}),e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.activateViewConfig(t)}),n.sync()}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gn</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{r.transition===t&amp;&amp;(r.transition=<span class="code-literal">null</span>)}<span class="code-keyword">var</span> r=t.router.globals;t.onSuccess({},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.successfulTransitions.enqueue(t),r.$current=t.$to(),r.current=r.$current.self,kt(t.params(),r.params)},{<span class="code-attr">priority</span>:<span class="code-number">1e4</span>}),t.promise.then(e,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.options(),r=t.router.stateService,n=t.router.urlRouter;<span class="code-keyword">if</span>(<span class="code-string">"url"</span>!==e.source&amp;&amp;e.location&amp;&amp;r.$current.navigable){<span class="code-keyword">var</span> i={<span class="code-attr">replace</span>:<span class="code-string">"replace"</span>===e.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_n</span>(<span class="code-params">a</span>)</span>{<span class="code-keyword">var</span> u=a.router,t=a.entering().filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!t.$$state().lazyLoad}).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Rn(a,t)});<span class="code-keyword">return</span> D.$q.all(t).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"url"</span>!==a.originalTransition().options().source){<span class="code-keyword">var</span> t=a.targetState();<span class="code-keyword">return</span> u.stateService.target(t.identifier(),t.params(),t.options())}<span class="code-keyword">var</span> e=u.urlService,r=e.match(e.parts()),n=r&amp;&amp;r.rule;<span class="code-keyword">if</span>(n&amp;&amp;<span class="code-string">"STATE"</span>===n.type){<span class="code-keyword">var</span> i=n.state,o=r.match;<span class="code-keyword">return</span> u.stateService.target(i,o,a.options())}u.urlService.sync()})}<span class="code-keyword">var</span> Sn=hn(<span class="code-string">"onExit"</span>),$n=hn(<span class="code-string">"onRetain"</span>),bn=hn(<span class="code-string">"onEnter"</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Rn</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">var</span> n=r.$$state().lazyLoad,t=n._promise;<span class="code-keyword">if</span>(!t){t=n._promise=D.$q.when(n(e,r)).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t&amp;&amp;<span class="code-built_in">Array</span>.isArray(t.states)&amp;&amp;t.states.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.router.stateRegistry.register(t)});<span class="code-keyword">return</span> t}).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">delete</span> r.lazyLoad,<span class="code-keyword">delete</span> r.$$state().lazyLoad,<span class="code-keyword">delete</span> n._promise,t},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">delete</span> n._promise,D.$q.reject(t)})}<span class="code-keyword">return</span> t}<span class="code-keyword">var</span> En=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n,i,o,a,u</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=gr.HANDLE_RESULT),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=gr.REJECT_ERROR),<span class="code-keyword">void</span> <span class="code-number">0</span>===u&amp;&amp;(u=!<span class="code-number">1</span>),<span class="code-keyword">this</span>.name=t,<span class="code-keyword">this</span>.hookPhase=e,<span class="code-keyword">this</span>.hookOrder=r,<span class="code-keyword">this</span>.criteriaMatchPath=n,<span class="code-keyword">this</span>.reverseSort=i,<span class="code-keyword">this</span>.getResultHandler=o,<span class="code-keyword">this</span>.getErrorHandler=a,<span class="code-keyword">this</span>.synchronous=u};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Cn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t._ignoredReason();<span class="code-keyword">if</span>(e){we.traceTransitionIgnored(t);<span class="code-keyword">var</span> r=t.router.globals.transition;<span class="code-keyword">return</span><span class="code-string">"SameAsCurrent"</span>===e&amp;&amp;r&amp;&amp;r.abort(),Ft.ignored().toPromise()}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Tn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!t.valid())<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(t.error().toString())}<span class="code-keyword">var</span> Pn={<span class="code-attr">location</span>:!<span class="code-number">0</span>,<span class="code-attr">relative</span>:<span class="code-literal">null</span>,<span class="code-attr">inherit</span>:!<span class="code-number">1</span>,<span class="code-attr">notify</span>:!<span class="code-number">0</span>,<span class="code-attr">reload</span>:!<span class="code-number">1</span>,<span class="code-attr">supercede</span>:!<span class="code-number">0</span>,<span class="code-attr">custom</span>:{},<span class="code-attr">current</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">source</span>:<span class="code-string">"unknown"</span>},kn=(On.prototype.onCreate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onBefore=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onExit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onRetain=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onEnter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onFinish=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onSuccess=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.onError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{},On.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{pt(<span class="code-keyword">this</span>._registeredHooks).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t._deregistered=!<span class="code-number">0</span>,Z(e,t)})})},On.prototype.create=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Tr(t,e,<span class="code-keyword">this</span>._router)},On.prototype._defineCoreEvents=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=d.TransitionHookPhase,e=gr,r=<span class="code-keyword">this</span>._criteriaPaths;<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onCreate"</span>,t.CREATE,<span class="code-number">0</span>,r.to,!<span class="code-number">1</span>,e.LOG_REJECTED_RESULT,e.THROW_ERROR,!<span class="code-number">0</span>),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onBefore"</span>,t.BEFORE,<span class="code-number">0</span>,r.to),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onStart"</span>,t.RUN,<span class="code-number">0</span>,r.to),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onExit"</span>,t.RUN,<span class="code-number">100</span>,r.exiting,!<span class="code-number">0</span>),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onRetain"</span>,t.RUN,<span class="code-number">200</span>,r.retained),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onEnter"</span>,t.RUN,<span class="code-number">300</span>,r.entering),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onFinish"</span>,t.RUN,<span class="code-number">400</span>,r.to),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onSuccess"</span>,t.SUCCESS,<span class="code-number">0</span>,r.to,!<span class="code-number">1</span>,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!<span class="code-number">0</span>),<span class="code-keyword">this</span>._defineEvent(<span class="code-string">"onError"</span>,t.ERROR,<span class="code-number">0</span>,r.to,!<span class="code-number">1</span>,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!<span class="code-number">0</span>)},On.prototype._defineCorePaths=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=d.TransitionHookScope.STATE,e=d.TransitionHookScope.TRANSITION;<span class="code-keyword">this</span>._definePathType(<span class="code-string">"to"</span>,e),<span class="code-keyword">this</span>._definePathType(<span class="code-string">"from"</span>,e),<span class="code-keyword">this</span>._definePathType(<span class="code-string">"exiting"</span>,t),<span class="code-keyword">this</span>._definePathType(<span class="code-string">"retained"</span>,t),<span class="code-keyword">this</span>._definePathType(<span class="code-string">"entering"</span>,t)},On.prototype._defineEvent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n,i,o,a,u</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=gr.HANDLE_RESULT),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=gr.REJECT_ERROR),<span class="code-keyword">void</span> <span class="code-number">0</span>===u&amp;&amp;(u=!<span class="code-number">1</span>);<span class="code-keyword">var</span> s=<span class="code-keyword">new</span> En(t,e,r,n,i,o,a,u);<span class="code-keyword">this</span>._eventTypes.push(s),br(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>,s)},On.prototype._getEvents=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(E(e)?<span class="code-keyword">this</span>._eventTypes.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.hookPhase===e}):<span class="code-keyword">this</span>._eventTypes.slice()).sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=t.hookPhase-e.hookPhase;<span class="code-keyword">return</span> <span class="code-number">0</span>==r?t.hookOrder-e.hookOrder:r})},On.prototype._definePathType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>._criteriaPaths[t]={<span class="code-attr">name</span>:t,<span class="code-attr">scope</span>:e}},On.prototype._getPathTypes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._criteriaPaths},On.prototype.getHooks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._registeredHooks[t]},On.prototype._registerCoreTransitionHooks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._deregisterHookFns;t.addCoreResolves=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onCreate({},sn)}(<span class="code-keyword">this</span>),t.ignored=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onBefore({},Cn,{<span class="code-attr">priority</span>:<span class="code-number">-9999</span>})}(<span class="code-keyword">this</span>),t.invalid=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onBefore({},Tn,{<span class="code-attr">priority</span>:<span class="code-number">-1e4</span>})}(<span class="code-keyword">this</span>),t.redirectTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onStart({<span class="code-attr">to</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!t.redirectTo}},fn)}(<span class="code-keyword">this</span>),t.onExit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onExit({<span class="code-attr">exiting</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!t.onExit}},Sn)}(<span class="code-keyword">this</span>),t.onRetain=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onRetain({<span class="code-attr">retained</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!t.onRetain}},$n)}(<span class="code-keyword">this</span>),t.onEnter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onEnter({<span class="code-attr">entering</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!t.onEnter}},bn)}(<span class="code-keyword">this</span>),t.eagerResolve=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onStart({},pn,{<span class="code-attr">priority</span>:<span class="code-number">1e3</span>})}(<span class="code-keyword">this</span>),t.lazyResolve=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onEnter({<span class="code-attr">entering</span>:p(!<span class="code-number">0</span>)},vn,{<span class="code-attr">priority</span>:<span class="code-number">1e3</span>})}(<span class="code-keyword">this</span>),t.resolveAll=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onFinish({},dn,{<span class="code-attr">priority</span>:<span class="code-number">1e3</span>})}(<span class="code-keyword">this</span>),t.loadViews=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onFinish({},mn)}(<span class="code-keyword">this</span>),t.activateViews=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onSuccess({},yn)}(<span class="code-keyword">this</span>),t.updateGlobals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onCreate({},gn)}(<span class="code-keyword">this</span>),t.updateUrl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onSuccess({},wn,{<span class="code-attr">priority</span>:<span class="code-number">9999</span>})}(<span class="code-keyword">this</span>),t.lazyLoad=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.onBefore({<span class="code-attr">entering</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!!t.lazyLoad}},_n)}(<span class="code-keyword">this</span>)},On);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">On</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._transitionCount=<span class="code-number">0</span>,<span class="code-keyword">this</span>._eventTypes=[],<span class="code-keyword">this</span>._registeredHooks={},<span class="code-keyword">this</span>._criteriaPaths={},<span class="code-keyword">this</span>._router=t,<span class="code-keyword">this</span>.$view=t.viewService,<span class="code-keyword">this</span>._deregisterHookFns={},<span class="code-keyword">this</span>._pluginapi=J(p(<span class="code-keyword">this</span>),{},p(<span class="code-keyword">this</span>),[<span class="code-string">"_definePathType"</span>,<span class="code-string">"_defineEvent"</span>,<span class="code-string">"_getPathTypes"</span>,<span class="code-string">"_getEvents"</span>,<span class="code-string">"getHooks"</span>]),<span class="code-keyword">this</span>._defineCorePaths(),<span class="code-keyword">this</span>._defineCoreEvents(),<span class="code-keyword">this</span>._registerCoreTransitionHooks(),t.globals.successfulTransitions.onEvict(cn)}<span class="code-keyword">var</span> xn=(<span class="code-built_in">Object</span>.defineProperty(jn.prototype,<span class="code-string">"transition"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.router.globals.transition},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(jn.prototype,<span class="code-string">"params"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.router.globals.params},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(jn.prototype,<span class="code-string">"current"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.router.globals.current},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(jn.prototype,<span class="code-string">"$current"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.router.globals.$current},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),jn.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.defaultErrorHandler(W),<span class="code-keyword">this</span>.invalidCallbacks=[]},jn.prototype._handleInvalidTargetState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.transitionHistory.peekTail()}<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,o=qe.makeTargetState(<span class="code-keyword">this</span>.router.stateRegistry,t),e=<span class="code-keyword">this</span>.router.globals,a=n(),u=<span class="code-keyword">new</span> Dt(<span class="code-keyword">this</span>.invalidCallbacks.slice()),s=<span class="code-keyword">new</span> Je(t).injector(),c=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(t <span class="code-keyword">instanceof</span> Ae){<span class="code-keyword">var</span> e=t;<span class="code-keyword">return</span>(e=i.target(e.identifier(),e.params(),e.options())).valid()?n()!==a?Ft.superseded().toPromise():i.transitionTo(e.identifier(),e.params(),e.options()):Ft.invalid(e.error()).toPromise()}};<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=u.dequeue();<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t?Ft.invalid(r.error()).toPromise():D.$q.when(t(r,o,s)).then(c).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t||e()})}()},jn.prototype.onInvalid=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.invalidCallbacks.push(t),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Z(<span class="code-keyword">this</span>.invalidCallbacks)(t)}.bind(<span class="code-keyword">this</span>)},jn.prototype.reload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.transitionTo(<span class="code-keyword">this</span>.current,<span class="code-keyword">this</span>.params,{<span class="code-attr">reload</span>:!E(t)||t,<span class="code-attr">inherit</span>:!<span class="code-number">1</span>,<span class="code-attr">notify</span>:!<span class="code-number">1</span>})},jn.prototype.go=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=nt(r,{<span class="code-attr">relative</span>:<span class="code-keyword">this</span>.$current,<span class="code-attr">inherit</span>:!<span class="code-number">0</span>},Pn);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.transitionTo(t,e,n)},jn.prototype.target=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={}),O(r.reload)&amp;&amp;!r.reload.name)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid reload state object"</span>);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.router.stateRegistry;<span class="code-keyword">if</span>(r.reloadState=!<span class="code-number">0</span>===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&amp;&amp;!r.reloadState)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"No such reload state '"</span>+(k(r.reload)?r.reload:r.reload.name)+<span class="code-string">"'"</span>);<span class="code-keyword">return</span> <span class="code-keyword">new</span> Ae(<span class="code-keyword">this</span>.router.stateRegistry,t,e,r)},jn.prototype.getCurrentPath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,e=<span class="code-keyword">this</span>.router.globals.successfulTransitions.peekTail();<span class="code-keyword">return</span> e?e.treeChanges().to:[<span class="code-keyword">new</span> He(t.router.stateRegistry.root())]},jn.prototype.transitionTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={});<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.router,u=a.globals;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> u.transition}r=nt(r,Pn),r=B(r,{<span class="code-attr">current</span>:n});<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.target(t,e,r),s=<span class="code-keyword">this</span>.getCurrentPath();<span class="code-keyword">if</span>(!i.exists())<span class="code-keyword">return</span> <span class="code-keyword">this</span>._handleInvalidTargetState(s,i);<span class="code-keyword">if</span>(!i.valid())<span class="code-keyword">return</span> Vt(i.error());<span class="code-keyword">if</span>(!<span class="code-number">1</span>===r.supercede&amp;&amp;n())<span class="code-keyword">return</span> Ft.ignored(<span class="code-string">"Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress."</span>).toPromise();<span class="code-keyword">var</span> c=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(t <span class="code-keyword">instanceof</span> Ft){<span class="code-keyword">var</span> e=a.globals.lastStartedTransitionId&lt;=i.$id;<span class="code-keyword">if</span>(t.type===d.RejectType.IGNORED)<span class="code-keyword">return</span> e&amp;&amp;a.urlRouter.update(),D.$q.when(u.current);<span class="code-keyword">var</span> r=t.detail;<span class="code-keyword">if</span>(t.type===d.RejectType.SUPERSEDED&amp;&amp;t.redirected&amp;&amp;r <span class="code-keyword">instanceof</span> Ae){<span class="code-keyword">var</span> n=i.redirect(r);<span class="code-keyword">return</span> n.run().catch(c(n))}<span class="code-keyword">if</span>(t.type===d.RejectType.ABORTED)<span class="code-keyword">return</span> e&amp;&amp;a.urlRouter.update(),D.$q.reject(t)}<span class="code-keyword">return</span> o.defaultErrorHandler()(t),D.$q.reject(t)}},f=<span class="code-keyword">this</span>.router.transitionService.create(s,i),l=f.run().catch(c(f));<span class="code-keyword">return</span> jt(l),B(l,{<span class="code-attr">transition</span>:f})},jn.prototype.is=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{r=nt(r,{<span class="code-attr">relative</span>:<span class="code-keyword">this</span>.$current});<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.router.stateRegistry.matcher.find(t,r.relative);<span class="code-keyword">if</span>(E(n)){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.$current!==n)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> i=n.parameters({<span class="code-attr">inherit</span>:!<span class="code-number">0</span>,<span class="code-attr">matchingKeys</span>:e});<span class="code-keyword">return</span> Te.equals(i,Te.values(i,e),<span class="code-keyword">this</span>.params)}},jn.prototype.includes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{r=nt(r,{<span class="code-attr">relative</span>:<span class="code-keyword">this</span>.$current});<span class="code-keyword">var</span> n=k(t)&amp;&amp;Ht.fromString(t);<span class="code-keyword">if</span>(n){<span class="code-keyword">if</span>(!n.matches(<span class="code-keyword">this</span>.$current.name))<span class="code-keyword">return</span>!<span class="code-number">1</span>;t=<span class="code-keyword">this</span>.$current.name}<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.router.stateRegistry.matcher.find(t,r.relative),o=<span class="code-keyword">this</span>.$current.includes;<span class="code-keyword">if</span>(E(i)){<span class="code-keyword">if</span>(!E(o[i.name]))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> a=i.parameters({<span class="code-attr">inherit</span>:!<span class="code-number">0</span>,<span class="code-attr">matchingKeys</span>:e});<span class="code-keyword">return</span> Te.equals(a,Te.values(a,e),<span class="code-keyword">this</span>.params)}},jn.prototype.href=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{r=nt(r,{<span class="code-attr">lossy</span>:!<span class="code-number">0</span>,<span class="code-attr">inherit</span>:!<span class="code-number">0</span>,<span class="code-attr">absolute</span>:!<span class="code-number">1</span>,<span class="code-attr">relative</span>:<span class="code-keyword">this</span>.$current}),e=e||{};<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.router.stateRegistry.matcher.find(t,r.relative);<span class="code-keyword">if</span>(!E(n))<span class="code-keyword">return</span> <span class="code-literal">null</span>;r.inherit&amp;&amp;(e=<span class="code-keyword">this</span>.params.$inherit(e,<span class="code-keyword">this</span>.$current,n));<span class="code-keyword">var</span> i=n&amp;&amp;r.lossy?n.navigable:n;<span class="code-keyword">return</span> i&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==i.url&amp;&amp;<span class="code-literal">null</span>!==i.url?<span class="code-keyword">this</span>.router.urlRouter.href(i.url,e,{<span class="code-attr">absolute</span>:r.absolute}):<span class="code-literal">null</span>},jn.prototype.defaultErrorHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._defaultErrorHandler=t||<span class="code-keyword">this</span>._defaultErrorHandler},jn.prototype.get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.router.stateRegistry;<span class="code-keyword">return</span> <span class="code-number">0</span>===<span class="code-built_in">arguments</span>.length?r.get():r.get(t,e||<span class="code-keyword">this</span>.$current)},jn.prototype.lazyLoad=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.get(t);<span class="code-keyword">if</span>(!r||!r.lazyLoad)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Can not lazy load "</span>+t);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.getCurrentPath(),i=qe.makeTargetState(<span class="code-keyword">this</span>.router.stateRegistry,n);<span class="code-keyword">return</span> Rn(e=e||<span class="code-keyword">this</span>.router.transitionService.create(n,i),r)},jn);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.router=t,<span class="code-keyword">this</span>.invalidCallbacks=[],<span class="code-keyword">this</span>._defaultErrorHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>&amp;&amp;t.stack?(<span class="code-built_in">console</span>.error(t),<span class="code-built_in">console</span>.error(t.stack)):t <span class="code-keyword">instanceof</span> Ft?(<span class="code-built_in">console</span>.error(t.toString()),t.detail&amp;&amp;t.detail.stack&amp;&amp;<span class="code-built_in">console</span>.error(t.detail.stack)):<span class="code-built_in">console</span>.error(t)};<span class="code-keyword">var</span> e=<span class="code-built_in">Object</span>.keys(jn.prototype).filter(l(K([<span class="code-string">"current"</span>,<span class="code-string">"$current"</span>,<span class="code-string">"params"</span>,<span class="code-string">"transition"</span>])));J(p(jn.prototype),<span class="code-keyword">this</span>,p(<span class="code-keyword">this</span>),e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vn</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=e[<span class="code-number">0</span>],n=e[<span class="code-number">1</span>];<span class="code-keyword">return</span> t.hasOwnProperty(r)?x(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n,t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.split(<span class="code-string">"&amp;"</span>).filter(z).map(re).reduce(Vn,{})}<span class="code-keyword">var</span> In={<span class="code-attr">when</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t(r)})},<span class="code-attr">reject</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e(r)})},<span class="code-attr">defer</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> r={};<span class="code-keyword">return</span> r.promise=<span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{r.resolve=t,r.reject=e}),r},<span class="code-attr">all</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(x(t))<span class="code-keyword">return</span> <span class="code-built_in">Promise</span>.all(t);<span class="code-keyword">if</span>(O(t)){<span class="code-keyword">var</span> e=<span class="code-built_in">Object</span>.keys(t).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t[e].then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">key</span>:e,<span class="code-attr">val</span>:t}})});<span class="code-keyword">return</span> In.all(e).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t[e.key]=e.val,t},{})})}}},An={},Dn=<span class="code-regexp">/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm</span>,qn=<span class="code-regexp">/([^\s,]+)/g</span>,Un={<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> An[t]},<span class="code-attr">has</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!=Un.get(t)},<span class="code-attr">invoke</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=B({},An,r||{}),i=Un.annotate(t),o=$t(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n.hasOwnProperty(t)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"DI can't find injectable: '"</span>+t+<span class="code-string">"'"</span>}),a=i.filter(o).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> n[t]});<span class="code-keyword">return</span> T(t)?t.apply(e,a):t.slice(<span class="code-number">-1</span>)[<span class="code-number">0</span>].apply(e,a)},<span class="code-attr">annotate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!H(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Not an injectable function: "</span>+t);<span class="code-keyword">if</span>(t&amp;&amp;t.$inject)<span class="code-keyword">return</span> t.$inject;<span class="code-keyword">if</span>(x(t))<span class="code-keyword">return</span> t.slice(<span class="code-number">0</span>,<span class="code-number">-1</span>);<span class="code-keyword">var</span> e=t.toString().replace(Dn,<span class="code-string">""</span>);<span class="code-keyword">return</span> e.slice(e.indexOf(<span class="code-string">"("</span>)+<span class="code-number">1</span>,e.indexOf(<span class="code-string">")"</span>)).match(qn)||[]}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fn</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t||<span class="code-string">""</span>}<span class="code-keyword">var</span> r=te(t).map(e),n=r[<span class="code-number">0</span>],i=r[<span class="code-number">1</span>],o=ee(n).map(e);<span class="code-keyword">return</span>{<span class="code-attr">path</span>:o[<span class="code-number">0</span>],<span class="code-attr">search</span>:o[<span class="code-number">1</span>],<span class="code-attr">hash</span>:i,<span class="code-attr">url</span>:t}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.path(),r=t.search(),n=t.hash(),i=<span class="code-built_in">Object</span>.keys(r).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=r[e];<span class="code-keyword">return</span>(x(t)?t:[t]).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e+<span class="code-string">"="</span>+t})}).reduce(mt,[]).join(<span class="code-string">"&amp;"</span>);<span class="code-keyword">return</span> e+(i?<span class="code-string">"?"</span>+i:<span class="code-string">""</span>)+(n?<span class="code-string">"#"</span>+n:<span class="code-string">""</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ln</span>(<span class="code-params">n,i,o,a</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.locationService=<span class="code-keyword">new</span> o(t),r=t.locationConfig=<span class="code-keyword">new</span> a(t,i);<span class="code-keyword">return</span>{<span class="code-attr">name</span>:n,<span class="code-attr">service</span>:e,<span class="code-attr">configuration</span>:r,<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.dispose(e),t.dispose(r)}}}}<span class="code-keyword">var</span> Mn=(Bn.prototype.url=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">0</span>),E(e)&amp;&amp;e!==<span class="code-keyword">this</span>._get()&amp;&amp;(<span class="code-keyword">this</span>._set(<span class="code-literal">null</span>,<span class="code-literal">null</span>,e,t),<span class="code-keyword">this</span>.fireAfterUpdate&amp;&amp;<span class="code-keyword">this</span>._listeners.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t({<span class="code-attr">url</span>:e})})),Nn(<span class="code-keyword">this</span>)},Bn.prototype.onChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>._listeners.push(t),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Z(e._listeners,t)}},Bn.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{rt(<span class="code-keyword">this</span>._listeners)},Bn);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bn</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.fireAfterUpdate=e,<span class="code-keyword">this</span>._listeners=[],<span class="code-keyword">this</span>._listener=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r._listeners.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t(e)})},<span class="code-keyword">this</span>.hash=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Fn(r._get()).hash},<span class="code-keyword">this</span>.path=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Fn(r._get()).path},<span class="code-keyword">this</span>.search=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Hn(Fn(r._get()).search)},<span class="code-keyword">this</span>._location=U.location,<span class="code-keyword">this</span>._history=U.history}<span class="code-keyword">var</span> Gn,zn,Wn=((Gn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(Gn=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.__proto__=e}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(t,e)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=t}Gn(t,e),t.prototype=<span class="code-literal">null</span>===e?<span class="code-built_in">Object</span>.create(e):(r.prototype=e.prototype,<span class="code-keyword">new</span> r)})(Jn,zn=Mn),Jn.prototype._get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Zt(<span class="code-keyword">this</span>._location.hash)},Jn.prototype._set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">this</span>._location.hash=r},Jn.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{zn.prototype.dispose.call(<span class="code-keyword">this</span>,t),U.removeEventListener(<span class="code-string">"hashchange"</span>,<span class="code-keyword">this</span>._listener)},Jn);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Jn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=zn.call(<span class="code-keyword">this</span>,t,!<span class="code-number">1</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> U.addEventListener(<span class="code-string">"hashchange"</span>,e._listener,!<span class="code-number">1</span>),e}<span class="code-keyword">var</span> Qn,Kn,Yn=((Qn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(Qn=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.__proto__=e}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(t,e)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=t}Qn(t,e),t.prototype=<span class="code-literal">null</span>===e?<span class="code-built_in">Object</span>.create(e):(r.prototype=e.prototype,<span class="code-keyword">new</span> r)})(Zn,Kn=Mn),Zn.prototype._get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._url},Zn.prototype._set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">this</span>._url=r},Zn);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Kn.call(<span class="code-keyword">this</span>,t,!<span class="code-number">0</span>)||<span class="code-keyword">this</span>}<span class="code-keyword">var</span> Xn,ti,ei=((Xn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(Xn=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.__proto__=e}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(t,e)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=t}Xn(t,e),t.prototype=<span class="code-literal">null</span>===e?<span class="code-built_in">Object</span>.create(e):(r.prototype=e.prototype,<span class="code-keyword">new</span> r)})(ri,ti=Mn),ri.prototype._getBasePrefix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Yt(<span class="code-keyword">this</span>._config.baseHref())},ri.prototype._get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._location,e=t.pathname,r=t.hash,n=t.search;n=ee(n)[<span class="code-number">1</span>],r=te(r)[<span class="code-number">1</span>];<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>._getBasePrefix(),o=e===<span class="code-keyword">this</span>._config.baseHref(),a=e.substr(<span class="code-number">0</span>,i.length)===i;<span class="code-keyword">return</span>(e=o?<span class="code-string">"/"</span>:a?e.substring(i.length):e)+(n?<span class="code-string">"?"</span>+n:<span class="code-string">""</span>)+(r?<span class="code-string">"#"</span>+r:<span class="code-string">""</span>)},ri.prototype._set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,n</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>._getBasePrefix(),o=r&amp;&amp;<span class="code-string">"/"</span>!==r[<span class="code-number">0</span>]?<span class="code-string">"/"</span>:<span class="code-string">""</span>,a=<span class="code-string">""</span>===r||<span class="code-string">"/"</span>===r?<span class="code-keyword">this</span>._config.baseHref():i+o+r;n?<span class="code-keyword">this</span>._history.replaceState(t,e,a):<span class="code-keyword">this</span>._history.pushState(t,e,a)},ri.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{ti.prototype.dispose.call(<span class="code-keyword">this</span>,t),U.removeEventListener(<span class="code-string">"popstate"</span>,<span class="code-keyword">this</span>._listener)},ri);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ri</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=ti.call(<span class="code-keyword">this</span>,t,!<span class="code-number">0</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e._config=t.urlService.config,U.addEventListener(<span class="code-string">"popstate"</span>,e._listener,!<span class="code-number">1</span>),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ni</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.dispose=W,<span class="code-keyword">this</span>._baseHref=<span class="code-string">""</span>,<span class="code-keyword">this</span>._port=<span class="code-number">80</span>,<span class="code-keyword">this</span>._protocol=<span class="code-string">"http"</span>,<span class="code-keyword">this</span>._host=<span class="code-string">"localhost"</span>,<span class="code-keyword">this</span>._hashPrefix=<span class="code-string">""</span>,<span class="code-keyword">this</span>.port=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e._port},<span class="code-keyword">this</span>.protocol=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e._protocol},<span class="code-keyword">this</span>.host=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e._host},<span class="code-keyword">this</span>.baseHref=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e._baseHref},<span class="code-keyword">this</span>.html5Mode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">1</span>},<span class="code-keyword">this</span>.hashPrefix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> E(t)?e._hashPrefix=t:e._hashPrefix}}<span class="code-keyword">var</span> ii=(oi.prototype.port=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> location.port?<span class="code-built_in">Number</span>(location.port):<span class="code-string">"https"</span>===<span class="code-keyword">this</span>.protocol()?<span class="code-number">443</span>:<span class="code-number">80</span>},oi.prototype.protocol=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> location.protocol.replace(<span class="code-regexp">/:/g</span>,<span class="code-string">""</span>)},oi.prototype.host=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> location.hostname},oi.prototype.html5Mode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isHtml5},oi.prototype.hashPrefix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> E(t)?<span class="code-keyword">this</span>._hashPrefix=t:<span class="code-keyword">this</span>._hashPrefix},oi.prototype.baseHref=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> E(t)&amp;&amp;(<span class="code-keyword">this</span>._baseHref=t),$(<span class="code-keyword">this</span>._baseHref)&amp;&amp;(<span class="code-keyword">this</span>._baseHref=<span class="code-keyword">this</span>.getBaseHref()),<span class="code-keyword">this</span>._baseHref},oi.prototype.getBaseHref=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">document</span>.getElementsByTagName(<span class="code-string">"base"</span>)[<span class="code-number">0</span>];<span class="code-keyword">return</span> t&amp;&amp;t.href?t.href.replace(<span class="code-regexp">/^([^/:]*:)?\/\/[^/]*/</span>,<span class="code-string">""</span>):<span class="code-keyword">this</span>._isHtml5?<span class="code-string">"/"</span>:location.pathname||<span class="code-string">"/"</span>},oi.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},oi);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=!<span class="code-number">1</span>),<span class="code-keyword">this</span>._isHtml5=e,<span class="code-keyword">this</span>._baseHref=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>._hashPrefix=<span class="code-string">""</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ai</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> D.$injector=Un,{<span class="code-attr">name</span>:<span class="code-string">"vanilla.services"</span>,<span class="code-attr">$q</span>:D.$q=In,<span class="code-attr">$injector</span>:Un,<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>}}}<span class="code-keyword">var</span> ui=Ln(<span class="code-string">"vanilla.hashBangLocation"</span>,!<span class="code-number">1</span>,Wn,ii),si=Ln(<span class="code-string">"vanilla.pushStateLocation"</span>,!<span class="code-number">0</span>,ei,ii),ci=Ln(<span class="code-string">"vanilla.memoryLocation"</span>,!<span class="code-number">1</span>,Yn,ni),fi=(li.prototype.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{},li);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">li</span>(<span class="code-params"></span>)</span>{}<span class="code-keyword">var</span> hi=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">root</span>:U,<span class="code-attr">fromJson</span>:N,<span class="code-attr">toJson</span>:L,<span class="code-attr">forEach</span>:M,<span class="code-attr">extend</span>:B,<span class="code-attr">equals</span>:G,<span class="code-attr">identity</span>:z,<span class="code-attr">noop</span>:W,<span class="code-attr">createProxyFunctions</span>:J,<span class="code-attr">inherit</span>:Q,<span class="code-attr">inArray</span>:K,<span class="code-attr">_inArray</span>:Y,<span class="code-attr">removeFrom</span>:Z,<span class="code-attr">_removeFrom</span>:X,<span class="code-attr">pushTo</span>:tt,<span class="code-attr">_pushTo</span>:et,<span class="code-attr">deregAll</span>:rt,<span class="code-attr">defaults</span>:nt,<span class="code-attr">mergeR</span>:it,<span class="code-attr">ancestors</span>:ot,<span class="code-attr">pick</span>:at,<span class="code-attr">omit</span>:ut,<span class="code-attr">pluck</span>:st,<span class="code-attr">filter</span>:ct,<span class="code-attr">find</span>:ft,<span class="code-attr">mapObj</span>:lt,<span class="code-attr">map</span>:ht,<span class="code-attr">values</span>:pt,<span class="code-attr">allTrueR</span>:vt,<span class="code-attr">anyTrueR</span>:dt,<span class="code-attr">unnestR</span>:mt,<span class="code-attr">flattenR</span>:yt,<span class="code-attr">pushR</span>:gt,<span class="code-attr">uniqR</span>:wt,<span class="code-attr">unnest</span>:_t,<span class="code-attr">flatten</span>:St,<span class="code-attr">assertPredicate</span>:$t,<span class="code-attr">assertMap</span>:bt,<span class="code-attr">assertFn</span>:Rt,<span class="code-attr">pairs</span>:Et,<span class="code-attr">arrayTuples</span>:Ct,<span class="code-attr">applyPairs</span>:Tt,<span class="code-attr">tail</span>:Pt,<span class="code-attr">copy</span>:kt,<span class="code-attr">_extend</span>:Ot,<span class="code-attr">silenceUncaughtInPromise</span>:jt,<span class="code-attr">silentRejection</span>:Vt,<span class="code-attr">makeStub</span>:I,<span class="code-attr">services</span>:D,<span class="code-attr">Glob</span>:Ht,<span class="code-attr">curry</span>:s,<span class="code-attr">compose</span>:r,<span class="code-attr">pipe</span>:c,<span class="code-attr">prop</span>:m,<span class="code-attr">propEq</span>:y,<span class="code-attr">parse</span>:R,<span class="code-attr">not</span>:l,<span class="code-attr">and</span>:i,<span class="code-attr">or</span>:u,<span class="code-attr">all</span>:a,<span class="code-attr">any</span>:f,<span class="code-attr">is</span>:h,<span class="code-attr">eq</span>:o,<span class="code-attr">val</span>:p,<span class="code-attr">invoke</span>:v,<span class="code-attr">pattern</span>:g,<span class="code-attr">isUndefined</span>:$,<span class="code-attr">isDefined</span>:E,<span class="code-attr">isNull</span>:_,<span class="code-attr">isNullOrUndefined</span>:C,<span class="code-attr">isFunction</span>:T,<span class="code-attr">isNumber</span>:P,<span class="code-attr">isString</span>:k,<span class="code-attr">isObject</span>:O,<span class="code-attr">isArray</span>:x,<span class="code-attr">isDate</span>:j,<span class="code-attr">isRegExp</span>:V,<span class="code-attr">isInjectable</span>:H,<span class="code-attr">isPromise</span>:A,<span class="code-attr">Queue</span>:Dt,<span class="code-attr">maxLength</span>:Lt,<span class="code-attr">padString</span>:Mt,<span class="code-attr">kebobString</span>:Bt,<span class="code-attr">functionToString</span>:Gt,<span class="code-attr">fnToString</span>:zt,<span class="code-attr">stringify</span>:Qt,<span class="code-attr">beforeAfterSubstr</span>:Kt,<span class="code-attr">hostRegex</span>:Xt,<span class="code-attr">stripLastPathElement</span>:Yt,<span class="code-attr">splitHash</span>:te,<span class="code-attr">splitQuery</span>:ee,<span class="code-attr">splitEqual</span>:re,<span class="code-attr">trimHashVal</span>:Zt,<span class="code-attr">splitOnDelim</span>:ne,<span class="code-attr">joinNeighborsR</span>:ie,<span class="code-keyword">get</span> Category(){<span class="code-keyword">return</span> d.Category},<span class="code-attr">Trace</span>:ye,<span class="code-attr">trace</span>:we,<span class="code-keyword">get</span> DefType(){<span class="code-keyword">return</span> d.DefType},<span class="code-attr">Param</span>:Te,<span class="code-attr">ParamTypes</span>:ke,<span class="code-attr">StateParams</span>:je,<span class="code-attr">ParamType</span>:_e,<span class="code-attr">PathNode</span>:He,<span class="code-attr">PathUtils</span>:qe,<span class="code-attr">resolvePolicies</span>:Fe,<span class="code-attr">defaultResolvePolicy</span>:Ne,<span class="code-attr">Resolvable</span>:Le,<span class="code-attr">NATIVE_INJECTOR_TOKEN</span>:We,<span class="code-attr">ResolveContext</span>:Je,<span class="code-attr">resolvablesBuilder</span>:ir,<span class="code-attr">StateBuilder</span>:or,<span class="code-attr">StateObject</span>:ur,<span class="code-attr">StateMatcher</span>:cr,<span class="code-attr">StateQueueManager</span>:lr,<span class="code-attr">StateRegistry</span>:dr,<span class="code-attr">StateService</span>:xn,<span class="code-attr">TargetState</span>:Ae,<span class="code-keyword">get</span> TransitionHookPhase(){<span class="code-keyword">return</span> d.TransitionHookPhase},<span class="code-keyword">get</span> TransitionHookScope(){<span class="code-keyword">return</span> d.TransitionHookScope},<span class="code-attr">HookBuilder</span>:Rr,<span class="code-attr">matchState</span>:_r,<span class="code-attr">RegisteredHook</span>:Sr,<span class="code-attr">makeEvent</span>:br,<span class="code-keyword">get</span> RejectType(){<span class="code-keyword">return</span> d.RejectType},<span class="code-attr">Rejection</span>:Ft,<span class="code-attr">Transition</span>:Tr,<span class="code-attr">TransitionHook</span>:gr,<span class="code-attr">TransitionEventType</span>:En,<span class="code-attr">defaultTransOpts</span>:Pn,<span class="code-attr">TransitionService</span>:kn,<span class="code-attr">UrlRules</span>:Kr,<span class="code-attr">UrlConfig</span>:Zr,<span class="code-attr">UrlMatcher</span>:jr,<span class="code-attr">ParamFactory</span>:Ir,<span class="code-attr">UrlMatcherFactory</span>:Dr,<span class="code-attr">UrlRouter</span>:Lr,<span class="code-attr">UrlRuleFactory</span>:Ur,<span class="code-attr">BaseUrlRule</span>:Nr,<span class="code-attr">UrlService</span>:tn,<span class="code-attr">ViewService</span>:Br,<span class="code-attr">UIRouterGlobals</span>:zr,<span class="code-attr">UIRouter</span>:an,<span class="code-attr">$q</span>:In,<span class="code-attr">$injector</span>:Un,<span class="code-attr">BaseLocationServices</span>:Mn,<span class="code-attr">HashLocationService</span>:Wn,<span class="code-attr">MemoryLocationService</span>:Yn,<span class="code-attr">PushStateLocationService</span>:ei,<span class="code-attr">MemoryLocationConfig</span>:ni,<span class="code-attr">BrowserLocationConfig</span>:ii,<span class="code-attr">keyValsToObjectR</span>:Vn,<span class="code-attr">getParams</span>:Hn,<span class="code-attr">parseUrl</span>:Fn,<span class="code-attr">buildUrl</span>:Nn,<span class="code-attr">locationPluginFactory</span>:Ln,<span class="code-attr">servicesPlugin</span>:ai,<span class="code-attr">hashLocationPlugin</span>:ui,<span class="code-attr">pushStateLocationPlugin</span>:si,<span class="code-attr">memoryLocationPlugin</span>:ci,<span class="code-attr">UIRouterPluginBase</span>:fi});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pi</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> r=<span class="code-literal">null</span>;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> r=r||D.$injector.get(<span class="code-string">"$templateFactory"</span>),[<span class="code-keyword">new</span> yi(t,e,r)]}}<span class="code-keyword">var</span> vi=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,r</span>)</span>{<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t||E(r[e])},!<span class="code-number">1</span>)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">di</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">if</span>(!n.parent)<span class="code-keyword">return</span>{};<span class="code-keyword">var</span> i=[<span class="code-string">"component"</span>,<span class="code-string">"bindings"</span>,<span class="code-string">"componentProvider"</span>],o=[<span class="code-string">"templateProvider"</span>,<span class="code-string">"templateUrl"</span>,<span class="code-string">"template"</span>,<span class="code-string">"notify"</span>,<span class="code-string">"async"</span>].concat([<span class="code-string">"controller"</span>,<span class="code-string">"controllerProvider"</span>,<span class="code-string">"controllerAs"</span>,<span class="code-string">"resolveAs"</span>]),t=i.concat(o);<span class="code-keyword">if</span>(E(n.views)&amp;&amp;vi(t,n))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"State '"</span>+n.name+<span class="code-string">"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "</span>+t.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> E(n[t])}).join(<span class="code-string">", "</span>));<span class="code-keyword">var</span> a={},e=n.views||{<span class="code-attr">$default</span>:at(n,t)};<span class="code-keyword">return</span> M(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(e=e||<span class="code-string">"$default"</span>,k(t)&amp;&amp;(t={<span class="code-attr">component</span>:t}),t=B({},t),vi(i,t)&amp;&amp;vi(o,t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot combine: "</span>+i.join(<span class="code-string">"|"</span>)+<span class="code-string">" with: "</span>+o.join(<span class="code-string">"|"</span>)+<span class="code-string">" in stateview: '"</span>+e+<span class="code-string">"@"</span>+n.name+<span class="code-string">"'"</span>);t.resolveAs=t.resolveAs||<span class="code-string">"$resolve"</span>,t.$type=<span class="code-string">"ng1"</span>,t.$context=n,t.$name=e;<span class="code-keyword">var</span> r=Br.normalizeUIViewTarget(t.$context,t.$name);t.$uiViewName=r.uiViewName,t.$uiViewContextAnchor=r.uiViewContextAnchor,a[e]=t}),a}<span class="code-keyword">var</span> mi=<span class="code-number">0</span>,yi=(gi.prototype.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=D.$q,r=<span class="code-keyword">new</span> Je(<span class="code-keyword">this</span>.path),n=<span class="code-keyword">this</span>.path.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> B(t,e.paramValues)},{}),i={<span class="code-attr">template</span>:t.when(<span class="code-keyword">this</span>.factory.fromConfig(<span class="code-keyword">this</span>.viewDecl,n,r)),<span class="code-attr">controller</span>:t.when(<span class="code-keyword">this</span>.getController(r))};<span class="code-keyword">return</span> t.all(i).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> we.traceViewServiceEvent(<span class="code-string">"Loaded"</span>,e),e.controller=t.controller,B(e,t.template),e})},gi.prototype.getController=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.viewDecl.controllerProvider;<span class="code-keyword">if</span>(!H(e))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.viewDecl.controller;<span class="code-keyword">var</span> r=D.$injector.annotate(e),n=x(e)?Pt(e):e;<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(<span class="code-string">""</span>,n,r).get(t)},gi);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gi</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.path=t,<span class="code-keyword">this</span>.viewDecl=e,<span class="code-keyword">this</span>.factory=r,<span class="code-keyword">this</span>.$id=mi++,<span class="code-keyword">this</span>.loaded=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.getTemplate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> n.component?n.factory.makeComponentTemplate(t,e,n.component,n.viewDecl.bindings):n.template}}<span class="code-keyword">var</span> wi=(_i.prototype.useHttpService=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._useHttp=t},_i.prototype.fromConfig=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> D.$q.when(t).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">template</span>:t}})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> D.$q.when(t).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">component</span>:t}})}<span class="code-keyword">return</span> E(t.template)?n(<span class="code-keyword">this</span>.fromString(t.template,e)):E(t.templateUrl)?n(<span class="code-keyword">this</span>.fromUrl(t.templateUrl,e)):E(t.templateProvider)?n(<span class="code-keyword">this</span>.fromProvider(t.templateProvider,e,r)):E(t.component)?i(t.component):E(t.componentProvider)?i(<span class="code-keyword">this</span>.fromComponentProvider(t.componentProvider,e,r)):n(<span class="code-string">"&lt;ui-view&gt;&lt;/ui-view&gt;"</span>)},_i.prototype.fromString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> T(t)?t(e):t},_i.prototype.fromUrl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> T(t)&amp;&amp;(t=t(e)),<span class="code-literal">null</span>==t?<span class="code-literal">null</span>:<span class="code-keyword">this</span>._useHttp?<span class="code-keyword">this</span>.$http.get(t,{<span class="code-attr">cache</span>:<span class="code-keyword">this</span>.$templateCache,<span class="code-attr">headers</span>:{<span class="code-attr">Accept</span>:<span class="code-string">"text/html"</span>}}).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.data}):<span class="code-keyword">this</span>.$templateRequest(t)},_i.prototype.fromProvider=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=D.$injector.annotate(t),i=x(t)?Pt(t):t;<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(<span class="code-string">""</span>,i,n).get(r)},_i.prototype.fromComponentProvider=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{<span class="code-keyword">var</span> n=D.$injector.annotate(t),i=x(t)?Pt(t):t;<span class="code-keyword">return</span> <span class="code-keyword">new</span> Le(<span class="code-string">""</span>,i,n).get(r)},_i.prototype.makeComponentTemplate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s,c,t,f</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Bt(t);<span class="code-keyword">return</span><span class="code-regexp">/^(x|data)-/</span>.exec(e)?<span class="code-string">"x-"</span>+e:e}f=f||{};<span class="code-keyword">var</span> h=<span class="code-number">3</span>&lt;=b.version.minor?<span class="code-string">"::"</span>:<span class="code-string">""</span>,e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=D.$injector.get(t+<span class="code-string">"Directive"</span>);<span class="code-keyword">if</span>(!e||!e.length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unable to find component named '"</span>+t+<span class="code-string">"'"</span>);<span class="code-keyword">return</span> e.map(Si).reduce(mt,[])}(t).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.name,r=t.type,n=l(e);<span class="code-keyword">if</span>(s.attr(n)&amp;&amp;!f[e])<span class="code-keyword">return</span> n+<span class="code-string">"='"</span>+s.attr(n)+<span class="code-string">"'"</span>;<span class="code-keyword">var</span> i=f[e]||e;<span class="code-keyword">if</span>(<span class="code-string">"@"</span>===r)<span class="code-keyword">return</span> n+<span class="code-string">"='{{"</span>+h+<span class="code-string">"$resolve."</span>+i+<span class="code-string">"}}'"</span>;<span class="code-keyword">if</span>(<span class="code-string">"&amp;"</span>!==r)<span class="code-keyword">return</span> n+<span class="code-string">"='"</span>+h+<span class="code-string">"$resolve."</span>+i+<span class="code-string">"'"</span>;<span class="code-keyword">var</span> o=c.getResolvable(i),a=o&amp;&amp;o.data,u=a&amp;&amp;D.$injector.annotate(a)||[];<span class="code-keyword">return</span> n+<span class="code-string">"='$resolve."</span>+i+(x(a)?<span class="code-string">"["</span>+(a.length<span class="code-number">-1</span>)+<span class="code-string">"]"</span>:<span class="code-string">""</span>)+<span class="code-string">"("</span>+u.join(<span class="code-string">","</span>)+<span class="code-string">")'"</span>}).join(<span class="code-string">" "</span>),r=l(t);<span class="code-keyword">return</span><span class="code-string">"&lt;"</span>+r+<span class="code-string">" "</span>+e+<span class="code-string">"&gt;&lt;/"</span>+r+<span class="code-string">"&gt;"</span>},_i);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_i</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>._useHttp=b.version.minor&lt;<span class="code-number">3</span>,<span class="code-keyword">this</span>.$<span class="code-keyword">get</span>=["$http","$templateCache","$injector",function(t,e,r){<span class="code-keyword">return</span> n.$templateRequest=r.has&amp;&amp;r.has(<span class="code-string">"$templateRequest"</span>)&amp;&amp;r.get(<span class="code-string">"$templateRequest"</span>),n.$http=t,n.$templateCache=e,n}]}<span class="code-keyword">var</span> Si=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> O(t.bindToController)?$i(t.bindToController):$i(t.scope)},$i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(e||{}).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>[t,/^([=&lt;@&amp;])[?]?(.*)/.exec(e[t])]}).filter(function(t){return E(t)&amp;&amp;x(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},bi=(Ri.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},Ri.prototype.state=function(t,e){return O(t)?e=t:e.name=t,this.stateRegistry.register(e),this},Ri.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},Ri);function Ri(t,e){this.stateRegistry=t,this.stateService=e,J(p(Ri.prototype),this,p(this))}function Ei(r){return function(t,e){var i=t[r],o="onExit"===r?"from":"to";return i?function(t,e){var r=new Je(t.treeChanges(o)).subContext(e.$$state()),n=B(Bi(r),{$state$:e,$transition$:t});return D.$injector.invoke(i,this,n)}:void 0}}var Ci=(Ti.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},Ti.prototype.dispose=function(){},Ti.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return Z(e._urlListeners)(t)}},Ti.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=O(t)?t.enabled:t)&amp;&amp;this.$sniffer.history},Ti.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},Ti.prototype.url=function(t,e,r){return void 0===e&amp;&amp;(e=!1),E(t)&amp;&amp;this.$location.url(t),e&amp;&amp;this.$location.replace(),r&amp;&amp;this.$location.state(r),this.$location.url()},Ti.prototype._runtimeServices=function(t,e,r,n,i){var o=this;this.$location=e,this.$sniffer=r,this.$browser=n,this.$window=i,t.$on("$locationChangeSuccess",function(e){return o._urlListeners.forEach(function(t){return t(e)})});var a=p(e);J(a,this,a,["replace","path","search","hash"]),J(a,this,a,["port","protocol","host"])},Ti);function Ti(t){this._urlListeners=[],this.$locationProvider=t;var e=p(t);J(e,this,e,["hashPrefix"])}var Pi=(ki.injectableHandler=function(e,r){return function(t){return D.$injector.invoke(r,null,{$match:t,$stateParams:e.globals.params})}},ki.prototype.$get=function(){var t=this.router.urlService;return this.router.urlRouter.update(!0),t.interceptDeferred||t.listen(),this.router.urlRouter},ki.prototype.rule=function(t){var e=this;if(!T(t))throw new Error("'rule' must be a function");var r=new Nr(function(){return t(D.$injector,e.router.locationService)},z);return this.router.urlService.rules.rule(r),this},ki.prototype.otherwise=function(t){var e=this,r=this.router.urlService.rules;if(k(t))r.otherwise(t);else{if(!T(t))throw new Error("'rule' must be a string or function");r.otherwise(function(){return t(D.$injector,e.router.locationService)})}return this},ki.prototype.when=function(t,e){return(x(e)||T(e))&amp;&amp;(e=ki.injectableHandler(this.router,e)),this.router.urlService.rules.when(t,e),this},ki.prototype.deferIntercept=function(t){this.router.urlService.deferIntercept(t)},ki);function ki(t){this.router=t}b.module("ui.router.angular1",[]);var Oi=b.module("ui.router.init",["ng"]),xi=b.module("ui.router.util",["ui.router.init"]),ji=b.module("ui.router.router",["ui.router.util"]),Vi=b.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),Hi=b.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Ii=(b.module("ui.router.compat",["ui.router"]),null);function Ai(t){(Ii=this.router=new an).stateProvider=new bi(Ii.stateRegistry,Ii.stateService),Ii.stateRegistry.decorator("views",di),Ii.stateRegistry.decorator("onExit",Ei("onExit")),Ii.stateRegistry.decorator("onRetain",Ei("onRetain")),Ii.stateRegistry.decorator("onEnter",Ei("onEnter")),Ii.viewService._pluginapi._viewConfigFactory("ng1",pi());var u=Ii.locationService=Ii.locationConfig=new Ci(t);function e(t,e,r,n,i,o,a){return u._runtimeServices(i,t,n,e,r),delete Ii.router,delete Ii.$get,Ii}return Ci.monkeyPatchPathParameterType(Ii),((Ii.router=Ii).$get=e).$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],Ii}Ai.$inject=["$locationProvider"];function Di(r){return["$uiRouterProvider",function(t){var e=t.router[r];return e.$get=function(){return e},e}]}function qi(e,t,r){if(D.$injector=e,D.$q=t,!e.hasOwnProperty("strictDi"))try{e.invoke(function(t){})}catch(t){e.strictDi=!!/strict mode/.exec(t&amp;&amp;t.toString())}r.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(mt,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn,e.strictDi)})}qi.$inject=["$injector","$q","$uiRouter"];function Ui(t){t.$watch(function(){we.approximateDigests++})}Ui.$inject=["$rootScope"],Oi.provider("$uiRouter",Ai),ji.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new Pi(t)}]),xi.provider("$urlService",Di("urlService")),xi.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Ii.urlMatcherFactory}]),xi.provider("$templateFactory",function(){return new wi}),Vi.provider("$stateRegistry",Di("stateRegistry")),Vi.provider("$uiRouterGlobals",Di("globals")),Vi.provider("$transitions",Di("transitionService")),Vi.provider("$state",["$uiRouterProvider",function(){return B(Ii.stateProvider,{$get:function(){return Ii.stateService}})}]),Vi.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),Hi.factory("$view",function(){return Ii.viewService}),Hi.service("$trace",function(){return we}),Hi.run(Ui),xi.run(["$urlMatcherFactory",function(t){}]),Vi.run(["$state",function(t){}]),ji.run(["$urlRouter",function(t){}]),Oi.run(qi);var Fi,Ni,Li,Mi,Bi=function(r){return r.getTokens().filter(k).map(function(t){var e=r.getResolvable(t);return[t,"NOWAIT"===r.getPolicy(e).async?e.promise:e.data]}).reduce(Tt,{})};function Gi(t){var e,r=t.match(/^\s*({[^}]*})\s*$/);if(r&amp;&amp;(t="("+r[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function zi(t){var e=t.parent().inheritedData("$uiView"),r=R("$cfg.path")(e);return r?Pt(r).state.name:void 0}function Wi(t,e,r){var n=r.uiState||t.current.name,i=B(function(t,e){return{relative:zi(t)||e.$current,inherit:!0,source:"sref"}}(e,t),r.uiStateOpts||{}),o=t.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function Ji(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function Qi(o,a,u,s,c){return function(t){var e=t.which||t.button,r=c();if(!(1&lt;e||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var n=u(function(){o.attr("disabled")||a.go(r.uiState,r.uiStateParams,r.uiStateOpts)});t.preventDefault();var i=s.isAnchor&amp;&amp;!r.href?1:0;t.preventDefault=function(){i--&lt;=0&amp;&amp;u.cancel(n)}}}}function Ki(i,t,o,e){var a;e&amp;&amp;(a=e.events),x(a)||(a=["click"]);for(var r=i.on?"on":"bind",n=0,u=a;n&lt;u.length;n++){var s=u[n];i[r](s,o)}t.$on("$destroy",function(){for(var t=i.off?"off":"unbind",e=0,r=a;e&lt;r.length;e++){var n=r[e];i[t](n,o)}})}function Yi(n){function t(t,e,r){return n.is(t,e,r)}return t.$stateful=!0,t}function Zi(n){function t(t,e,r){return n.includes(t,e,r)}return t.$stateful=!0,t}function Xi(d,m,y,t,g,e){var w=R("viewDecl.controllerAs"),_=R("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(t){var v=t.html();return t.empty(),function(e,r){var t=r.data("$uiView");if(!t)return r.html(v),void d(r.contents())(e);var n=t.$cfg||{viewDecl:{},getTemplate:W},i=n.path&amp;&amp;new Je(n.path);r.html(n.getTemplate(r,i)||v),we.traceUIViewFill(t.$uiView,r.html());var o=d(r.contents()),a=n.controller,u=w(n),s=_(n),c=i&amp;&amp;Bi(i);if(e[s]=c,a){var f=m(a,B({},c,{$scope:e,$element:r}));u&amp;&amp;(e[u]=f,e[u][s]=c),r.data("$ngControllerController",f),r.children().data("$ngControllerController",f),ro(g,y,f,e,n)}if(k(n.component))var l=Bt(n.component),h=new RegExp("^(x-|data-)?"+l+"$","i"),p=e.$watch(function(){var t=[].slice.call(r[0].children).filter(function(t){return t&amp;&amp;t.tagName&amp;&amp;h.exec(t.tagName)});return t&amp;&amp;b.element(t).data("$"+n.component+"Controller")},function(t){t&amp;&amp;(ro(g,y,t,e,n),p())});o(e)}}}}Fi=["$uiRouter","$timeout",function(h,p){var v=h.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,r,n){function i(){return Wi(v,e,c)}var o,a=Ji(e),u=n[1]||n[0],s=null,c={},f=Gi(r.uiSref);function l(){var t=i();s&amp;&amp;s(),u&amp;&amp;(s=u.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&amp;&amp;r.$set(a.attr,t.href)}c.uiState=f.state,c.uiStateOpts=r.uiSrefOpts?t.$eval(r.uiSrefOpts):{},f.paramExpr&amp;&amp;(t.$watch(f.paramExpr,function(t){c.uiStateParams=B({},t),l()},!0),c.uiStateParams=B({},t.$eval(f.paramExpr))),l(),t.$on("$destroy",h.stateRegistry.onStatesChanged(l)),t.$on("$destroy",h.transitionService.onSuccess({},l)),a.clickable&amp;&amp;(o=Qi(e,v,p,a,i),Ki(e,t,o,c.uiStateOpts))}}}],Ni=["$uiRouter","$timeout",function(p,v){var d=p.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,t,n,e){function i(){return Wi(d,t,c)}var o,a=Ji(t),u=e[1]||e[0],s=null,c={},f=["uiState","uiStateParams","uiStateOpts"],l=f.reduce(function(t,e){return t[e]=W,t},{});function h(){var t=i();s&amp;&amp;s(),u&amp;&amp;(s=u.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&amp;&amp;n.$set(a.attr,t.href)}f.forEach(function(e){c[e]=n[e]?r.$eval(n[e]):null,n.$observe(e,function(t){l[e](),l[e]=r.$watch(t,function(t){c[e]=t,h()},!0)})}),h(),r.$on("$destroy",p.stateRegistry.onStatesChanged(h)),r.$on("$destroy",p.transitionService.onSuccess({},h)),a.clickable&amp;&amp;(o=Qi(t,d,v,a,i),Ki(t,r,o,c.uiStateOpts))}}}],Li=["$state","$stateParams","$interpolate","$uiRouter",function(v,t,d,m){return{restrict:"A",controller:["$scope","$element","$attrs",function(u,s,t){var c,n,e,r,i,f=[];c=d(t.uiSrefActiveEq||"",!1)(u);try{n=u.$eval(t.uiSrefActive)}catch(t){}function o(t){t.promise.then(p,W)}function a(){l(n)}function l(t){O(t)&amp;&amp;(f=[],M(t,function(t,e){function r(t,e){var r=Gi(t);h(r.state,u.$eval(r.paramExpr),e)}k(t)?r(t,e):x(t)&amp;&amp;M(t,function(t){r(t,e)})}))}function h(t,e,r){var n={state:v.get(t,zi(s))||{name:t},params:e,activeClass:r};return f.push(n),function(){Z(f)(n)}}function p(){function e(t){return t.split(/\s/).filter(z)}function t(t){return t.map(function(t){return t.activeClass}).map(e).reduce(mt,[])}var r=t(f).concat(e(c)).reduce(wt,[]),n=t(f.filter(function(t){return v.includes(t.state.name,t.params)})),i=!!f.filter(function(t){return v.is(t.state.name,t.params)}).length?e(c):[],o=n.concat(i).reduce(wt,[]),a=r.filter(function(t){return!K(o,t)});u.$evalAsync(function(){o.forEach(function(t){return s.addClass(t)}),a.forEach(function(t){return s.removeClass(t)})})}l(n=n||d(t.uiSrefActive||"",!1)(u)),this.$$addStateInfo=function(t,e){if(!(O(n)&amp;&amp;0&lt;f.length)){var r=h(t,e,n);return p(),r}},u.$on("$destroy",(e=m.stateRegistry.onStatesChanged(a),r=m.transitionService.onStart({},o),i=u.$on("$stateChangeSuccess",p),function(){e(),r(),i()})),m.globals.transition&amp;&amp;o(m.globals.transition),p()}]}}],b.module("ui.router.state").directive("uiSref",Fi).directive("uiSrefActive",Li).directive("uiSrefActiveEq",Li).directive("uiState",Ni),Yi.$inject=["$state"],Zi.$inject=["$state"],b.module("ui.router.state").filter("isState",Yi).filter("includedByState",Zi),Mi=["$view","$animate","$uiViewScroll","$interpolate","$q",function(i,o,g,w,_){var S={$cfg:{viewDecl:{$context:i._pluginapi._rootViewContext()}},$uiView:{}},$={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,e,y){return function(a,u,t){var s,c,f,l,e,h=t.onload||"",p=t.autoscroll,v={enter:function(t,e,r){2&lt;b.version.minor?o.enter(t,null,e).then(r):o.enter(t,null,e,r)},leave:function(t,e){2&lt;b.version.minor?o.leave(t).then(e):o.leave(t,e)}},r=u.inheritedData("$uiView")||S,d=w(t.uiView||t.name||"")(a)||"$default",m={$type:"ng1",id:$.count++,name:d,fqn:r.$uiView.fqn?r.$uiView.fqn+"."+d:d,config:null,configUpdated:function(t){if(t&amp;&amp;!(t instanceof yi))return;if(function(t,e){return t===e}(l,t))return;we.traceUIViewConfigUpdated(m,t&amp;&amp;t.viewDecl&amp;&amp;t.viewDecl.$context),n(l=t)},get creationContext(){var t=R("$cfg.viewDecl.$context")(r),e=R("$uiView.creationContext")(r);return t||e}};function n(t){var e=a.$new(),r=_.defer(),n=_.defer(),i={$cfg:t,$uiView:m},o={$animEnter:r.promise,$animLeave:n.promise,$$animLeave:n};e.$emit("$viewContentLoading",d),c=y(e,function(t){t.data("$uiViewAnim",o),t.data("$uiView",i),v.enter(t,u,function(){r.resolve(),f&amp;&amp;f.$emit("$viewContentAnimationEnded"),(E(p)&amp;&amp;!p||a.$eval(p))&amp;&amp;g(t)}),function(){if(s&amp;&amp;(we.traceUIViewEvent("Removing (previous) el",s.data("$uiView")),s.remove(),s=null),f&amp;&amp;(we.traceUIViewEvent("Destroying scope",m),f.$destroy(),f=null),c){var t=c.data("$uiViewAnim");we.traceUIViewEvent("Animate out",t),v.leave(c,function(){t.$$animLeave.resolve(),s=null}),s=c,c=null}}()}),(f=e).$emit("$viewContentLoaded",t||l),f.$eval(h)}we.traceUIViewEvent("Linking",m),u.data("$uiView",{$uiView:m}),n(),e=i.registerUIView(m),a.$on("$destroy",function(){we.traceUIViewEvent("Destroying/Unregistering",m),e()})}}};return $}],Xi.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var to="function"==typeof b.module("ui.router").component,eo=0;function ro(n,t,c,e,r){!T(c.$onInit)||(r.viewDecl.component||r.viewDecl.componentProvider)&amp;&amp;to||c.$onInit();var f=Pt(r.path).state.self,i={bind:c};if(T(c.uiOnParamsChanged)){var l=new Je(r.path).getResolvable("$transition$").data;e.$on("$destroy",t.onSuccess({},function(t){if(t!==l&amp;&amp;-1===t.exiting().indexOf(f)){var r=t.params("to"),n=t.params("from"),e=function(t){return t.paramSchema},i=t.treeChanges("to").map(e).reduce(mt,[]),o=t.treeChanges("from").map(e).reduce(mt,[]),a=i.filter(function(t){var e=o.indexOf(t);return-1===e||!o[e].type.equals(r[t.id],n[t.id])});if(a.length){var u=a.map(function(t){return t.id}),s=ct(r,function(t,e){return-1!==u.indexOf(e)});c.uiOnParamsChanged(s,t)}}},i))}if(T(c.uiCanExit)){var o=eo++,a="_uiCanExitIds",u=function(t){return!!t&amp;&amp;(t[a]&amp;&amp;!0===t[a][o]||u(t.redirectedFrom()))},s={exiting:f.name};e.$on("$destroy",t.onBefore(s,function(t){var e,r=t[a]=t[a]||{};return u(t)||(e=n.when(c.uiCanExit(t))).then(function(t){return r[o]=!1!==t}),e},i))}}b.module("ui.router.state").directive("uiView",Mi),b.module("ui.router.state").directive("uiView",Xi),b.module("ui.router.state").provider("$uiViewScroll",function(){var r=!1;this.useAnchorScroll=function(){r=!0},this.$get=["$anchorScroll","$timeout",function(t,e){return r?t:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]});d.$injector=Un,d.$q=In,d.BaseLocationServices=Mn,d.BaseUrlRule=Nr,d.BrowserLocationConfig=ii,d.Glob=Ht,d.HashLocationService=Wn,d.HookBuilder=Rr,d.MemoryLocationConfig=ni,d.MemoryLocationService=Yn,d.NATIVE_INJECTOR_TOKEN=We,d.Ng1ViewConfig=yi,d.Param=Te,d.ParamFactory=Ir,d.ParamType=_e,d.ParamTypes=ke,d.PathNode=He,d.PathUtils=qe,d.PushStateLocationService=ei,d.Queue=Dt,d.RegisteredHook=Sr,d.Rejection=Ft,d.Resolvable=Le,d.ResolveContext=Je,d.StateBuilder=or,d.StateMatcher=cr,d.StateObject=ur,d.StateParams=je,d.StateProvider=bi,d.StateQueueManager=lr,d.StateRegistry=dr,d.StateService=xn,d.TargetState=Ae,d.Trace=ye,d.Transition=Tr,d.TransitionEventType=En,d.TransitionHook=gr,d.TransitionService=kn,d.UIRouter=an,d.UIRouterGlobals=zr,d.UIRouterPluginBase=fi,d.UrlConfig=Zr,d.UrlMatcher=jr,d.UrlMatcherFactory=Dr,d.UrlRouter=Lr,d.UrlRouterProvider=Pi,d.UrlRuleFactory=Ur,d.UrlRules=Kr,d.UrlService=tn,d.ViewService=Br,d._extend=Ot,d._inArray=Y,d._pushTo=et,d._removeFrom=X,d.all=a,d.allTrueR=vt,d.ancestors=ot,d.and=i,d.any=f,d.anyTrueR=dt,d.applyPairs=Tt,d.arrayTuples=Ct,d.assertFn=Rt,d.assertMap=bt,d.assertPredicate=$t,d.beforeAfterSubstr=Kt,d.buildUrl=Nn,d.compose=r,d.copy=kt,d.core=hi,d.createProxyFunctions=J,d.curry=s,d.default="ui.router",d.defaultResolvePolicy=Ne,d.defaultTransOpts=Pn,d.defaults=nt,d.deregAll=rt,d.eq=o,d.equals=G,d.extend=B,d.filter=ct,d.find=ft,d.flatten=St,d.flattenR=yt,d.fnToString=zt,d.forEach=M,d.fromJson=N,d.functionToString=Gt,d.getLocals=Bi,d.getNg1ViewConfigFactory=pi,d.getParams=Hn,d.hashLocationPlugin=ui,d.hostRegex=Xt,d.identity=z,d.inArray=K,d.inherit=Q,d.invoke=v,d.is=h,d.isArray=x,d.isDate=j,d.isDefined=E,d.isFunction=T,d.isInjectable=H,d.isNull=_,d.isNullOrUndefined=C,d.isNumber=P,d.isObject=O,d.isPromise=A,d.isRegExp=V,d.isString=k,d.isUndefined=$,d.joinNeighborsR=ie,d.kebobString=Bt,d.keyValsToObjectR=Vn,d.locationPluginFactory=Ln,d.makeEvent=br,d.makeStub=I,d.map=ht,d.mapObj=lt,d.matchState=_r,d.maxLength=Lt,d.memoryLocationPlugin=ci,d.mergeR=it,d.ng1ViewsBuilder=di,d.noop=W,d.not=l,d.omit=ut,d.or=u,d.padString=Mt,d.pairs=Et,d.parse=R,d.parseUrl=Fn,d.pattern=g,d.pick=at,d.pipe=c,d.pluck=st,d.prop=m,d.propEq=y,d.pushR=gt,d.pushStateLocationPlugin=si,d.pushTo=tt,d.removeFrom=Z,d.resolvablesBuilder=ir,d.resolvePolicies=Fe,d.root=U,d.services=D,d.servicesPlugin=ai,d.silenceUncaughtInPromise=jt,d.silentRejection=Vt,d.splitEqual=re,d.splitHash=te,d.splitOnDelim=ne,d.splitQuery=ee,d.stringify=Qt,d.stripLastPathElement=Yt,d.tail=Pt,d.toJson=L,d.trace=we,d.trimHashVal=Zt,d.uniqR=wt,d.unnest=_t,d.unnestR=mt,d.val=p,d.values=pt,d.watchDigests=Ui,Object.defineProperty(d,"__esModule",{value:!0})});
</code></td></tr><tr><td id="L12" class="css-a4x74f"><span>12</span></td><td id="LC12" class="css-1dcdqdg"><code>//# sourceMappingURL=angular-ui-router.min.js.map
</code></td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p> <!-- -->2020<!-- --> UNPKG</p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a title="Twitter" href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="ap0i2q">.css-ap0i2q{color:#aaa;display:inline-block;margin-left:1rem;}.css-ap0i2q:hover{color:white;}</style><a title="GitHub" href="https://github.com/mjackson/unpkg" class="css-ap0i2q"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(m,v,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],f;for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a};return w.apply(this,arguments)}function I(a,b){if(null==a)return{};var c={},f=Object.keys(a),g;for(g=0;g<f.length;g++){var h=f[g];0<=b.indexOf(h)||(c[h]=a[h])}return c}function J(a,b){b||(b=a.slice(0));a.raw=b;return a}function K(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function x(a,b){return b={exports:{}},a(b,b.exports),b.exports}function L(){}function M(){}function fa(a){var b=a.children;a=I(a,["children"]);return E.createElement(N.Provider,{children:b,value:a})}function O(a){return a&&a.map(function(a,c){return m.createElement(a.tag,u({key:c},a.attr),O(a.child))})}function y(a){return function(b){return m.createElement(ha,u({attr:u({},a.attr)},b),O(a.child))}}function ha(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var d=
b.className;a.className&&(d=(d?d+" ":"")+a.className);var h=a.attr,n=a.title,l=["attr","title"],q={},p;for(p in a)Object.prototype.hasOwnProperty.call(a,p)&&0>l.indexOf(p)&&(q[p]=a[p]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var k=0;for(p=Object.getOwnPropertySymbols(a);k<p.length;k++)0>l.indexOf(p[k])&&(q[p[k]]=a[p[k]])}return m.createElement("svg",u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,q,{className:d,style:u({color:a.color||b.color},b.style,
a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),n&&m.createElement("title",null,n),a.children)};return void 0!==P?m.createElement(P.Consumer,null,function(a){return b(a)}):b(Q)}function z(a,b){var d=b.css;b=I(b,["css"]);return c.jsx(a,w({css:w({},d,{verticalAlign:"text-bottom"})},b))}function ia(a){return z(R,a)}function ja(a){return z(S,a)}function ka(a){return z(T,a)}function la(a){return z(U,a)}function ma(a){var b=a.path,d=a.details,f=[];"/"!==b&&f.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:F}),c.jsx("td",{css:t},c.jsx("a",{title:"Parent directory",href:"../",css:G},"..")),c.jsx("td",{css:t}),c.jsx("td",{css:H})));a=Object.keys(d).reduce(function(a,b){var c=a.subdirs,f=a.files;b=d[b];"directory"===b.type?c.push(b):"file"===b.type&&f.push(b);return a},{subdirs:[],files:[]});var g=a.files;a.subdirs.sort(V("path")).forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var d=a+"/";f.push(c.jsx("tr",{key:a},c.jsx("td",{css:F},c.jsx(ia,null)),c.jsx("td",{css:t},c.jsx("a",{title:a,
href:d,css:G},a)),c.jsx("td",{css:t},"-"),c.jsx("td",{css:H},"-")))});g.sort(V("path")).forEach(function(a){var d=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);f.push(c.jsx("tr",{key:a},c.jsx("td",{css:F},c.jsx(ja,null)),c.jsx("td",{css:t},c.jsx("a",{title:a,href:a,css:G},a)),c.jsx("td",{css:t},W(d)),c.jsx("td",{css:H},g)))});return c.jsx("div",{css:{border:"1px solid #dfe2e5",borderRadius:3,borderTopWidth:0,"@media (max-width: 700px)":{borderRightWidth:0,borderLeftWidth:0}}},c.jsx("table",
{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(A,null,"Icon")),c.jsx("th",null,c.jsx(A,null,"Name")),c.jsx("th",null,c.jsx(A,null,"Size")),c.jsx("th",null,c.jsx(A,null,"Content Type")))),c.jsx("tbody",null,f)))}function na(a){a=a.split("/");return a[a.length-1]}function oa(a){var b=a.uri;return c.jsx("div",{css:{padding:20,
textAlign:"center"}},c.jsx("img",{alt:na(a.path),src:b}))}function pa(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var d=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+d,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",
verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,d)),c.jsx("td",{id:"LC"+d,css:{paddingLeft:10,paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},
"No newline at end of file")))))}function qa(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},"No preview available."))}function ra(a){var b=a.path,d=a.details,f=m.useContext(N);a=f.packageName;f=f.packageVersion;var g=d.highlights,h=d.uri,n=d.language;d=d.size;var l=b.split("/");l=l[l.length-1];return c.jsx("div",{css:{border:"1px solid #dfe2e5",borderRadius:3,"@media (max-width: 700px)":{borderRightWidth:0,borderLeftWidth:0}}},c.jsx("div",{css:{padding:10,background:"#f6f8fa",
color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between","@media (max-width: 700px)":{paddingRight:20,paddingLeft:20}}},c.jsx("span",null,W(d))," ",c.jsx("span",null,n)," ",c.jsx("a",{title:l,href:"/"+a+"@"+f+b,css:{display:"inline-block",textDecoration:"none",padding:"2px 8px",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",
borderRadius:3,":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw")),g?c.jsx(pa,{highlights:g}):h?c.jsx(oa,{path:b,uri:h}):c.jsx(qa,null))}function X(){var a=J(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
X=function(){return a};return a}function Y(){var a=J(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
Y=function(){return a};return a}var E="default"in m?m["default"]:m;v=v&&v.hasOwnProperty("default")?v["default"]:v;var sa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Z=x(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case g:switch(a=a.type,a){case r:case e:case n:case q:case l:case B:return a;default:switch(a=a&&a.$$typeof,a){case k:case C:case p:return a;
default:return b}}case m:case D:case h:return b}}}function f(a){return c(a)===e}Object.defineProperty(b,"__esModule",{value:!0});var g=(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,n=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,q=a?Symbol.for("react.profiler"):60114,p=a?Symbol.for("react.provider"):60109,k=a?Symbol.for("react.context"):60110,r=a?Symbol.for("react.async_mode"):60111,e=a?Symbol.for("react.concurrent_mode"):
60111,C=a?Symbol.for("react.forward_ref"):60112,B=a?Symbol.for("react.suspense"):60113,D=a?Symbol.for("react.memo"):60115,m=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=r;b.ConcurrentMode=e;b.ContextConsumer=k;b.ContextProvider=p;b.Element=g;b.ForwardRef=C;b.Fragment=n;b.Lazy=m;b.Memo=D;b.Portal=h;b.Profiler=q;b.StrictMode=l;b.Suspense=B;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===n||a===e||a===q||a===l||a===B||"object"===typeof a&&null!==a&&(a.$$typeof===
m||a.$$typeof===D||a.$$typeof===p||a.$$typeof===k||a.$$typeof===C)};b.isAsyncMode=function(a){return f(a)||c(a)===r};b.isConcurrentMode=f;b.isContextConsumer=function(a){return c(a)===k};b.isContextProvider=function(a){return c(a)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===g};b.isForwardRef=function(a){return c(a)===C};b.isFragment=function(a){return c(a)===n};b.isLazy=function(a){return c(a)===m};b.isMemo=function(a){return c(a)===D};b.isPortal=function(a){return c(a)===
h};b.isProfiler=function(a){return c(a)===q};b.isStrictMode=function(a){return c(a)===l};b.isSuspense=function(a){return c(a)===B}});K(Z);var ta=x(function(a,b){});K(ta);x(function(a){a.exports=Z});(function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(f){return!1}})();Function.call.bind(Object.prototype.hasOwnProperty);M.resetWarningCache=L;var ua=function(){function a(a,b,c,d,l,q){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==q)throw a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),a.name="Invariant Violation",a;}
function b(){return a}a.isRequired=a;var c={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:M,resetWarningCache:L};return c.PropTypes=c};x(function(a){a.exports=ua()});var N=m.createContext(),va=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],f;for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a},wa={border:0,clip:"rect(0 0 0 0)",
height:"1px",width:"1px",margin:"-1px",padding:0,overflow:"hidden",position:"absolute"},A=function(a){return E.createElement("div",va({style:wa},a))},aa=x(function(a){(function(b,c){a.exports=c()})(sa,function(){function a(a){if(!a)return!0;if(!g(a)||0!==a.length)for(var c in a)if(p.call(a,c))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===q.call(a)}function f(a){return"string"===typeof a||"[object String]"===q.call(a)}function g(a){return"object"===typeof a&&"number"===
typeof a.length&&"[object Array]"===q.call(a)}function h(a){var c=parseInt(a);return c.toString()===a?c:a}function n(b,e,d,g){c(e)&&(e=[e]);if(a(e))return b;if(f(e))return n(b,e.split("."),d,g);var r=h(e[0]);if(1===e.length)return e=b[r],void 0!==e&&g||(b[r]=d),e;void 0===b[r]&&(c(r)?b[r]=[]:b[r]={});return n(b[r],e.slice(1),d,g)}function l(b,e){c(e)&&(e=[e]);if(!a(b)){if(a(e))return b;if(f(e))return l(b,e.split("."));var d=h(e[0]),r=b[d];if(1===e.length)void 0!==r&&(g(b)?b.splice(d,1):delete b[d]);
else if(void 0!==b[d])return l(b[d],e.slice(1));return b}}var q=Object.prototype.toString,p=Object.prototype.hasOwnProperty,k={ensureExists:function(a,b,c){return n(a,b,c,!0)},set:function(a,b,c,d){return n(a,b,c,d)},insert:function(a,b,c,d){var e=k.get(a,b);d=~~d;g(e)||(e=[],k.set(a,b,e));e.splice(d,0,c)},empty:function(b,d){if(a(d))return b;if(!a(b)){var e,h;if(!(e=k.get(b,d)))return b;if(f(e))return k.set(b,d,"");if("boolean"===typeof e||"[object Boolean]"===q.call(e))return k.set(b,d,!1);if(c(e))return k.set(b,
d,0);if(g(e))e.length=0;else if("object"===typeof e&&"[object Object]"===q.call(e))for(h in e)p.call(e,h)&&delete e[h];else return k.set(b,d,null)}},push:function(a,b){var c=k.get(a,b);g(c)||(c=[],k.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=k.get(a,b[e])))return d;return c},get:function(b,d,g){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return g;if(f(d))return k.get(b,d.split("."),g);var e=h(d[0]);return 1===
d.length?void 0===b[e]?g:b[e]:k.get(b[e],d.slice(1),g)},del:function(a,b){return l(a,b)}};return k})});var ba=function(a){return function(b){return typeof b===a}};var xa=function(a,b){var c=1,f=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,d){var g;b=f(a,aa.get(b,a));d=f(a,aa.get(d,a));b<d&&(g=-1);b>d&&(g=1);b===d&&(g=0);return g*c}};var V=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ba("string")),c=a.filter(ba("function"))[0];return function(a,
d){for(var f=b.length,g=0,l=0;0===g&&l<f;)g=xa(b[l],c)(a,d),l++;return g}};let ca="B kB MB GB TB PB EB ZB YB".split(" "),da=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var W=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let f=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=da(a,b.locale),f+a+" B";c=Math.min(Math.floor(Math.log10(a)/
3),ca.length-1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=da(a,b.locale);return f+a+" "+ca[c]},Q={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P=m.createContext&&m.createContext(Q),u=function(){u=Object.assign||function(a){for(var b,c=1,f=arguments.length;c<f;c++){b=arguments[c];for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(a[g]=b[g])}return a};return u.apply(this,arguments)},R=function(a){return y({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};R.displayName="GoFileDirectory";var S=function(a){return y({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};S.displayName="GoFile";var U=function(a){return y({tag:"svg",attr:{viewBox:"0 0 496 512"},
child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
U.displayName="FaGithub";var T=function(a){return y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
T.displayName="FaTwitter";var G={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},t={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},F=w({},t,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),H=w({},t,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}}),ya=c.css(Y(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),za=c.css(X()),ea={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}};v.hydrate(E.createElement(function(a){var b=a.packageName,d=a.packageVersion,f=a.availableVersions;f=void 0===f?[]:f;var g=a.filename;a=a.target;var h=[];if("/"===g)h.push(b);else{var n="/browse/"+b+"@"+d;h.push(c.jsx("a",{href:n+"/",css:ea},b));g=g.replace(/^\/+/,
"").replace(/\/+$/,"").split("/");var l=g.pop();g.forEach(function(a){n+="/"+a;h.push(c.jsx("a",{href:n+"/",css:ea},a))});h.push(l)}return c.jsx(fa,{packageName:b,packageVersion:d},c.jsx(m.Fragment,null,c.jsx(c.Global,{styles:ya}),c.jsx(c.Global,{styles:za}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx("header",{css:{textAlign:"center"}},c.jsx("h1",{css:{fontSize:"3rem",marginTop:"2rem"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},
"UNPKG"))),c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1}},c.jsx("nav",null,h.map(function(a,b,d){return c.jsx("span",{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===d.length-1?c.jsx("strong",null,a):a)}))),c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},
c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:d,onChange:function(a){window.location.href=window.location.href.replace("@"+d,"@"+a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},f.map(function(a){return c.jsx("option",{key:a,value:a},a)})))))),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},"directory"===a.type?c.jsx(ma,{path:a.path,
details:a.details}):"file"===a.type?c.jsx(ra,{path:a.path,details:a.details}):null)),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,"\u00a9 ",(new Date).getFullYear()," UNPKG"),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{title:"Twitter",href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",
":hover":{color:"white"}}},c.jsx(ka,null)),c.jsx("a",{title:"GitHub",href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",marginLeft:"1rem",":hover":{color:"white"}}},c.jsx(la,null)))))))},window.__DATA__||{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>